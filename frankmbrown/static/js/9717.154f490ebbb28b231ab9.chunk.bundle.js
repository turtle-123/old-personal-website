"use strict";(self.webpackChunkbundled_client_code=self.webpackChunkbundled_client_code||[]).push([[9717],{79717:function(e,t,a){a.r(t),a.d(t,{onLoadCreateGradient:function(){return P},updateForm:function(){return R}});var r=a(60429),n=/^#[0-9A-F]{6}$/i;function i(e){return Boolean("number"==typeof e&&!isNaN(e)&&isFinite(e))}function o(e){var t=e.type,a=e.className,r=e.style,n=e.attributes,i=e.innerText,o=e.innerHTML,s=document.createElement(t);if(a&&(s.className=a),r&&(s.style.cssText=r),n)for(var d=0,l=Object.keys(n);d<l.length;d++){var c=l[d];s.setAttribute(c,n[c])}return i&&(s.innerText=i),o&&s.insertAdjacentHTML("afterbegin",o),s}function s(e){var t=e.id,a=e.min,r=e.max,n=e.step,i=void 0===n?1:n,s=e.defaultValue,d=e.label,l=e.placeholder,c=e.disabled,u=void 0!==c&&c,p=e.required,m=void 0!==p&&p,f=o({type:"div",className:"input-group block grow-1"}),v=o({type:"label",attributes:{for:t},innerText:d});u&&v.classList.add("disabled");var y=o({type:"div",className:"mt-1 number-input medium"}),b=o({type:"input",attributes:{type:"number",name:t,id:t,autocomplete:"off",spellcheck:"false",autocapitalize:"off"}});m&&b.setAttribute("required","");var h=function(e){void 0===e&&(e=!1);var t=o({type:"button",attributes:{type:"button","aria-label":"Increase Input","data-increase":""},className:"icon large"});return t.insertAdjacentHTML("afterbegin",'<svg focusable="false" inert viewBox="0 0 24 24"><path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"></path></svg>'),e&&t.setAttribute("disabled",""),t}(),g=function(e){void 0===e&&(e=!1);var t=o({type:"button",attributes:{type:"button","aria-label":"Decrease Input","data-decrease":""},className:"icon large"});return t.insertAdjacentHTML("afterbegin",'<svg focusable="false" inert viewBox="0 0 24 24"><path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"></path></svg>'),e&&t.setAttribute("disabled",""),t}();return u&&(h.setAttribute("disabled",""),g.setAttribute("disabled",""),b.setAttribute("disabled","")),isNaN(i)||b.setAttribute("step",String(i)),isNaN(a)||b.setAttribute("min",String(a)),isNaN(r)||b.setAttribute("max",String(r)),s&&b.setAttribute("value",s),l&&b.setAttribute("placeholder",l),y.append(b,h,g),f.append(v,y),f}function d(e,t){var a=t.getAttribute("offset");if(a){var r=parseFloat(a.slice(0,a.length-1)),n=Array.from(e.children);if(n.length&&!isNaN(r)&&isFinite(r)){for(var i=0;i<n.length;i++){var o=n[i].getAttribute("offset");if(o){var s=parseFloat(o.slice(0,o.length-1));if(isFinite(s)&&!isNaN(s)&&r<s)return void n[i].insertAdjacentElement("beforebegin",t)}}e.append(t)}else e.append(t)}}function l(e){var t=this.id,a=this.value;if(t&&n.test(a)){var r=t.replace("stop_color_",""),i=document.getElementById(r);i&&i.setAttribute("stop-color",a)}}function c(e){var t=this.id,a=this.value,r=parseFloat(a);if(t&&!isNaN(r)&&isFinite(r)&&r>=0&&r<=1){var n=t.replace("stop_opacity_",""),i=document.getElementById(n);i&&i.setAttribute("stop-opacity",a)}}function u(e){var t=this.id,a=this.value,r=parseFloat(a);if(t&&!isNaN(r)&&isFinite(r)&&r>=0&&r<=100){var n=t.replace("stop_off_id_",""),i=document.getElementById(n);if(i){var o=i.parentElement;if(o){i.setAttribute("offset",a.concat("%"));var s=i.cloneNode(!1);i.remove(),d(o,s)}}}}function p(e){var t=this.closest("form"),a=this.getAttribute("data-delete-stop"),r=this.closest("div[data-stop]");if(t&&a&&r){var n=document.getElementById(a);n&&(r.remove(),n.remove(),R(t))}}function m(e,t,a,r){var n="stop_off_id_".concat(e),i="stop_color_".concat(e),d="stop_opacity_".concat(e),l=o({type:"div",className:"flex-column w-100 gap-2 mt-1 p-md",attributes:{"data-stop":""},style:"border: 2px solid var(--divider); border-radius: 6px;"}),c=o({type:"div",className:"flex-row align-center justify-start gap-2 w-100"}),u=o({type:"div",className:"flex-row align-center justify-start gap-2 w-100 mt-1"}),p=s({id:n,min:0,max:100,label:"Stop Offset:",defaultValue:String(a)}),m=function(e,t){var a=o({type:"div",className:"block"}),r=o({type:"label",innerText:"Stop Color:",attributes:{for:t},className:"body2"}),n=o({type:"div",className:"flex-row align-center justify-begin gap-2"}),i=o({type:"input",attributes:{type:"color",value:e,name:t,id:t},style:"margin-top:2px;"}),s=o({type:"span",className:"body2"});return s.innerText=e,n.append(i,s),a.append(r,n),a}(t,i);c.append(p,m);var f=s({id:d,min:0,max:1,step:.01,label:"Stop Opacity:",defaultValue:String(r)}),v=function(e){var t=o({type:"button",attributes:{type:"button","data-delete-stop":e},className:"icon medium"});return t.insertAdjacentHTML("afterbegin",'<svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>'),t}(e);return u.append(f,v),l.append(c,u),l}function f(e){var t=document.querySelector("html"),a=this.closest("form"),r=this.closest("div[data-stop-container]");if(r&&t&&a){var n=a.id,i=r.querySelector("div[data-stop-list]");if(i&&n&&("create-gradient-linear"===n||"create-gradient-radial"===n)){var o=void 0;if("create-gradient-linear"===n?o=document.getElementById("example-linear-gradient"):"create-gradient-radial"===n&&(o=document.getElementById("example-radial-gradient")),o){var s=document.createElementNS("http://www.w3.org/2000/svg","stop"),l=Math.floor(100*Math.random()),c=Number(Math.random().toFixed(2)),u="stop_".concat(window.crypto.randomUUID()),p="#000000".replace(/0/g,(function(){return(~~(16*Math.random())).toString(16)}));s.setAttribute("offset",String(l).concat("%")),s.setAttribute("stop-opacity",String(c)),s.setAttribute("stop-color",p),s.setAttribute("id",u),i.append(m(u,p,l,c)),d(o,s),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED"))}}}}function v(e){var t=e.querySelector("div[data-stop-container]");if(t){var a=t.querySelector("button[data-add-stop]");a&&a.addEventListener("click",f);var r=function(e){var t=e.querySelector("div[data-stop-container]");return t?Array.from(t.querySelectorAll("div[data-stop]")):null}(e);r&&r.length&&r.forEach((function(e){var t=e.querySelector("button[data-delete-stop]"),a=e.querySelector('input[type="color"]'),r=e.querySelector('input[type="number"][id^="stop_off_id_"]'),n=e.querySelector('input[type="number"][id^="stop_opacity_"]');t&&t.addEventListener("click",p),a&&a.addEventListener("change",l),r&&r.addEventListener("change",u),n&&n.addEventListener("change",c)}))}}var y="linear-transforms-container",b="radial-transforms-container";function h(e){var t=function(e){var t,a=e.id;if("create-gradient-radial"===a?t=document.getElementById(b):"create-gradient-linear"===a&&(t=document.getElementById(y)),t){var r=Array.from(t.querySelectorAll("div[data-transform]")),n="";return r.forEach((function(e){var t=e.getAttribute("data-type");if("matrix"===t){var a=e.querySelector('input[type="number"][id^="a_"]'),r=e.querySelector('input[type="number"][id^="b_"]'),i=e.querySelector('input[type="number"][id^="c_"]'),o=e.querySelector('input[type="number"][id^="d_"]'),s=e.querySelector('input[type="number"][id^="e_"]'),d=e.querySelector('input[type="number"][id^="f_"]');if(a&&r&&i&&o&&s&&d){var l=parseFloat(a.value),c=parseFloat(r.value),u=parseFloat(i.value),p=parseFloat(o.value),m=parseFloat(s.value),f=parseFloat(d.value);!isNaN(l)&&isFinite(l)&&!isNaN(c)&&isFinite(c)&&!isNaN(u)&&isFinite(u)&&!isNaN(p)&&isFinite(p)&&!isNaN(m)&&isFinite(m)&&!isNaN(f)&&isFinite(f)&&(n+=" matrix(".concat(l," ").concat(c," ").concat(u," ").concat(p," ").concat(m," ").concat(f,")"))}}else if("translate"===t){var v=e.querySelector('input[type="number"][id^="x_"]'),y=e.querySelector('input[type="number"][id^="y_"]');if(v&&y){var b=parseFloat(v.value),h=parseFloat(y.value);!isNaN(b)&&isFinite(b)&&!isNaN(h)&&isFinite(h)&&(n+=" translate(".concat(b," ").concat(h,")"))}}else if("scale"===t)v=e.querySelector('input[type="number"][id^="x_"]'),y=e.querySelector('input[type="number"][id^="y_"]'),v&&y&&(b=parseFloat(v.value),h=parseFloat(y.value),!isNaN(b)&&isFinite(b)&&!isNaN(h)&&isFinite(h)&&(n+=" scale(".concat(b,", ").concat(h,")")));else if("rotate"===t){a=e.querySelector('input[type="number"][id^="a_"]');var g=e.querySelector('input[type="checkbox"]');if(v=e.querySelector('input[type="number"][id^="x_"]'),y=e.querySelector('input[type="number"][id^="y_"]'),a&&g&&v&&y){l=parseFloat(a.value);var x=g.checked;if(b=parseFloat(v.value),h=parseFloat(y.value),!x||v.hasAttribute("disabled")&&y.hasAttribute("disabled"))x||!v.hasAttribute("disabled")&&!y.hasAttribute("disabled")||(v.removeAttribute("disabled"),y.removeAttribute("disabled"),E=v.parentElement,w=y.parentElement,E&&w&&Array.from(E.querySelectorAll("button")).concat(Array.from(w.querySelectorAll("button"))).forEach((function(e){return e.removeAttribute("disabled")})));else{v.setAttribute("disabled",""),y.setAttribute("disabled","");var E=v.parentElement,w=y.parentElement;E&&w&&Array.from(E.querySelectorAll("button")).concat(Array.from(w.querySelectorAll("button"))).forEach((function(e){return e.setAttribute("disabled","")}))}!isNaN(l)&&isFinite(l)&&x&&l>=-360&&l<=360?n+=" rotate(".concat(l,")"):!x&&!isNaN(l)&&isFinite(l)&&l>=-360&&l<=360&&!isNaN(b)&&isFinite(b)&&!isNaN(h)&&isFinite(h)&&(n+=" rotate(".concat(l,", ").concat(b,", ").concat(h,")"))}}else"skewX"===t?(a=e.querySelector('input[type="number"][id^="a_"]'))&&(l=parseFloat(a.value),!isNaN(l)&&isFinite(l)&&l>=-360&&l<=360&&(n+=" skewX(".concat(l,")"))):"skewY"===t&&(a=e.querySelector('input[type="number"][id^="a_"]'))&&(l=parseFloat(a.value),!isNaN(l)&&isFinite(l)&&l>=-360&&l<=360&&(n+=" skewY(".concat(l,")")))})),n.length?n.slice(1):null}return null}(e);if(t&&t.length)"create-gradient-linear"===e.id?(a=document.getElementById("example-linear-gradient"))&&a.setAttribute("gradientTransform",t):"create-gradient-radial"===e.id&&(a=document.getElementById("example-radial-gradient"))&&a.setAttribute("gradientTransform",t);else if("create-gradient-linear"===e.id)(a=document.getElementById("example-linear-gradient"))&&a.removeAttribute("gradientTransform");else if("create-gradient-radial"===e.id){var a;(a=document.getElementById("example-radial-gradient"))&&a.removeAttribute("gradientTransform")}}function g(e){var t=this.closest("div[data-transform]"),a=this.closest("form");t&&a&&(t.remove(),R(a),h(a))}function x(e){var t=this.closest("form");t&&h(t)}function E(e){var t=document.querySelector("html"),a=this.closest("form"),r=this.closest("fieldset"),n=void 0;if(a){var i=a.id;if("create-gradient-radial"===i?n=document.getElementById(b):"create-gradient-linear"===i&&(n=document.getElementById(y)),r&&n&&a&&t){var d=r.querySelector('input[type="radio"]:checked');if(d){var l=d.value;if("matrix"===l){var c=function(){var e=o({type:"div",className:"block mt-1 p-md",style:"border: 2px solid var(--divider); border-radius: 6px;",attributes:{"data-transform":"","data-type":"matrix"}}),t=o({type:"div",className:"flex-row align-center justify-between"}),a=o({type:"p",className:"body1 fw-regular bold",innerText:"Matrix Transform"}),r=o({type:"button",attributes:{type:"button","data-delete-transform":""},className:"icon medium",innerHTML:'<svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>'});t.append(a,r);var n=o({type:"div",className:"flex-row align-center w-100"}),i=["a_","b_","c_","d_","e_","f_"].map((function(e){return e.concat(window.crypto.randomUUID())})),d=s({id:i[0],label:"a:",defaultValue:"1",step:.01});d.setAttribute("data-letter","a");var l=s({id:i[1],label:"b:",defaultValue:"0",step:.01});l.setAttribute("data-letter","b"),n.append(d,l);var c=o({type:"div",className:"flex-row align-center w-100"}),u=s({id:i[2],label:"c:",defaultValue:"0",step:.01});u.setAttribute("data-letter","b");var p=s({id:i[3],label:"d:",defaultValue:"1",step:.01});p.setAttribute("data-letter","b"),c.append(u,p);var m=o({type:"div",className:"flex-row align-center w-100"}),f=s({id:i[4],label:"e:",defaultValue:"0",step:.01});f.setAttribute("data-letter","e");var v=s({id:i[5],label:"f:",defaultValue:"0",step:.01});return v.setAttribute("data-letter","f"),m.append(f,v),e.append(t,n,c,m),e}();n.append(c),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED"))}else if("translate"===l){var u=function(){var e=o({type:"div",className:"block mt-1 p-md",style:"border: 2px solid var(--divider); border-radius: 6px;",attributes:{"data-transform":"","data-type":"translate"}}),t=o({type:"div",className:"flex-row align-center justify-between"}),a=o({type:"p",className:"body1 fw-regular bold",innerText:"Translate Transform"}),r=o({type:"button",attributes:{type:"button","data-delete-transform":""},className:"icon medium",innerHTML:'<svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>'});t.append(a,r);var n=o({type:"div",className:"flex-row align-center w-100"}),i="x_".concat(window.crypto.randomUUID()),d="y_".concat(window.crypto.randomUUID()),l=s({id:i,label:"Translate X:",defaultValue:"0",step:.01}),c=s({id:d,label:"Translate Y:",defaultValue:"0",step:.01});return n.append(l,c),e.append(t,n),e}();n.append(u),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED"))}else if("scale"===l){var p=function(){var e=o({type:"div",className:"block mt-1 p-md",style:"border: 2px solid var(--divider); border-radius: 6px;",attributes:{"data-transform":"","data-type":"scale"}}),t=o({type:"div",className:"flex-row align-center justify-between"}),a=o({type:"p",className:"body1 fw-regular bold",innerText:"Scale Transform"}),r=o({type:"button",attributes:{type:"button","data-delete-transform":""},className:"icon medium",innerHTML:'<svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>'});t.append(a,r);var n=o({type:"div",className:"flex-row align-center w-100"}),i="x_".concat(window.crypto.randomUUID()),d="y_".concat(window.crypto.randomUUID()),l=s({id:i,label:"Scale X:",defaultValue:"1",step:.01}),c=s({id:d,label:"Scale Y:",defaultValue:"1",step:.01});return n.append(l,c),e.append(t,n),e}();n.append(p),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED"))}else if("rotate"===l){var m=function(){var e=o({type:"div",className:"block mt-1 p-md",style:"border: 2px solid var(--divider); border-radius: 6px;",attributes:{"data-transform":"","data-type":"rotate"}}),t=o({type:"div",className:"flex-row align-center justify-between"}),a=o({type:"p",className:"body1 fw-regular bold",innerText:"Rotate Transform"}),r=o({type:"button",attributes:{type:"button","data-delete-transform":""},className:"icon medium",innerHTML:'<svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>'});t.append(a,r);var n=o({type:"div",className:"flex-row align-center w-100"}),i="a_".concat(window.crypto.randomUUID()),d="orig_".concat(window.crypto.randomUUID()),l=s({id:i,label:"Rotate Degrees:",min:-360,max:360,defaultValue:"0"}),c=o({type:"label",className:"checkbox",style:"margin: 0px 6px;"});c.append(o({type:"input",className:"secondary",attributes:{type:"checkbox",name:d,id:d,checked:""}}),document.createTextNode("Use Center Origin")),n.append(l,c);var u=o({type:"div",className:"flex-row align-center w-100"}),p="x_".concat(window.crypto.randomUUID()),m="y_".concat(window.crypto.randomUUID()),f=s({id:p,label:"X Rotate Origin:",defaultValue:"0",disabled:!0}),v=s({id:m,label:"Y Rotate Origin:",defaultValue:"0",disabled:!0});return u.append(f,v),e.append(t,n,u),e}();n.append(m),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED"))}else if("skewX"===l){var f=function(){var e=o({type:"div",className:"block mt-1 p-md",style:"border: 2px solid var(--divider); border-radius: 6px;",attributes:{"data-transform":"","data-type":"skewX"}}),t=o({type:"div",className:"flex-row align-center justify-between"}),a=o({type:"p",className:"body1 fw-regular bold",innerText:"SkewX Transform"}),r=o({type:"button",attributes:{type:"button","data-delete-transform":""},className:"icon medium",innerHTML:'<svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>'});t.append(a,r);var n=o({type:"div",className:"flex-row align-center w-100"}),i=s({id:"a_".concat(window.crypto.randomUUID()),min:-360,max:360,label:"Skew X Degrees:",defaultValue:"0"});return n.append(i),e.append(t,n),e}();n.append(f),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED"))}else if("skewY"===l){var v=function(){var e=o({type:"div",className:"block mt-1 p-md",style:"border: 2px solid var(--divider); border-radius: 6px;",attributes:{"data-transform":"","data-type":"skewY"}}),t=o({type:"div",className:"flex-row align-center justify-between"}),a=o({type:"p",className:"body1 fw-regular bold",innerText:"SkewY Transform"}),r=o({type:"button",attributes:{type:"button","data-delete-transform":""},className:"icon medium",innerHTML:'<svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>'});t.append(a,r);var n=o({type:"div",className:"flex-row align-center w-100"}),i=s({id:"a_".concat(window.crypto.randomUUID()),min:-360,max:360,label:"Skew Y Degrees:",defaultValue:"0"});return n.append(i),e.append(t,n),e}();n.append(v),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED"))}}}}}function w(e){var t,a=e.id;"create-gradient-radial"===a?t=document.getElementById(b):"create-gradient-linear"===a&&(t=document.getElementById(y)),t&&Array.from(t.querySelectorAll("div[data-transform]")).forEach((function(e){var t=Array.from(e.querySelectorAll("input"));t&&t.length&&t.forEach((function(e){return e.addEventListener("change",x)}));var a=e.querySelector("button[data-delete-transform]");a&&a.addEventListener("click",g)}))}var N=function(e,t,a,r){return new(a||(a=Promise))((function(n,i){function o(e){try{d(r.next(e))}catch(e){i(e)}}function s(e){try{d(r.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}d((r=r.apply(e,t||[])).next())}))},A=function(e,t){var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(d){return function(s){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(a=1,r&&(n=2&s[0]?r.return:s[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,s[1])).done)return n;switch(r=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((n=(n=o.trys).length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{a=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,d])}}},S="example-radial-gradient",F="example-linear-gradient",T=function(e){return Boolean(new Set(["pad","reflect","repeat"]).has(e))};function L(e){var t=_(),a=this.querySelector('input[name="gradient-type"]:checked');if(a){var r=a.value;"linear"===r?(t.createRadialGradientForm&&t.createRadialGradientForm.setAttribute("hidden",""),t.createLinearGradientForm&&t.createLinearGradientForm.removeAttribute("hidden"),t.rectToChange&&t.rectToChange.setAttribute("fill","url(#".concat(F,")"))):"radial"===r&&(t.createLinearGradientForm&&t.createLinearGradientForm.setAttribute("hidden",""),t.createRadialGradientForm&&t.createRadialGradientForm.removeAttribute("hidden"),t.rectToChange&&t.rectToChange.setAttribute("fill","url(#".concat(S,")")))}}function _(){return{createGradientForm:document.getElementById("create-gradient-form"),createRadialGradientForm:document.getElementById("create-gradient-radial"),createLinearGradientForm:document.getElementById("create-gradient-linear"),rectToChange:document.getElementById("rect-to-change")}}function M(e,t,a){var r={stops:[],transforms:[],spreadMethod:"pad"};if(e){var i=e.querySelector('input[type="radio"]:checked');if(i){var o=i.value;T(o)&&(r.spreadMethod=o)}}return t&&Array.from(t.querySelectorAll("div[data-stop]")).forEach((function(e){var t=e.querySelector('input[type="number"][id^="stop_off"]'),a=e.querySelector('input[type="number"][id^="stop_opacity"]'),i=e.querySelector('input[type="color"]');if(t&&a&&i){var o=parseFloat(t.value),s=parseFloat(a.value),d=i.value;o>=0&&o<=100&&s>=0&&s<=1&&n.test(d)&&r.stops&&r.stops.push({offset:o,stopOpacity:s,stopColor:d})}})),a&&Array.from(a.querySelectorAll("div[data-transform]")).forEach((function(e){var t=e.getAttribute("data-type");if("matrix"===t){var a=e.querySelector('input[type="number"][id^="a_"]'),n=e.querySelector('input[type="number"][id^="b_"]'),i=e.querySelector('input[type="number"][id^="c_"]'),o=e.querySelector('input[type="number"][id^="d_"]'),s=e.querySelector('input[type="number"][id^="e_"]'),d=e.querySelector('input[type="number"][id^="f_"]');if(a&&n&&i&&o&&s&&d){var l=parseFloat(a.value),c=parseFloat(n.value),u=parseFloat(i.value),p=parseFloat(o.value),m=parseFloat(s.value),f=parseFloat(d.value);!isNaN(l)&&isFinite(l)&&!isNaN(c)&&isFinite(c)&&!isNaN(u)&&isFinite(u)&&!isNaN(p)&&isFinite(p)&&!isNaN(m)&&isFinite(m)&&!isNaN(f)&&isFinite(f)&&r.transforms&&r.transforms.push({type:"matrix",a:l,b:c,c:u,d:p,e:m,f:f})}}else if("translate"===t){var v=e.querySelector('input[type="number"][id^="x_"]'),y=e.querySelector('input[type="number"][id^="y_"]');if(v&&y){var b=parseFloat(v.value),h=parseFloat(y.value);!isNaN(b)&&isFinite(b)&&!isNaN(h)&&isFinite(h)&&r.transforms&&r.transforms.push({type:"translate",x:b,y:h})}}else if("scale"===t)v=e.querySelector('input[type="number"][id^="x_"]'),y=e.querySelector('input[type="number"][id^="y_"]'),v&&y&&(b=parseFloat(v.value),h=parseFloat(y.value),!isNaN(b)&&isFinite(b)&&!isNaN(h)&&isFinite(h)&&r.transforms&&r.transforms.push({type:"scale",x:b,y:h}));else if("rotate"===t){a=e.querySelector('input[type="number"][id^="a_"]');var g=e.querySelector('input[type="checkbox"]');if(v=e.querySelector('input[type="number"][id^="x_"]'),y=e.querySelector('input[type="number"][id^="y_"]'),a&&g&&v&&y){l=parseFloat(a.value);var x=g.checked;if(b=parseFloat(v.value),h=parseFloat(y.value),!x||v.hasAttribute("disabled")&&y.hasAttribute("disabled"))x||!v.hasAttribute("disabled")&&!y.hasAttribute("disabled")||(v.removeAttribute("disabled"),y.removeAttribute("disabled"),E=v.parentElement,w=y.parentElement,E&&w&&Array.from(E.querySelectorAll("button")).concat(Array.from(w.querySelectorAll("button"))).forEach((function(e){return e.removeAttribute("disabled")})));else{v.setAttribute("disabled",""),y.setAttribute("disabled","");var E=v.parentElement,w=y.parentElement;E&&w&&Array.from(E.querySelectorAll("button")).concat(Array.from(w.querySelectorAll("button"))).forEach((function(e){return e.setAttribute("disabled","")}))}!isNaN(l)&&isFinite(l)&&x&&l>=-360&&l<=360?r.transforms&&r.transforms.push({type:"rotate",a:l,useDefaultOrigin:!0,x:void 0,y:void 0}):!x&&!isNaN(l)&&isFinite(l)&&l>=-360&&l<=360&&!isNaN(b)&&isFinite(b)&&!isNaN(h)&&isFinite(h)&&r.transforms&&r.transforms.push({type:"rotate",a:l,useDefaultOrigin:!1,x:b,y:h})}}else"skewX"===t?(a=e.querySelector('input[type="number"][id^="a_"]'))&&(l=parseFloat(a.value),!isNaN(l)&&isFinite(l)&&l>=-360&&l<=360&&r.transforms&&r.transforms.push({type:"skewX",a:l})):"skewY"===t&&(a=e.querySelector('input[type="number"][id^="a_"]'))&&(l=parseFloat(a.value),!isNaN(l)&&isFinite(l)&&l>=-360&&l<=360&&r.transforms&&r.transforms.push({type:"skewY",a:l}))})),r}function q(){return{cx:document.getElementById("radial-gradient-cx"),cy:document.getElementById("radial-gradient-cy"),fx:document.getElementById("radial-gradient-fx"),fy:document.getElementById("radial-gradient-fy"),fr:document.getElementById("radial-gradient-fr"),r:document.getElementById("radial-gradient-r"),radialSpreadRadiusFieldset:document.getElementById("radial-spread-rad-fs"),radialAddTransformButton:document.getElementById("radial-add-transform"),radialTransformsDiv:document.getElementById("radial-transforms-container"),radialGradientEl:document.getElementById(S),radialStopList:document.getElementById("radial-stop-list")}}function B(e){return function(){var t=q();if("fs"!==e){var a,r=this.value,n=Number(r);a="r"===e||"fr"===e?Math.min(100,Math.max(0,n)):Math.min(100,Math.max(-100,n)),t.radialGradientEl&&t.radialGradientEl.setAttribute(e,String(a).concat("%"))}else if("fs"===e){var i=this.querySelector('input[type="radio"]:checked');if(i){var o=i.value;T(o)&&t.radialGradientEl&&t.radialGradientEl.setAttribute("spreadMethod",String(o))}}}}function k(e){return N(this,void 0,void 0,(function(){var t,a,r,n,o,s;return A(this,(function(d){switch(d.label){case 0:return e.preventDefault(),e.stopPropagation(),t=q(),a={},t.cx&&(a.cx=Math.min(Math.max(parseFloat(t.cx.value),-100),100)),t.cy&&(a.cy=Math.min(Math.max(parseFloat(t.cy.value),-100),100)),t.fr&&(a.fr=Math.min(Math.max(parseFloat(t.fr.value),0),100)),t.r&&(a.r=Math.min(Math.max(parseFloat(t.r.value),0),100)),t.fx&&(a.fx=Math.min(Math.max(parseFloat(t.fx.value),-100),100)),t.fy&&(a.fy=Math.min(Math.max(parseFloat(t.fy.value),-100),100)),i(a.cx)&&i(a.cy)&&i(a.fr)&&i(a.r)&&i(a.fx)&&i(a.fy)?t.radialSpreadRadiusFieldset&&t.radialStopList&&t.radialTransformsDiv?(r=M(t.radialSpreadRadiusFieldset,t.radialStopList,t.radialTransformsDiv),n=r.spreadMethod,o=r.stops,s=r.transforms,a.spreadMethod=n,a.stops=o,a.transforms=s,[4,W(a)]):[3,2]:[2];case 1:d.sent(),I(),d.label=2;case 2:return[2]}}))}))}function I(){document.querySelector("html");var e=q();e.cx&&(e.cx.value="50"),e.cy&&(e.cy.value="50"),e.fx&&(e.fx.value="50"),e.fy&&(e.fy.value="50"),e.fr&&(e.fr.value="0"),e.r&&(e.r.value="50"),e.radialSpreadRadiusFieldset&&Array.from(e.radialSpreadRadiusFieldset.querySelectorAll('input[type="radio"]')).forEach((function(e){"pad"===e.value?e.checked=!0:e.checked=!1})),e.radialTransformsDiv&&(e.radialTransformsDiv.innerHTML=""),e.radialGradientEl&&(e.radialGradientEl.setAttribute("cx","50%"),e.radialGradientEl.setAttribute("cy","50%"),e.radialGradientEl.setAttribute("fx","50%"),e.radialGradientEl.setAttribute("fy","50%"),e.radialGradientEl.setAttribute("fr","0%"),e.radialGradientEl.setAttribute("r","50%"),e.radialGradientEl.setAttribute("spreadMethod","pad"),e.radialGradientEl.removeAttribute("gradientTransform"),e.radialGradientEl.innerHTML=""),e.radialStopList&&(e.radialStopList.innerHTML="",[{offset:0,stopColor:"#FF0000",stopOpacity:1},{offset:100,stopColor:"#0000FF",stopOpacity:1}].forEach((function(t){var a=document.createElementNS("http://www.w3.org/2000/svg","stop"),r=t.offset,n=t.stopOpacity,i="stop_".concat(window.crypto.randomUUID()),o=t.stopColor;a.setAttribute("offset",String(r).concat("%")),a.setAttribute("stop-opacity",String(n)),a.setAttribute("stop-color",t.stopColor),a.setAttribute("id",i),e.radialStopList.append(m(i,o,r,n)),e.radialGradientEl&&d(e.radialGradientEl,a)}))),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED"))}function G(e){e.preventDefault(),e.stopPropagation(),I()}function D(){return{x1:document.getElementById("linear-gradient-x1"),x2:document.getElementById("linear-gradient-x2"),y1:document.getElementById("linear-gradient-y1"),y2:document.getElementById("linear-gradient-y2"),linearSpreadRadiusFieldset:document.getElementById("linear-spread-rad-fs"),linearAddTransformButton:document.getElementById("linear-add-transform"),linearTransformsDiv:document.getElementById("linear-transforms-container"),linearGradientEl:document.getElementById(F),linearStopList:document.getElementById("linear-stop-list")}}function H(e){return N(this,void 0,void 0,(function(){var t,a,r,n,o,s;return A(this,(function(d){switch(d.label){case 0:return e.preventDefault(),e.stopPropagation(),t=D(),a={},t.x1&&(a.x1=Math.min(Math.max(parseFloat(t.x1.value),-100),100)),t.x2&&(a.x2=Math.min(Math.max(parseFloat(t.x2.value),-100),100)),t.y1&&(a.y1=Math.min(Math.max(parseFloat(t.y1.value),-100),100)),t.y2&&(a.y2=Math.min(Math.max(parseFloat(t.y2.value),-100),100)),i(a.x1)&&i(a.x2)&&i(a.y1)&&i(a.y2)?t.linearSpreadRadiusFieldset&&t.linearStopList&&t.linearTransformsDiv?(r=M(t.linearSpreadRadiusFieldset,t.linearStopList,t.linearTransformsDiv),n=r.spreadMethod,o=r.stops,s=r.transforms,a.spreadMethod=n,a.stops=o,a.transforms=s,[4,W(a)]):[3,2]:[2];case 1:d.sent(),C(),d.label=2;case 2:return[2]}}))}))}function C(){document.querySelector("html");var e=D();e.x1&&(e.x1.value="0"),e.x2&&(e.x2.value="100"),e.y1&&(e.y1.value="0"),e.y2&&(e.y2.value="0"),e.linearSpreadRadiusFieldset&&Array.from(e.linearSpreadRadiusFieldset.querySelectorAll('input[type="radio"]')).forEach((function(e){"pad"===e.value?e.checked=!0:e.checked=!1})),e.linearTransformsDiv&&(e.linearTransformsDiv.innerHTML=""),e.linearGradientEl&&(e.linearGradientEl.setAttribute("x1","0%"),e.linearGradientEl.setAttribute("x2","100%"),e.linearGradientEl.setAttribute("y1","0%"),e.linearGradientEl.setAttribute("y2","0%"),e.linearGradientEl.setAttribute("spreadMethod","pad"),e.linearGradientEl.removeAttribute("gradientTransform"),e.linearGradientEl.innerHTML=""),e.linearStopList&&(e.linearStopList.innerHTML="",[{offset:0,stopColor:"#0000FF",stopOpacity:1},{offset:50,stopColor:"#FF0000",stopOpacity:1},{offset:100,stopColor:"#00FF00",stopOpacity:1}].forEach((function(t){var a=document.createElementNS("http://www.w3.org/2000/svg","stop"),r=t.offset,n=t.stopOpacity,i="stop_".concat(window.crypto.randomUUID()),o=t.stopColor;a.setAttribute("offset",String(r).concat("%")),a.setAttribute("stop-opacity",String(n)),a.setAttribute("stop-color",t.stopColor),a.setAttribute("id",i),e.linearStopList.append(m(i,o,r,n)),e.linearGradientEl&&d(e.linearGradientEl,a)}))),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED"))}function O(e){e.preventDefault(),e.stopPropagation(),C()}function V(e){return function(){var t=D();if("fs"!==e){var a=this.value,r=Number(a),n=Math.min(100,Math.max(-100,r));t.linearGradientEl&&t.linearGradientEl.setAttribute(e,String(n).concat("%"))}else if("fs"===e){var i=this.querySelector('input[type="radio"]:checked');i&&(n=i.value,T(n)&&t.linearGradientEl&&t.linearGradientEl.setAttribute("spreadMethod",String(n)))}}}function R(e){var t=_(),a=e.id;"create-gradient-radial"===a?t.createRadialGradientForm&&(v(t.createRadialGradientForm),w(t.createRadialGradientForm)):"create-gradient-linear"===a&&t.createLinearGradientForm&&(v(t.createLinearGradientForm),w(t.createLinearGradientForm))}function U(e){e.preventDefault(),e.stopPropagation()}function z(e){var t=e.offset,a=e.stopColor,r=e.stopOpacity,n=document.createElementNS("http://www.w3.org/2000/svg","stop");return n.setAttribute("offset",t.toString().concat("%")),n.setAttribute("stop-color",a),n.setAttribute("stop-opacity",r.toString()),n}function j(e){var t="";return e.forEach((function(e){"matrix"===e.type?t+=" matrix(".concat(e.a," ").concat(e.b," ").concat(e.c," ").concat(e.d," ").concat(e.e," ").concat(e.f,")"):"translate"===e.type?t+=" translate(".concat(e.x," ").concat(e.y,")"):"scale"===e.type?t+=" scale(".concat(e.x,", ").concat(e.y,")"):"rotate"===e.type?e.useDefaultOrigin?t+=" rotate(".concat(e.a,")"):t+=" rotate(".concat(e.a,", ").concat(e.x,", ").concat(e.y,")"):"skewX"===e.type?t+=" skewX(".concat(e.a,")"):"skewY"===e.type&&(t+=" skewY(".concat(e.a,")"))})),t.length?t.slice(1):t}function X(e){var t=document.createElementNS("http://www.w3.org/2000/svg","rect");return t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.setAttribute("x","0"),t.setAttribute("y","0"),t.setAttribute("rx","0"),t.setAttribute("ry","0"),t.setAttribute("fill","url('#".concat(e,"')")),t}function Y(e){var t=this.closest("div[data-grad-container]");t&&t.remove()}function W(e){return N(this,void 0,void 0,(function(){var t,a,n,i,s,d,l,c,u,p,m,f,v,y;return A(this,(function(b){if(t=o({type:"div",className:"flex-column align-center gap-1",style:"width:auto; padding:4px; border: 2px solid var(--divider); border-radius: 6px;",attributes:{"data-grad-container":""}}),a=document.getElementById("saved-radial-gradients"),n=document.getElementById("saved-linear-gradients"),i="gradient_".concat(window.crypto.randomUUID()),(s=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("width","110px"),s.setAttribute("height","110px"),s.style.cssText="border: 3px ridge var(--text-primary);",d=document.createElementNS("http://www.w3.org/2000/svg","defs"),l=Boolean(void 0!==e.cx&&a)?"radial":Boolean(void 0!==e.x1&&n)?"linear":void 0,void 0!==e.cx&&a?(u=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");t.setAttribute("cx",e.cx.toString().concat("%")),t.setAttribute("cy",e.cy.toString().concat("%")),t.setAttribute("fx",e.fx.toString().concat("%")),t.setAttribute("fy",e.fy.toString().concat("%")),t.setAttribute("fr",e.fr.toString().concat("%")),t.setAttribute("r",e.r.toString().concat("%")),t.setAttribute("spreadMethod",e.spreadMethod);var a=j(e.transforms);return a.length&&t.setAttribute("gradientTransform",a),t}(c=e),u.setAttribute("id",i),c.stops.sort((function(e,t){return e.offset-t.offset})).forEach((function(e){u.append(z(e))})),d.append(u),s.append(d),f=X(i),s.append(f)):void 0!==e.x1&&n&&(m=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");t.setAttribute("x1",e.x1.toString().concat("%")),t.setAttribute("x2",e.x2.toString().concat("%")),t.setAttribute("y1",e.y1.toString().concat("%")),t.setAttribute("y2",e.y2.toString().concat("%")),t.setAttribute("spreadMethod",e.spreadMethod);var a=j(e.transforms);return a.length&&t.setAttribute("gradientTransform",a),t}(p=e),m.setAttribute("id",i),p.stops.sort((function(e,t){return e.offset-t.offset})).forEach((function(e){m.append(z(e))})),d.append(m),s.append(d),f=X(i),s.append(f)),v=void 0,l)try{fetch("/create-gradient",{method:"POST",body:JSON.stringify({svg_obj:e,type:l,svg:s.outerHTML}),headers:{"Content-Type":"application/json","X-CSRF-Token":(0,r.Qm)()}}).then((function(e){if(200!==e.status)throw new Error("Network request");return e.json()})).then((function(e){var t=e.id;v=t})).catch((function(e){return console.error(e)}))}catch(e){console.error(e)}return(y=o({type:"div",className:"flex-row align-center justify-between",style:"max-width:120px;"})).append(function(e){var t,a=o({type:"button",className:"toggle-button small",attributes:{"data-snackbar":"","data-selem":"#copy-nack-svg-href"},innerHTML:'<svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="CopyAll"><path d="M18 2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H9V4h9v12zM3 15v-2h2v2H3zm0-5.5h2v2H3v-2zM10 20h2v2h-2v-2zm-7-1.5v-2h2v2H3zM5 22c-1.1 0-2-.9-2-2h2v2zm3.5 0h-2v-2h2v2zm5 0v-2h2c0 1.1-.9 2-2 2zM5 6v2H3c0-1.1.9-2 2-2z"></path></svg>'});return a.addEventListener("click",(t=e,function(){navigator.clipboard.writeText(t).then((function(){})).catch((function(e){return console.error(e)}))})),a}(i),function(e){var t={type:"button",className:"toggle-button small",innerHTML:'<svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>'};e&&(t.attributes={"hx-delete":"/projects/create-gradient/".concat(e),"hx-trigger":"click","hx-target":"closest div[data-grad-container]","hx-swap":"outerHTML"});var a=o(t);return e||a.addEventListener("click",Y),a}(v)),t.append(s,y),void 0!==e.cx&&a?a.append(t):void 0!==e.x1&&n&&n.append(t),[2]}))}))}function P(){var e=_();e.createGradientForm&&(e.createGradientForm.addEventListener("change",L),e.createGradientForm.addEventListener("submit",U)),e.createLinearGradientForm&&(e.createLinearGradientForm.addEventListener("submit",H),e.createLinearGradientForm.addEventListener("reset",O),v(e.createLinearGradientForm),w(e.createLinearGradientForm)),e.createRadialGradientForm&&(e.createRadialGradientForm.addEventListener("submit",k),e.createRadialGradientForm.addEventListener("reset",G),v(e.createRadialGradientForm),w(e.createRadialGradientForm));var t=q();t.cx&&t.cx.addEventListener("change",B("cx")),t.cy&&t.cy.addEventListener("change",B("cy")),t.fx&&t.fx.addEventListener("change",B("fy")),t.fy&&t.fy.addEventListener("change",B("fx")),t.fr&&t.fr.addEventListener("change",B("fr")),t.fr&&t.fr.addEventListener("change",B("fr")),t.r&&t.r.addEventListener("change",B("r")),t.radialSpreadRadiusFieldset&&t.radialSpreadRadiusFieldset.addEventListener("change",B("fs")),t.radialAddTransformButton&&t.radialAddTransformButton.addEventListener("click",E);var a,r,n,i,o=D();o.x1&&o.x1.addEventListener("change",V("x1")),o.x2&&o.x2.addEventListener("change",V("x2")),o.y1&&o.y1.addEventListener("change",V("y1")),o.y2&&o.y2.addEventListener("change",V("y2")),o.linearSpreadRadiusFieldset&&o.linearSpreadRadiusFieldset.addEventListener("change",V("fs")),o.linearAddTransformButton&&o.linearAddTransformButton.addEventListener("click",E),a=document.getElementById("hide-radial-transform-btn"),r=document.getElementById("hide-linear-transform-btn"),n=document.getElementById("hide-radial-stops-btn"),i=document.getElementById("hide-linear-stops-btn"),a&&r&&n&&i&&(a.addEventListener("click",J),r.addEventListener("click",J),n.addEventListener("click",J),i.addEventListener("click",J))}function J(e){var t=this,a=t.querySelector("span"),r=t.querySelector("svg"),n=t.id,i=void 0;"hide-radial-transform-btn"===n?i=document.getElementById("radial-transforms-container"):"hide-linear-transform-btn"===n?i=document.getElementById("linear-transforms-container"):"hide-radial-stops-btn"===n?i=document.getElementById("radial-stop-list"):"hide-linear-stops-btn"===n&&(i=document.getElementById("linear-stop-list")),t.classList.contains("warning")&&a&&r&&i?(i.setAttribute("hidden",""),r.style.cssText="transform:rotate(180deg);",a.innerText="SHOW",t.classList.remove("warning"),t.classList.add("success")):t.classList.contains("success")&&a&&r&&i&&(i.removeAttribute("hidden"),r.style.cssText="",a.innerText="HIDE",t.classList.remove("success"),t.classList.add("warning"))}}}]);