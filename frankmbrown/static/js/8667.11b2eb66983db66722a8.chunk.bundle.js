"use strict";(self.webpackChunkbundled_client_code=self.webpackChunkbundled_client_code||[]).push([[8667],{8667:function(e,t,r){r.r(t),r.d(t,{runWarnNavigateAway:function(){return y}});var n=r(60429),a=r(8189),o=r(22705),i=void 0,u={};function c(e){var t=this.closest("div.dialog-wrapper");t&&i&&(window.htmx&&window.htmx.trigger(i.element,"click"),u={},(0,n.zU)(t))}function l(e){var t=this.closest("div.dialog-wrapper");t&&(i=void 0,(0,n.zU)(t))}function d(e){var t=v();if(t){if(!t.hasAttribute("data-no-check-initial")){for(var r=!0,n=s(t),a=0,o=Object.keys(n);a<o.length;a++){var i=o[a];if(n[i]!==u[i]){r=!1;break}}if(r)return}return e.preventDefault(),e.returnValue=!0,!0}}function f(e){var t=v();if(t){if(!t.hasAttribute("data-no-check-initial")){var r=s(t);if(function(e,t){var r=!0;if(!e||!t)return!1;for(var n=0,a=Object.keys(e);n<a.length;n++){var o=a[n];if(e[o]!==t[o]){r=!1;break}}return r}(u,r))return!0}e.stopPropagation();var a=document.getElementById("confirm-dialog");if(a){i={page:window.location.pathname,element:this};var o=a.querySelector("button[data-confirm]"),d=a.querySelector("button[data-cancel]");o&&d&&(o.addEventListener("click",c),d.addEventListener("click",l),(0,n.Dh)(a))}}}function v(){var e=document.querySelector("div[data-warn-form-progress]");if(e){var t=e.getAttribute("data-warn-form-progress");if(t){var r=document.getElementById(t);if(r)return r}}return null}function s(e){var t=/(lexical|lex-)/,r={},n=Array.from(e.querySelectorAll("input")),i=Array.from(e.querySelectorAll("textarea")),u=Array.from(e.querySelectorAll("div.lexical-wrapper")),c=Array.from(e.querySelectorAll("div[data-editor-wrapper]"));return n.forEach((function(e){var n=e.getAttribute("name");n&&!t.test(n)&&(r[n]=e.value)})),i.forEach((function(e){var n=e.getAttribute("name");n&&!t.test(n)&&(r[n]=e.value)})),u.forEach((function(e){var t=e.id;if(Array.from(e.querySelectorAll("input")).forEach((function(e){var t=e.getAttribute("name");t&&r[t]&&delete r[t]})),t){var n=(0,a.getEditorInstances)()[t];n&&(r[t]=JSON.stringify(n.getEditorState().toJSON()))}})),c.forEach((function(e){var t=e.id;if(t){var n=(0,o.getCodeMirrorEditorText)(t);r[t]=n}})),r}function m(e){var t=v();t&&(u=s(t))}var h='[hx-push-url="true"]:not([data-force-navigate]):not([type="submit"]), [href^="/"]:not([href^="#"])';function y(){var e;(e=v())?(e.addEventListener("lexical_state_registered",m,!0),e.addEventListener("submit",m,!0),Array.from(e.querySelectorAll('button[type="submit"]')).forEach((function(e){return e.addEventListener("click",m,!0)})),u=s(e),Array.from(document.querySelectorAll(h)).forEach((function(e){return e.addEventListener((0,n.CN)()?"touchstart":"mousedown",f,!0)})),window.addEventListener("beforeunload",d)):(u={},window.removeEventListener("beforeunload",f),document.querySelectorAll(h).forEach((function(e){return e.removeEventListener((0,n.CN)()?"touchstart":"mousedown",f,!0)})),window.removeEventListener("beforeunload",d))}}}]);