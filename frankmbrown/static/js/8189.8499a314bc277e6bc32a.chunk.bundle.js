"use strict";(self.webpackChunkbundled_client_code=self.webpackChunkbundled_client_code||[]).push([[8189],{29812:function(e,t,n){n.d(t,{$4:function(){return Vi},$7:function(){return Z},$e:function(){return b},$z:function(){return ti},A6:function(){return C},AX:function(){return S},Ac:function(){return Li},B$:function(){return Wt},C:function(){return Qe},Cy:function(){return Qa},Dz:function(){return bi},Ey:function(){return Lo},FE:function(){return g},GM:function(){return ja},H2:function(){return Ea},HY:function(){return U},Hu:function(){return I},I2:function(){return $o},Iq:function(){return Qt},JA:function(){return Yt},JM:function(){return k},Jj:function(){return Ii},Jt:function(){return Sa},Kf:function(){return Y},Kp:function(){return $a},L$:function(){return Fi},LY:function(){return at},M3:function(){return ko},MK:function(){return Wo},Mv:function(){return d},Ni:function(){return _t},Nv:function(){return ka},OB:function(){return Ca},OX:function(){return D},P6:function(){return Hi},Pi:function(){return z},Q$:function(){return O},RT:function(){return oa},Rp:function(){return A},S1:function(){return va},SK:function(){return V},Sr:function(){return F},Tg:function(){return q},UD:function(){return T},V3:function(){return w},VS:function(){return J},WK:function(){return wo},WW:function(){return X},Wg:function(){return Mi},Wu:function(){return p},XK:function(){return m},YW:function(){return R},YZ:function(){return Ui},Z$:function(){return ot},ZK:function(){return _},bA:function(){return ha},bM:function(){return h},bS:function(){return Ti},bb:function(){return N},cI:function(){return ui},d:function(){return Oi},d5:function(){return qi},d8:function(){return u},e1:function(){return Ft},ev:function(){return Ko},fG:function(){return oi},fU:function(){return H},ff:function(){return ri},gC:function(){return M},gu:function(){return c},h:function(){return vi},hV:function(){return yi},hc:function(){return rn},hi:function(){return v},ie:function(){return Di},if:function(){return L},jG:function(){return dt},jZ:function(){return Ni},kF:function(){return qo},lE:function(){return zi},lJ:function(){return Ai},lQ:function(){return ji},m2:function(){return Ji},mB:function(){return x},mx:function(){return Ki},n1:function(){return Et},nY:function(){return cn},ns:function(){return ft},oK:function(){return ci},pF:function(){return $},pT:function(){return en},pi:function(){return ii},rU:function(){return ma},ri:function(){return j},sT:function(){return Ho},sb:function(){return dn},si:function(){return P},t5:function(){return G},u5:function(){return W},uA:function(){return ki},uT:function(){return ga},vJ:function(){return ba},vi:function(){return y},w:function(){return f},w$:function(){return B},wH:function(){return Eo},xL:function(){return vt},y6:function(){return ua},y7:function(){return ai},zG:function(){return ei},zl:function(){return jt},zm:function(){return Pi},zq:function(){return ta}}),n(20046),n(85623),n(94778),n(96107),n(24744),n(33813),n(20993),n(3155),n(52105),n(44499),n(8340),n(81959),n(26287),n(54640),n(50044),n(45924),n(44555),n(73037),n(58679),n(77860);var o,a,i,r,l=n(29812);function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return{type:e}}const d=c("SELECTION_CHANGE_COMMAND"),u=c("CLICK_COMMAND"),p=c("DELETE_CHARACTER_COMMAND"),g=c("INSERT_LINE_BREAK_COMMAND"),m=c("INSERT_PARAGRAPH_COMMAND"),h=c("CONTROLLED_TEXT_INSERTION_COMMAND"),f=c("PASTE_COMMAND"),b=c("REMOVE_TEXT_COMMAND"),v=c("DELETE_WORD_COMMAND"),y=c("DELETE_LINE_COMMAND"),x=c("FORMAT_TEXT_COMMAND"),_=c("UNDO_COMMAND"),w=c("REDO_COMMAND"),E=c("KEYDOWN_COMMAND"),k=c("KEY_ARROW_RIGHT_COMMAND"),C=c("MOVE_TO_END"),S=c("KEY_ARROW_LEFT_COMMAND"),A=c("MOVE_TO_START"),T=c("KEY_ARROW_UP_COMMAND"),N=c("KEY_ARROW_DOWN_COMMAND"),L=c("KEY_ENTER_COMMAND"),I=c("KEY_SPACE_COMMAND"),M=c("KEY_BACKSPACE_COMMAND"),O=c("KEY_ESCAPE_COMMAND"),B=c("KEY_DELETE_COMMAND"),D=c("KEY_TAB_COMMAND"),R=c("INSERT_TAB_COMMAND"),z=c("INDENT_CONTENT_COMMAND"),P=c("OUTDENT_CONTENT_COMMAND"),F=c("DROP_COMMAND"),H=c("FORMAT_ELEMENT_COMMAND"),q=c("DRAGSTART_COMMAND"),j=c("DRAGOVER_COMMAND"),K=c("DRAGEND_COMMAND"),W=c("COPY_COMMAND"),J=c("CUT_COMMAND"),U=c("SELECT_ALL_COMMAND"),V=c("CLEAR_EDITOR_COMMAND"),G=c("CLEAR_HISTORY_COMMAND"),X=c("CAN_REDO_COMMAND"),Y=c("CAN_UNDO_COMMAND"),Z=c("FOCUS_COMMAND"),$=c("BLUR_COMMAND"),Q=c("KEY_MODIFIER_COMMAND"),ee="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,te=ee&&"documentMode"in document?document.documentMode:null,ne=ee&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),oe=ee&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ae=!(!ee||!("InputEvent"in window)||te)&&"getTargetRanges"in new window.InputEvent("input"),ie=ee&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),re=ee&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,le=ee&&/Android/.test(navigator.userAgent),se=ee&&/^(?=.*Chrome).*/i.test(navigator.userAgent),ce=ee&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!se,de=1,ue=2,pe=0,ge=1,me=2,he=16,fe=32,be=64,ve=128,ye=256,xe=512,_e=15|he|fe|be|ve|ye|xe,we=1,Ee=2,ke=3,Ce=4,Se=5,Ae=6,Te=ie||re||ce?" ":"​",Ne="\n\n",Le=oe?" ":Te,Ie="֑-߿יִ-﷽ﹰ-ﻼ",Me="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Oe=new RegExp("^[^"+Me+"]*["+Ie+"]"),Be=new RegExp("^[^"+Ie+"]*["+Me+"]"),De={bold:1,code:he,highlight:ve,italic:2,strikethrough:4,subscript:fe,superscript:be,underline:8,quote:ye,kbd:xe},Re={directionless:1,unmergeable:2},ze={center:2,end:6,justify:4,left:1,right:3,start:5},Pe={[Ee]:"center",[Ae]:"end",[Ce]:"justify",[we]:"left",[ke]:"right",[Se]:"start"},Fe={normal:0,segmented:2,token:1},He={[pe]:"normal",[me]:"segmented",[ge]:"token"};let qe=!1,je=0;function Ke(e){je=e.timeStamp}function We(e,t,n){return t.__lexicalLineBreak===e||void 0!==e["__lexicalKey_".concat(n._key)]}function Je(e,t,n){const o=an(n._window);let a=null,i=null;null!==o&&o.anchorNode===e&&(a=o.anchorOffset,i=o.focusOffset);const r=e.nodeValue;null!==r&&It(t,r,a,i,!1)}function Ue(e,t,n){if($o(e)){const t=e.anchor.getNode();if(t.is(n)&&e.format!==t.getFormat())return!1}return 3===t.nodeType&&n.isAttached()}function Ve(e,t,n){qe=!0;const o=performance.now()-je>100;try{Za(e,(()=>{const a=ba()||function(e){return e.getEditorState().read((()=>{const e=ba();return null!==e?e.clone():null}))}(e),i=new Map,r=e.getRootElement(),l=e._editorState,s=e._blockCursorElement;let c=!1,d="";for(let n=0;n<t.length;n++){const u=t[n],p=u.type,g=u.target;let m=vt(g,l);if(!(null===m&&g!==r||Qa(m)))if("characterData"===p)o&&qo(m)&&Ue(a,g,m)&&Je(g,m,e);else if("childList"===p){c=!0;const t=u.addedNodes;for(let n=0;n<t.length;n++){const o=t[n],a=bt(o),i=o.parentNode;if(null!=i&&o!==s&&null===a&&("BR"!==o.nodeName||!We(o,i,e))){if(oe){const e=o.innerText||o.nodeValue;e&&(d+=e)}i.removeChild(o)}}const n=u.removedNodes,o=n.length;if(o>0){let t=0;for(let a=0;a<o;a++){const o=n[a];("BR"===o.nodeName&&We(o,g,e)||s===o)&&(g.appendChild(o),t++)}o!==t&&(g===r&&(m=wt(l)),i.set(g,m))}}}if(i.size>0)for(const[t,n]of i)if(ri(n)){const o=n.getChildrenKeys();let a=t.firstChild;for(let n=0;n<o.length;n++){const i=o[n],r=e.getElementByKey(i);null!==r&&(null==a?(t.appendChild(r),a=r):a!==r&&t.replaceChild(r,a),a=a.nextSibling)}}else qo(n)&&n.markDirty();const u=n.takeRecords();if(u.length>0){for(let t=0;t<u.length;t++){const n=u[t],o=n.addedNodes,a=n.target;for(let t=0;t<o.length;t++){const n=o[t],i=n.parentNode;null==i||"BR"!==n.nodeName||We(n,a,e)||i.removeChild(n)}}n.takeRecords()}null!==a&&(c&&(a.dirty=!0,Et(a)),oe&&Jt(e)&&a.insertRawText(d))}))}finally{qe=!1}}function Ge(e){const t=e._observer;null!==t&&Ve(e,t.takeRecords(),t)}function Xe(e){!function(e){0===je&&$t(e).addEventListener("textInput",Ke,!0)}(e),e._observer=new MutationObserver(((t,n)=>{Ve(e,t,n)}))}function Ye(e,t){const n=e.__mode,o=e.__format,a=e.__style,i=t.__mode,r=t.__format,l=t.__style;return!(null!==n&&n!==i||null!==o&&o!==r||null!==a&&a!==l)}function Ze(e,t){const n=e.mergeWithSibling(t),o=Pa()._normalizedNodes;return o.add(e.__key),o.add(t.__key),n}function $e(e){let t,n,o=e;if(""!==o.__text||!o.isSimpleText()||o.isUnmergeable()){for(;null!==(t=o.getPreviousSibling())&&qo(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){if(Ye(t,o)){o=Ze(t,o);break}break}t.remove()}for(;null!==(n=o.getNextSibling())&&qo(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(Ye(o,n)){o=Ze(o,n);break}break}n.remove()}}else o.remove()}function Qe(e){return et(e.anchor),et(e.focus),e}function et(e){for(;"element"===e.type;){const t=e.getNode(),n=e.offset;let o,a;if(n===t.getChildrenSize()?(o=t.getChildAtIndex(n-1),a=!0):(o=t.getChildAtIndex(n),a=!1),qo(o)){e.set(o.__key,a?o.getTextContentSize():0,"text");break}if(!ri(o))break;e.set(o.__key,a?o.getChildrenSize():0,"element")}}let tt=1;const nt="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function ot(e){const t=document.activeElement;if(null===t)return!1;const n=t.nodeName;return Qa(vt(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==t.__lexicalEditor)}function at(e,t,n){const o=e.getRootElement();try{return null!==o&&o.contains(t)&&o.contains(n)&&null!==t&&!ot(t)&&it(t)===e}catch(e){return!1}}function it(e){let t=e;for(;null!=t;){const e=t.__lexicalEditor;if(null!=e)return e;t=Xt(t)}return null}function rt(e){return e.isToken()||e.isSegmented()}function lt(e){return 3===e.nodeType}function st(e){let t=e;for(;null!=t;){if(lt(t))return t;t=t.firstChild}return null}function ct(e,t,n){const o=De[t];return!(e&o)||null!==n&&n&o?null===n||n&o?e|o:e:e^o}function dt(e){return qo(e)||Eo(e)||Qa(e)}function ut(e,t){if(null!=t)return void(e.__key=t);Da(),Ra();const n=Pa(),o=za(),a=""+tt++;o._nodeMap.set(a,e),ri(e)?n._dirtyElements.set(a,!0):n._dirtyLeaves.add(a),n._cloneNotNeeded.add(a),n._dirtyType=de,e.__key=a}function pt(e){const t=e.getParent();if(null!==t){const n=e.getWritable(),o=t.getWritable(),a=e.getPreviousSibling(),i=e.getNextSibling();if(null===a)if(null!==i){const e=i.getWritable();o.__first=i.__key,e.__prev=null}else o.__first=null;else{const e=a.getWritable();if(null!==i){const t=i.getWritable();t.__prev=e.__key,e.__next=t.__key}else e.__next=null;n.__prev=null}if(null===i)if(null!==a){const e=a.getWritable();o.__last=a.__key,e.__next=null}else o.__last=null;else{const e=i.getWritable();if(null!==a){const t=a.getWritable();t.__next=e.__key,e.__prev=t.__key}else e.__prev=null;n.__next=null}o.__size--,n.__parent=null}}function gt(e){Ra();const t=e.getLatest(),n=t.__parent,o=za(),a=Pa(),i=o._nodeMap,r=a._dirtyElements;null!==n&&function(e,t,n){let o=e;for(;null!==o;){if(n.has(o))return;const e=t.get(o);if(void 0===e)break;n.set(o,!1),o=e.__parent}}(n,i,r);const l=t.__key;a._dirtyType=de,ri(e)?r.set(l,!0):a._dirtyLeaves.add(l)}function mt(e){Da();const t=Pa(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,null!==n){const e=ft(n);null!==e&&e.getWritable()}if(null!==e){const t=ft(e);null!==t&&t.getWritable()}}}function ht(){return Ba()?null:Pa()._compositionKey}function ft(e,t){const n=(t||za())._nodeMap.get(e);return void 0===n?null:n}function bt(e,t){const n=Pa(),o=e["__lexicalKey_".concat(n._key)];return void 0!==o?ft(o,t):null}function vt(e,t){let n=e;for(;null!=n;){const e=bt(n,t);if(null!==e)return e;n=Xt(n)}return null}function yt(e){const t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function xt(e){return e.read((()=>_t().getTextContent()))}function _t(){return wt(za())}function wt(e){return e._nodeMap.get("root")}function Et(e){Da();const t=za();if(null!==e){if(Object.isFrozen(e))throw Error("$setSelection called on frozen selection object. Ensure selection is cloned before passing in.");e.dirty=!0,e._cachedNodes=null}t._selection=e}function kt(e){const t=Pa(),n=function(e,t){let n=e;for(;null!=n;){const e=n["__lexicalKey_".concat(t._key)];if(void 0!==e)return e;n=Xt(n)}return null}(e,t);return null===n?e===t.getRootElement()?ft("root"):null:ft(n)}function Ct(e,t){return t?e.getTextContentSize():0}function St(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function At(e){const t=[];let n=e;for(;null!==n;)t.push(n),n=n._parentEditor;return t}function Tt(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Nt(e){return 3===e.nodeType?e.nodeValue:null}function Lt(e,t,n){const o=an(t._window);if(null===o)return;const a=o.anchorNode;let{anchorOffset:i,focusOffset:r}=o;if(null!==a){let t=Nt(a);const o=vt(a);if(null!==t&&qo(o)){if(t===Te&&n){const e=n.length;t=n,i=e,r=e}null!==t&&It(o,t,i,r,e)}}}function It(e,t,n,o,a){let i=e;if(i.isAttached()&&(a||!i.isDirty())){const r=i.isComposing();let l=t;(r||a)&&t[t.length-1]===Te&&(l=t.slice(0,-1));const s=i.getTextContent();if(a||l!==s){if(""===l){if(mt(null),ie||re||ce)i.remove();else{const e=Pa();setTimeout((()=>{e.update((()=>{i.isAttached()&&i.remove()}))}),20)}return}const t=i.getParent(),a=va(),s=i.getTextContentSize(),c=ht(),d=i.getKey();if(i.isToken()||null!==c&&d===c&&!r||$o(a)&&(null!==t&&!t.canInsertTextBefore()&&0===a.anchor.offset||a.anchor.key===e.__key&&0===a.anchor.offset&&!i.canInsertTextBefore()||a.focus.key===e.__key&&a.focus.offset===s&&!i.canInsertTextAfter()))return void i.markDirty();const u=ba();if(!$o(u)||null===n||null===o)return void i.setTextContent(l);if(u.setTextNodeRange(i,n,i,o),i.isSegmented()){const e=Ho(i.getTextContent());i.replace(e),i=e}i.setTextContent(l)}}}function Mt(e){return 37===e}function Ot(e){return 39===e}function Bt(e,t){return ne?e:t}function Dt(e){return 13===e}function Rt(e){return 8===e}function zt(e){return 46===e}function Pt(e,t,n){return 65===e&&Bt(t,n)}function Ft(){const e=_t();Et(Qe(e.select(0,e.getChildrenSize())))}function Ht(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});const n=e.__lexicalClassNameCache,o=n[t];if(void 0!==o)return o;const a=e[t];if("string"==typeof a){const e=a.split(" ");return n[t]=e,e}return a}function qt(e,t,n,o,a){if(0===n.size)return;const i=o.__type,r=o.__key,l=t.get(i);if(void 0===l)throw Error("Type ".concat(i," not in registeredNodes"));const s=l.klass;let c=e.get(s);void 0===c&&(c=new Map,e.set(s,c));const d=c.get(r),u="destroyed"===d&&"created"===a;(void 0===d||u)&&c.set(r,u?"updated":a)}function jt(e){const t=za(),n=t._readOnly,o=e.getType(),a=t._nodeMap,i=[];for(const[,t]of a)t instanceof e&&t.__type===o&&(n||t.isAttached())&&i.push(t);return i}function Kt(e,t,n){const o=e.getParent();let a=n,i=e;return null!==o&&(t&&0===n?(a=i.getIndexWithinParent(),i=o):t||n!==i.getChildrenSize()||(a=i.getIndexWithinParent()+1,i=o)),i.getChildAtIndex(t?a-1:a)}function Wt(e,t){const n=e.offset;if("element"===e.type)return Kt(e.getNode(),t,n);{const o=e.getNode();if(t&&0===n||!t&&n===o.getTextContentSize()){const e=t?o.getPreviousSibling():o.getNextSibling();return null===e?Kt(o.getParentOrThrow(),t,o.getIndexWithinParent()+(t?0:1)):e}}return null}function Jt(e){const t=$t(e).event,n=t&&t.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function Ut(e,t,n){return Ga(e,t,n)}function Vt(e){return!yi(e)&&!e.isLastChild()&&!e.isInline()}function Gt(e,t){const n=e._keyToDOMMap.get(t);if(void 0===n)throw Error("Reconciliation: could not find DOM element for node key ".concat(t));return n}function Xt(e){const t=e.assignedSlot||e.parentElement;return null!==t&&11===t.nodeType?t.host:t}function Yt(e){Da(),Pa()._updateTags.add(e)}function Zt(e,t){let n=e.getParent();for(;null!==n;){if(n.is(t))return!0;n=n.getParent()}return!1}function $t(e){const t=e._window;if(null===t)throw Error("window object not found");return t}function Qt(e){return yi(e)||ri(e)&&e.isShadowRoot()}function en(e){const t=Pa(),n=e.constructor.getType(),o=t._nodes.get(n);if(void 0===o)throw Error('$initializeNode failed. Ensure node has been registered to the editor. You can do this by passing the node class via the "nodes" array in the editor config.');const a=o.replace;if(null!==a){const t=a(e);if(!(t instanceof e.constructor))throw Error("$initializeNode failed. Ensure replacement node is a subclass of the original node.");return t}return e}function tn(e,t){if(yi(e.getParent())&&!ri(t)&&!Qa(t))throw Error("Only element or decorator nodes can be inserted in to the root node")}function nn(e){return(Qa(e)||ri(e)&&!e.canBeEmpty())&&!e.isInline()}function on(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;const o=e.parentElement;null!==o&&o.removeChild(e)}function an(e){return ee?(e||window).getSelection():null}function rn(e,t){let n=e.getChildAtIndex(t);if(null==n&&(n=e),Qt(e))throw Error("Can not call $splitNode() on root element");const o=e=>{const t=e.getParentOrThrow(),a=Qt(t),i=e!==n||a?function(e){const t=e.constructor.clone(e);return ut(t,null),t}(e):e;if(a)return e.insertAfter(i),[e,i,i];{const[n,a,r]=o(t),l=e.getNextSiblings();return r.append(i,...l),[n,a,i]}},[a,i]=o(n);return[a,i]}function ln(e,t){let n=e;for(;n!==_t()&&null!=n;){if(t(n))return n;n=n.getParent()}return null}function sn(e){const t=[],n=[e];for(;n.length>0;){const o=n.pop();if(void 0===o)throw Error("Stack.length > 0; can't be undefined");ri(o)&&n.unshift(...o.getChildren()),o!==e&&t.push(o)}return t}function cn(e){return dn(e)&&"A"===e.tagName}function dn(e){return 1===e.nodeType}function un(e){if(Qa(e)&&!e.isInline())return!0;if(!ri(e)||Qt(e))return!1;const t=e.getFirstChild(),n=null===t||Eo(t)||qo(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&n}function pn(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}const gn=new WeakMap,mn=new Map;function hn(e,t,n,o,a,i){let r=e.getFirstChild();for(;null!==r;){const e=r.__key;r.__parent===t&&(ri(r)&&hn(r,e,n,o,a,i),n.has(e)||i.delete(e),a.push(e)),r=r.getNextSibling()}}let fn,bn,vn,yn,xn,_n,wn,En,kn,Cn,Sn="",An="",Tn="",Nn=!1,Ln=!1,In=null;function Mn(e,t){const n=wn.get(e);if(null!==t){const n=Gn(e);n.parentNode===t&&t.removeChild(n)}if(En.has(e)||bn._keyToDOMMap.delete(e),ri(n)){const e=Kn(n,wn);On(e,0,e.length-1,null)}void 0!==n&&qt(Cn,vn,yn,n,"destroyed")}function On(e,t,n,o){let a=t;for(;a<=n;++a){const t=e[a];void 0!==t&&Mn(t,o)}}function Bn(e,t){e.setProperty("text-align",t)}const Dn="40px";function Rn(e,t){const n=fn.theme.indent;if("string"==typeof n){const o=e.classList.contains(n);t>0&&!o?e.classList.add(n):t<1&&o&&e.classList.remove(n)}const o=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||Dn;e.style.setProperty("padding-inline-start",0===t?"":"calc(".concat(t," * ").concat(o,")"))}function zn(e,t){const n=e.style;0===t?Bn(n,""):1===t?Bn(n,"left"):2===t?Bn(n,"center"):3===t?Bn(n,"right"):4===t?Bn(n,"justify"):5===t?Bn(n,"start"):6===t&&Bn(n,"end")}function Pn(e,t,n){const o=En.get(e);if(void 0===o)throw Error("createNode: node does not exist in nodeMap");const a=o.createDOM(fn,bn);if(function(e,t,n){const o=n._keyToDOMMap;t["__lexicalKey_"+n._key]=e,o.set(e,t)}(e,a,bn),qo(o)?a.setAttribute("data-frank-text","true"):Qa(o)&&(a.setAttribute("data-frank-decorator","true"),a.setAttribute("data-node-key",e)),ri(o)){const e=o.__indent,t=o.__size;if(0!==e&&Rn(a,e),0!==t){const e=t-1;!function(e,t,n,o){const a=An;An="",Fn(e,n,0,t,o,null),jn(n,o),An=a}(Kn(o,En),e,o,a)}const n=o.__format;0!==n&&zn(a,n),o.isInline()||qn(null,o,a),Vt(o)&&(Sn+=Ne,Tn+=Ne)}else{const t=o.getTextContent();if(Qa(o)){const t=o.decorate(bn,fn);null!==t&&Jn(e,t),a.contentEditable="false"}else qo(o)&&(o.isDirectionless()||(An+=t));Sn+=t,Tn+=t}if(null!==t)if(null!=n)t.insertBefore(a,n);else{const e=t.__lexicalLineBreak;null!=e?t.insertBefore(a,e):t.appendChild(a)}return Object.freeze(o),qt(Cn,vn,yn,o,"created"),a}function Fn(e,t,n,o,a,i){const r=Sn;Sn="";let l=n;for(;l<=o;++l)Pn(e[l],a,i);Vt(t)&&(Sn+=Ne),a.__lexicalTextContent=Sn,Sn=r+Sn}function Hn(e,t){const n=t.get(e);return Eo(n)||Qa(n)&&n.isInline()}function qn(e,t,n){const o=null!==e&&(0===e.__size||Hn(e.__last,wn)),a=0===t.__size||Hn(t.__last,En);if(o){if(!a){const e=n.__lexicalLineBreak;null!=e&&n.removeChild(e),n.__lexicalLineBreak=null}}else if(a){const e=document.createElement("br");n.__lexicalLineBreak=e,n.appendChild(e)}}function jn(e,t){const n=t.__lexicalDirTextContent,o=t.__lexicalDir;if(n!==An||o!==In){const n=""===An,i=n?In:(a=An,Oe.test(a)?"rtl":Be.test(a)?"ltr":null);if(i!==o){const a=t.classList,r=fn.theme;let l=null!==o?r[o]:void 0,s=null!==i?r[i]:void 0;if(void 0!==l){if("string"==typeof l){const e=l.split(" ");l=r[o]=e}a.remove(...l)}if(null===i||n&&"ltr"===i)t.removeAttribute("dir");else{if(void 0!==s){if("string"==typeof s){const e=s.split(" ");s=r[i]=e}void 0!==s&&a.add(...s)}t.dir=i}Ln||(e.getWritable().__dir=i)}In=i,t.__lexicalDirTextContent=An,t.__lexicalDir=i}var a}function Kn(e,t){const n=[];let o=e.__first;for(;null!==o;){const e=t.get(o);if(void 0===e)throw Error("createChildrenArray: node does not exist in nodeMap");n.push(o),o=e.__next}return n}function Wn(e,t){const n=wn.get(e);let o=En.get(e);if(void 0===n||void 0===o)throw Error("reconcileNode: prevNode or nextNode does not exist in nodeMap");const a=Nn||_n.has(e)||xn.has(e),i=Gt(bn,e);if(n===o&&!a){if(ri(n)){const e=i.__lexicalTextContent;void 0!==e&&(Sn+=e,Tn+=e);const t=i.__lexicalDirTextContent;void 0!==t&&(An+=t)}else{const e=n.getTextContent();qo(n)&&!n.isDirectionless()&&(An+=e),Tn+=e,Sn+=e}return i}if(n!==o&&a&&qt(Cn,vn,yn,o,"updated"),o.updateDOM(n,i,fn)){const n=Pn(e,null,null);if(null===t)throw Error("reconcileNode: parentDOM is null");return t.replaceChild(n,i),Mn(e,null),n}if(ri(n)&&ri(o)){const e=o.__indent;e!==n.__indent&&Rn(i,e);const t=o.__format;t!==n.__format&&zn(i,t),a&&(function(e,t,n){const o=An;An="",function(e,t,n){const o=Sn,a=e.__size,i=t.__size;if(Sn="",1===a&&1===i){const o=e.__first,a=t.__first;if(o===a)Wn(o,n);else{const e=Gn(o),t=Pn(a,null,null);n.replaceChild(t,e),Mn(o,null)}}else{const o=Kn(e,wn),r=Kn(t,En);if(0===a)0!==i&&Fn(r,t,0,i-1,n,null);else if(0===i){if(0!==a){const e=null==n.__lexicalLineBreak;On(o,0,a-1,e?null:n),e&&(n.textContent="")}}else!function(e,t,n,o,a,i){const r=o-1,l=a-1;let s,c,d=i.firstChild,u=0,p=0;for(;u<=r&&p<=l;){const e=t[u],o=n[p];if(e===o)d=Un(Wn(o,i)),u++,p++;else{void 0===s&&(s=new Set(t)),void 0===c&&(c=new Set(n));const a=c.has(e),r=s.has(o);if(a)if(r){const e=Gt(bn,o);e===d?d=Un(Wn(o,i)):(null!=d?i.insertBefore(e,d):i.appendChild(e),Wn(o,i)),u++,p++}else Pn(o,i,d),p++;else d=Un(Gn(e)),Mn(e,i),u++}}const g=u>r,m=p>l;if(g&&!m){const t=n[l+1];Fn(n,e,p,l,i,void 0===t?null:bn.getElementByKey(t))}else m&&!g&&On(t,u,r,i)}(t,o,r,a,i,n)}Vt(t)&&(Sn+=Ne),n.__lexicalTextContent=Sn,Sn=o+Sn}(e,t,n),jn(t,n),An=o}(n,o,i),yi(o)||o.isInline()||qn(n,o,i)),Vt(o)&&(Sn+=Ne,Tn+=Ne)}else{const t=o.getTextContent();if(Qa(o)){const t=o.decorate(bn,fn);null!==t&&Jn(e,t)}else qo(o)&&!o.isDirectionless()&&(An+=t);Sn+=t,Tn+=t}return!Ln&&yi(o)&&o.__cachedText!==Tn&&(o=o.getWritable(),o.__cachedText=Tn),Object.freeze(o),i}function Jn(e,t){let n=bn._pendingDecorators;const o=bn._decorators;if(null===n){if(o[e]===t)return;n=yt(bn)}n[e]=t}function Un(e){let t=e.nextSibling;return null!==t&&t===bn._blockCursorElement&&(t=t.nextSibling),t}function Vn(e,t,n,o,a,i){Sn="",Tn="",An="",Nn=o===ue,In=null,bn=n,fn=n._config,vn=n._nodes,yn=bn._listeners.mutation,xn=a,_n=i,wn=e._nodeMap,En=t._nodeMap,Ln=t._readOnly,kn=new Map(n._keyToDOMMap);const r=new Map;return Cn=r,Wn("root",null),bn=void 0,vn=void 0,xn=void 0,_n=void 0,wn=void 0,En=void 0,fn=void 0,kn=void 0,Cn=void 0,r}function Gn(e){const t=kn.get(e);if(void 0===t)throw Error("Reconciliation: could not find DOM element for node key ".concat(e));return t}const Xn=Object.freeze({}),Yn=[["keydown",function(e,t){if(Zn=e.timeStamp,$n=e.keyCode,t.isComposing())return;const{keyCode:n,shiftKey:o,ctrlKey:a,metaKey:i,altKey:r}=e;Ut(t,E,e)||(!function(e,t,n,o){return Ot(e)&&!t&&!o&&!n}(n,a,r,i)?!function(e,t,n,o,a){return Ot(e)&&!o&&!n&&(t||a)}(n,a,o,r,i)?!function(e,t,n,o){return Mt(e)&&!t&&!o&&!n}(n,a,r,i)?!function(e,t,n,o,a){return Mt(e)&&!o&&!n&&(t||a)}(n,a,o,r,i)?!function(e,t,n){return function(e){return 38===e}(e)&&!t&&!n}(n,a,i)?!function(e,t,n){return function(e){return 40===e}(e)&&!t&&!n}(n,a,i)?!function(e,t){return Dt(e)&&t}(n,o)?!function(e){return 32===e}(n)?!function(e,t){return ne&&t&&79===e}(n,a)?!function(e,t){return Dt(e)&&!t}(n,o)?!function(e,t,n,o){return ne?!t&&!n&&(Rt(e)||72===e&&o):!(o||t||n)&&Rt(e)}(n,r,i,a)?!function(e){return 27===e}(n)?!function(e,t,n,o,a){return ne?!(n||o||a)&&(zt(e)||68===e&&t):!(t||o||a)&&zt(e)}(n,a,o,r,i)?!function(e,t,n){return Rt(e)&&(ne?t:n)}(n,r,a)?!function(e,t,n){return zt(e)&&(ne?t:n)}(n,r,a)?!function(e,t){return ne&&t&&Rt(e)}(n,i)?!function(e,t){return ne&&t&&zt(e)}(n,i)?!function(e,t,n,o){return 66===e&&!t&&Bt(n,o)}(n,r,i,a)?!function(e,t,n,o){return 85===e&&!t&&Bt(n,o)}(n,r,i,a)?!function(e,t,n,o){return 73===e&&!t&&Bt(n,o)}(n,r,i,a)?!function(e,t,n,o){return 9===e&&!t&&!n&&!o}(n,r,a,i)?!function(e,t,n,o){return 90===e&&!t&&Bt(n,o)}(n,o,i,a)?!function(e,t,n,o){return ne?90===e&&n&&t:89===e&&o||90===e&&o&&t}(n,o,i,a)?oa(t._editorState._selection)?function(e,t,n,o){return!t&&67===e&&(ne?n:o)}(n,o,i,a)?(e.preventDefault(),Ut(t,W,e)):function(e,t,n,o){return!t&&88===e&&(ne?n:o)}(n,o,i,a)?(e.preventDefault(),Ut(t,J,e)):Pt(n,i,a)&&(e.preventDefault(),Ut(t,U,e)):!oe&&Pt(n,i,a)&&(e.preventDefault(),Ut(t,U,e)):(e.preventDefault(),Ut(t,w,void 0)):(e.preventDefault(),Ut(t,_,void 0)):Ut(t,D,e):(e.preventDefault(),Ut(t,x,"italic")):(e.preventDefault(),Ut(t,x,"underline")):(e.preventDefault(),Ut(t,x,"bold")):(e.preventDefault(),Ut(t,y,!1)):(e.preventDefault(),Ut(t,y,!0)):(e.preventDefault(),Ut(t,v,!1)):(e.preventDefault(),Ut(t,v,!0)):zt(n)?Ut(t,B,e):(e.preventDefault(),Ut(t,p,!1)):Ut(t,O,e):Rt(n)?Ut(t,M,e):(e.preventDefault(),Ut(t,p,!0)):(ao=!1,Ut(t,L,e)):(e.preventDefault(),ao=!0,Ut(t,g,!0)):Ut(t,I,e):(ao=!0,Ut(t,L,e)):Ut(t,N,e):Ut(t,T,e):Ut(t,A,e):Ut(t,S,e):Ut(t,C,e):Ut(t,k,e),function(e,t,n,o){return e||t||n||o}(a,o,r,i)&&Ut(t,Q,e))}],["pointerdown",function(e,t){const n=e.target,o=e.pointerType;n instanceof Node&&"touch"!==o&&Za(t,(()=>{Qa(vt(n))||(oo=!0)}))}],["compositionstart",function(e,t){Za(t,(()=>{const n=ba();if($o(n)&&!t.isComposing()){const o=n.anchor,a=n.anchor.getNode();mt(o.key),(e.timeStamp<Zn+30||"element"===o.type||!n.isCollapsed()||a.getFormat()!==n.format||a.getStyle()!==n.style)&&Ut(t,h,Le)}}))}],["compositionend",function(e,t){oe?io=!0:Za(t,(()=>{po(t,e.data)}))}],["input",function(e,t){e.stopPropagation(),Za(t,(()=>{const n=ba(),o=e.data,a=uo(e);if(null!=o&&$o(n)&&lo(n,a,o,e.timeStamp,!1)){io&&(po(t,o),io=!1);const a=n.anchor,i=a.getNode(),r=an(t._window);if(null===r)return;const l=a.offset;ae&&!n.isCollapsed()&&qo(i)&&null!==r.anchorNode&&i.getTextContent().slice(0,l)+o+i.getTextContent().slice(l+n.focus.offset)===Nt(r.anchorNode)||Ut(t,h,o);const s=o.length;oe&&s>1&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=s),ie||re||ce||!t.isComposing()||(Zn=0,mt(null))}else Lt(!1,t,null!==o?o:void 0),io&&(po(t,o||void 0),io=!1);Da(),Ge(Pa())})),eo=null}],["click",function(e,t){Za(t,(()=>{const n=ba(),o=an(t._window),a=va();if(o)if($o(n)){const t=n.anchor,i=t.getNode();"element"===t.type&&0===t.offset&&n.isCollapsed()&&!yi(i)&&1===_t().getChildrenSize()&&i.getTopLevelElementOrThrow().isEmpty()&&null!==a&&n.is(a)?(o.removeAllRanges(),n.dirty=!0):3!==e.detail||n.isCollapsed()||i!==n.focus.getNode()&&(ri(i)?i.select(0):i.getParentOrThrow().select(0))}else if("touch"===e.pointerType){const e=o.anchorNode;if(null!==e){const n=e.nodeType;1!==n&&3!==n||Et(fa(a,o,t))}}Ut(t,u,e)}))}],["cut",Xn],["copy",Xn],["dragstart",Xn],["dragover",Xn],["dragend",Xn],["paste",Xn],["focus",Xn],["blur",Xn],["drop",Xn]];ae&&Yn.push(["beforeinput",(e,t)=>function(e,t){const n=e.inputType,o=uo(e);"deleteCompositionText"===n||oe&&Jt(t)||"insertCompositionText"!==n&&Za(t,(()=>{const a=ba();if("deleteContentBackward"===n){if(null===a){const e=va();if(!$o(e))return;Et(e.clone())}if($o(a)){if(le&&mt(a.anchor.key),i=e.timeStamp,229===$n&&i<Zn+30&&t.isComposing()&&a.anchor.key===a.focus.key){if(mt(null),Zn=0,setTimeout((()=>{Za(t,(()=>{mt(null)}))}),30),$o(a)){const e=a.anchor.getNode();e.markDirty(),a.format=e.getFormat(),a.style=e.getStyle()}a.anchor.getNode().getTextContent().length<=1&&(e.preventDefault(),Ut(t,p,!0))}else e.preventDefault(),Ut(t,p,!0);return}}var i;if(!$o(a))return;const r=e.data;null!==eo&&Lt(!1,t,eo),a.dirty&&null===eo||!a.isCollapsed()||yi(a.anchor.getNode())||null===o||a.applyDOMRange(o),eo=null;const l=a.anchor,s=a.focus,c=l.getNode(),d=s.getNode();if("insertText"!==n&&"insertTranspose"!==n)switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Ut(t,h,e);break;case"insertFromComposition":mt(null),Ut(t,h,e);break;case"insertLineBreak":mt(null),Ut(t,g,!1);break;case"insertParagraph":mt(null),ao&&!re?(ao=!1,Ut(t,g,!1)):Ut(t,m,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Ut(t,f,e);break;case"deleteByComposition":(function(e,t){return e!==t||ri(e)||ri(t)||!e.isToken()||!t.isToken()})(c,d)&&Ut(t,b,e);break;case"deleteByDrag":case"deleteByCut":Ut(t,b,e);break;case"deleteContent":Ut(t,p,!1);break;case"deleteWordBackward":Ut(t,v,!0);break;case"deleteWordForward":Ut(t,v,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Ut(t,y,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Ut(t,y,!1);break;case"formatStrikeThrough":Ut(t,x,"strikethrough");break;case"formatBold":Ut(t,x,"bold");break;case"formatItalic":Ut(t,x,"italic");break;case"formatUnderline":Ut(t,x,"underline");break;case"formatQuote":Ut(t,x,"quote");break;case"formatKbd":Ut(t,x,"kbd");break;case"historyUndo":Ut(t,_,void 0);break;case"historyRedo":Ut(t,w,void 0)}else{if("\n"===r)e.preventDefault(),Ut(t,g,!1);else if(r===Ne)e.preventDefault(),Ut(t,m,void 0);else if(null==r&&e.dataTransfer){const t=e.dataTransfer.getData("text/plain");e.preventDefault(),a.insertRawText(t)}else null!=r&&lo(a,o,r,e.timeStamp,!0)?(e.preventDefault(),Ut(t,h,r)):eo=r;Qn=e.timeStamp}}))}(e,t)]);let Zn=0,$n=0,Qn=0,eo=null,to=0,no=!1,oo=!1,ao=!1,io=!1,ro=[0,"",0,"root",0];function lo(e,t,n,o,a){const i=e.anchor,r=e.focus,l=i.getNode(),s=Pa(),c=an(s._window),d=null!==c?c.anchorNode:null,u=i.key,p=s.getElementByKey(u),g=n.length;return u!==r.key||!qo(l)||(!a&&(!ae||Qn<o+50)||l.isDirty()&&g<2||St(n))&&i.offset!==r.offset&&!l.isComposing()||rt(l)||l.isDirty()&&g>1||(a||!ae)&&null!==p&&!l.isComposing()&&d!==st(p)||null!==c&&null!==t&&(!t.collapsed||t.startContainer!==c.anchorNode||t.startOffset!==c.anchorOffset)||l.getFormat()!==e.format||l.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;const n=e.anchor.offset,o=t.getParentOrThrow(),a=t.isToken();return 0===n?!t.canInsertTextBefore()||!o.canInsertTextBefore()||a||function(e){const t=e.getPreviousSibling();return(qo(t)||ri(t)&&t.isInline())&&!t.canInsertTextAfter()}(t):n===t.getTextContentSize()&&(!t.canInsertTextAfter()||!o.canInsertTextAfter()||a)}(e,l)}function so(e,t){return null!==e&&null!==e.nodeValue&&3===e.nodeType&&0!==t&&t!==e.nodeValue.length}function co(e,t,n){const{anchorNode:o,anchorOffset:a,focusNode:i,focusOffset:r}=e;no&&(no=!1,so(o,a)&&so(i,r))||Za(t,(()=>{if(!n)return void Et(null);if(!at(t,o,i))return;const a=ba();if($o(a)){const n=a.anchor,o=n.getNode();if(a.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(a.dirty=!0);const i=$t(t).event,r=i?i.timeStamp:performance.now(),[l,s,c,d,u]=ro;r<u+200&&n.offset===c&&n.key===d?(a.format=l,a.style=s):"text"===n.type?(a.format=o.getFormat(),a.style=o.getStyle()):"element"===n.type&&(a.format=0,a.style="")}else{let e=_e,t=!1;const n=a.getNodes(),o=n.length;for(let a=0;a<o;a++){const o=n[a];if(qo(o)&&(t=!0,e&=o.getFormat(),0===e))break}a.format=t?e:0}}Ut(t,d,void 0)}))}function uo(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return 0===t.length?null:t[0]}function po(e,t){const n=e._compositionKey;if(mt(null),null!==n&&null!=t){if(""===t){const t=ft(n),o=st(e.getElementByKey(n));return void(null!==o&&null!==o.nodeValue&&qo(t)&&It(t,o.nodeValue,null,null,!0))}if("\n"===t[t.length-1]){const t=ba();if($o(t)){const n=t.focus;return t.anchor.set(n.key,n.offset,n.type),void Ut(e,L,null)}}}Lt(!0,e,t)}function go(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}const mo=new Map;function ho(e){const t=e.target,n=an(null==t?null:9===t.nodeType?t.defaultView:t.ownerDocument.defaultView);if(null===n)return;const o=it(n.anchorNode);if(null===o)return;oo&&(oo=!1,Za(o,(()=>{const e=va(),t=n.anchorNode;if(null===t)return;const a=t.nodeType;1!==a&&3!==a||Et(fa(e,n,o))})));const a=At(o),i=a[a.length-1],r=i._key,l=mo.get(r),s=l||i;s!==o&&co(n,s,!1),co(n,o,!0),o!==i?mo.set(r,o):l&&mo.delete(r)}function fo(e){e._lexicalHandled=!0}function bo(e){return!0===e._lexicalHandled}function vo(e,t,n){Da();const o=e.__key,a=e.getParent();if(null===a)return;const i=function(e){const t=ba();if(!$o(t)||!ri(e))return t;const{anchor:n,focus:o}=t,a=n.getNode(),i=o.getNode();return Zt(a,e)&&n.set(e.__key,0,"element"),Zt(i,e)&&o.set(e.__key,0,"element"),t}(e);let r=!1;if($o(i)&&t){const t=i.anchor,n=i.focus;t.key===o&&(_a(t,e,a,e.getPreviousSibling(),e.getNextSibling()),r=!0),n.key===o&&(_a(n,e,a,e.getPreviousSibling(),e.getNextSibling()),r=!0)}else oa(i)&&t&&e.isSelected()&&e.selectPrevious();if($o(i)&&t&&!r){const t=e.getIndexWithinParent();pt(e),ya(i,a,t,-1)}else pt(e);n||Qt(a)||a.canBeEmpty()||!a.isEmpty()||vo(a,t),t&&yi(a)&&a.isEmpty()&&a.selectEnd()}class yo{static getType(){throw Error("LexicalNode: Node ".concat(this.name," does not implement .getType()."))}static clone(e){throw Error("LexicalNode: Node ".concat(this.name," does not implement .clone()."))}constructor(e){s(this,"__first_element",!1),s(this,"__last_element",!1),this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,this.__version=1,ut(this,e),"root"!==this.__type&&(Da(),function(e,t){const n=Pa()._nodes.get(e);if(void 0===n)throw Error("Create node: Attempted to create node ".concat(t.name," that was not configured to be used on the editor."));const o=n.klass;if(o!==t)throw Error("Create node: Type ".concat(e," in node ").concat(t.name," does not match registered node ").concat(o.name," with the same type"))}(this.__type,this.constructor))}getType(){return this.__type}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;const t=ft(e);if(null===t)break;e=t.__parent}return!1}isSelected(e){const t=e||ba();if(null==t)return!1;const n=t.getNodes().some((e=>e.__key===this.__key));return(qo(this)||!$o(t)||"element"!==t.anchor.type||"element"!==t.focus.type||t.anchor.key!==t.focus.key||t.anchor.offset!==t.focus.offset)&&n}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(null===e)return-1;let t=e.getFirstChild(),n=0;for(;null!==t;){if(this.is(t))return n;n++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return null===e?null:ft(e)}getParentOrThrow(){const e=this.getParent();if(null===e)throw Error("Expected node ".concat(this.__key," to have a parent."));return e}getTopLevelElement(){let e=this;for(;null!==e;){const t=e.getParent();if(Qt(t))return e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();if(null===e)throw Error("Expected node ".concat(this.__key," to have a top parent element."));return e}getParents(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return null===e?null:ft(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(null===t)return e;let n=t.getFirstChild();for(;null!==n&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return null===e?null:ft(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=this.getParents(),n=e.getParents();ri(this)&&t.unshift(this),ri(e)&&n.unshift(e);const o=t.length,a=n.length;if(0===o||0===a||t[o-1]!==n[a-1])return null;const i=new Set(n);for(let e=0;e<o;e++){const n=t[e];if(i.has(n))return n}return null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;const t=this.getCommonAncestor(e);let n=0,o=0,a=this;for(;;){const e=a.getParentOrThrow();if(e===t){n=a.getIndexWithinParent();break}a=e}for(a=e;;){const e=a.getParentOrThrow();if(e===t){o=a.getIndexWithinParent();break}a=e}return n<o}isParentOf(e){const t=this.__key;if(t===e.__key)return!1;let n=e;for(;null!==n;){if(n.__key===t)return!0;n=n.getParent()}return!1}getNodesBetween(e){const t=this.isBefore(e),n=[],o=new Set;let a=this;for(;;){const i=a.__key;if(o.has(i)||(o.add(i),n.push(a)),a===e)break;const r=ri(a)?t?a.getFirstChild():a.getLastChild():null;if(null!==r){a=r;continue}const l=t?a.getNextSibling():a.getPreviousSibling();if(null!==l){a=l;continue}const s=a.getParentOrThrow();if(o.has(s.__key)||n.push(s),s===e)break;let c=null,d=s;do{if(null===d)throw Error("getNodesBetween: ancestor is null");c=t?d.getNextSibling():d.getPreviousSibling(),d=d.getParent(),null!==d&&(null!==c||o.has(d.__key)||n.push(d))}while(null===c);a=c}return t||n.reverse(),n}isDirty(){const e=Pa()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){const e=ft(this.__key);if(null===e)throw Error("Lexical node does not exist in active editor state. Avoid using the same node references between nested closures from editorState.read/editor.update.");return e}getWritable(){Da();const e=za(),t=Pa(),n=e._nodeMap,o=this.__key,a=this.getLatest(),i=a.__parent,r=t._cloneNotNeeded,l=ba();if(null!==l&&(l._cachedNodes=null),r.has(o))return gt(a),a;const s=a.constructor.clone(a);return s.__parent=i,s.__next=a.__next,s.__prev=a.__prev,ri(a)&&ri(s)?(s.__first=a.__first,s.__last=a.__last,s.__size=a.__size,s.__indent=a.__indent,s.__format=a.__format,s.__dir=a.__dir):qo(a)&&qo(s)&&(s.__format=a.__format,s.__style=a.__style,s.__mode=a.__mode,s.__detail=a.__detail),r.add(o),s.__key=o,gt(s),n.set(o,s),s}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){throw Error("createDOM: base method not extended")}updateDOM(e,t,n){throw Error("updateDOM: base method not extended")}exportDOM(e){const t=this.createDOM(e._config,e);return t.setAttribute("data-v",String(1)),{element:t}}exportJSON(){throw Error("exportJSON: base method not extended")}static importJSON(e){throw Error("LexicalNode: Node ".concat(this.name," does not implement .importJSON()."))}static transform(){return null}remove(e){vo(this,!0,e)}replace(e,t){Da();let n=ba();null!==n&&(n=n.clone()),tn(this,e);const o=this.getLatest(),a=this.__key,i=e.__key,r=e.getWritable(),l=this.getParentOrThrow().getWritable(),s=l.__size;pt(r);const c=o.getPreviousSibling(),d=o.getNextSibling(),u=o.__prev,p=o.__next,g=o.__parent;if(vo(o,!1,!0),null===c?l.__first=i:c.getWritable().__next=i,r.__prev=u,null===d?l.__last=i:d.getWritable().__prev=i,r.__next=p,r.__parent=g,l.__size=s,t&&this.getChildren().forEach((e=>{r.append(e)})),$o(n)){Et(n);const e=n.anchor,t=n.focus;e.key===a&&Go(e,r),t.key===a&&Go(t,r)}return ht()===a&&mt(i),r}insertAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Da(),tn(this,e);const n=this.getWritable(),o=e.getWritable(),a=o.getParent(),i=ba();let r=!1,l=!1;if(null!==a){const t=e.getIndexWithinParent();if(pt(o),$o(i)){const e=a.__key,n=i.anchor,o=i.focus;r="element"===n.type&&n.key===e&&n.offset===t+1,l="element"===o.type&&o.key===e&&o.offset===t+1}}const s=this.getNextSibling(),c=this.getParentOrThrow().getWritable(),d=o.__key,u=n.__next;if(null===s?c.__last=d:s.getWritable().__prev=d,c.__size++,n.__next=d,o.__next=u,o.__prev=n.__key,o.__parent=n.__parent,t&&$o(i)){const e=this.getIndexWithinParent();ya(i,c,e+1);const t=c.__key;r&&i.anchor.set(t,e+2,"element"),l&&i.focus.set(t,e+2,"element")}return e}insertBefore(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Da(),tn(this,e);const n=this.getWritable(),o=e.getWritable(),a=o.__key;pt(o);const i=this.getPreviousSibling(),r=this.getParentOrThrow().getWritable(),l=n.__prev,s=this.getIndexWithinParent();null===i?r.__first=a:i.getWritable().__next=a,r.__size++,n.__prev=a,o.__prev=l,o.__next=n.__key,o.__parent=n.__parent;const c=ba();return t&&$o(c)&&ya(c,this.getParentOrThrow(),s),e}isParentRequired(){return!1}createParentElementNode(){return Ai()}selectPrevious(e,t){Da();const n=this.getPreviousSibling(),o=this.getParentOrThrow();if(null===n)return o.select(0,0);if(ri(n))return n.select();if(!qo(n)){const e=n.getIndexWithinParent()+1;return o.select(e,e)}return n.select(e,t)}selectNext(e,t){Da();const n=this.getNextSibling(),o=this.getParentOrThrow();if(null===n)return o.select();if(ri(n))return n.select(0,0);if(!qo(n)){const e=n.getIndexWithinParent();return o.select(e,e)}return n.select(e,t)}markDirty(){this.getWritable()}getVersion(){}setVersion(){}getFirstElement(){return this.getLatest().__first_element}setFirstElement(e){const t=this.getWritable();return t.__first_element=e,t}getLastElement(){return this.getLatest().__last_element}setLastElement(e){this.getWritable().__last_element=e}}class xo extends yo{static getType(){return"linebreak"}static clone(e){return new xo(e.__key)}constructor(e){super(e),s(this,"__version",1)}getTextContent(){return"\n"}createDOM(){const e=document.createElement("br");return e.setAttribute("data-v",String(1)),this.getFirstElement()&&e.classList.add("first-rte-element"),this.getLastElement()&&e.classList.add("last-rte-element"),e}updateDOM(){return!1}static importDOM(){return{br:e=>{const t=e.parentElement;let n,o;return null!==t&&((n=t.firstChild)===e||n.nextSibling===e&&3===n.nodeType&&null!==(n.textContent||"").match(/^( |\t|\r?\n)+$/))&&((o=t.lastChild)===e||o.previousSibling===e&&3===o.nodeType&&null!==(o.textContent||"").match(/^( |\t|\r?\n)+$/))?null:{conversion:_o,priority:0}}}}static importJSON(e){return wo()}exportJSON(){return{type:"linebreak",version:1}}}function _o(e){return{node:wo()}}function wo(){return en(new xo)}function Eo(e){return e instanceof xo}function ko(e,t){return t&he?"code":t&ve?"mark":t&fe?"sub":t&be?"sup":t&ye?"q":t&xe?"kbd":null}function Co(e,t){return 1&t?"strong":2&t?"em":"span"}function So(e,t,n,o,a){const i=o.classList;let r=Ht(a,"base");void 0!==r&&i.add(...r),r=Ht(a,"underlineStrikethrough");let l=!1;const s=8&t&&4&t;void 0!==r&&(8&n&&4&n?(l=!0,s||i.add(...r)):s&&i.remove(...r));for(const e in De){const o=De[e];if(r=Ht(a,e),void 0!==r)if(n&o){if(l&&("underline"===e||"strikethrough"===e)){t&o&&i.remove(...r);continue}t&o&&(!s||"underline"!==e)&&"strikethrough"!==e||i.add(...r)}else t&o&&i.remove(...r)}}function Ao(e,t,n){const o=t.firstChild,a=n.isComposing(),i=e+(a?Te:"");if(null==o)t.textContent=i;else{const e=o.nodeValue;if(e!==i)if(a||oe){const[t,n,a]=function(e,t){const n=e.length,o=t.length;let a=0,i=0;for(;a<n&&a<o&&e[a]===t[a];)a++;for(;i+a<n&&i+a<o&&e[n-i-1]===t[o-i-1];)i++;return[a,n-a-i,t.slice(a,o-i)]}(e,i);0!==n&&o.deleteData(t,n),o.insertData(t,a)}else o.nodeValue=i}}function To(e,t,n,o,a,i){Ao(a,e,t);const r=i.theme.text;void 0!==r&&So(0,0,o,e,r)}function No(e,t){const n=document.createElement(t);return n.appendChild(e),n}class Lo extends yo{static getType(){return"text"}static clone(e){return new Lo(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0,this.__version=1}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return He[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===ht()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=De[e];return!!(this.getFormat()&t)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return ct(this.getLatest().__format,e,t)}createDOM(e){const t=this.__format,n=ko(0,t),o=Co(0,t),a=null===n?o:n,i=document.createElement(a);let r=i;this.hasFormat("code")&&i.setAttribute("spellcheck","false"),null!==n&&(r=document.createElement(o),i.appendChild(r)),To(r,this,0,t,this.__text,e);const l=this.__style;return""!==l&&(i.style.cssText=l),"kbd"===n&&i.classList.add("inline"),i.setAttribute("data-v",String(1)),this.getFirstElement()&&i.classList.add("first-rte-element"),this.getLastElement()&&i.classList.add("last-rte-element"),i}updateDOM(e,t,n){const o=this.__text,a=e.__format,i=this.__format,r=ko(0,a),l=ko(0,i),s=Co(0,a),c=Co(0,i);if((null===r?s:r)!==(null===l?c:l))return!0;if(r===l&&s!==c){const e=t.firstChild;if(null==e)throw Error("updateDOM: prevInnerDOM is null or undefined");const a=document.createElement(c);return To(a,this,0,i,o,n),t.replaceChild(a,e),!1}let d=t;if(null!==l&&null!==r&&(d=t.firstChild,null==d))throw Error("updateDOM: innerDOM is null or undefined");Ao(o,d,this);const u=n.theme.text;void 0!==u&&a!==i&&So(0,a,i,d,u);const p=e.__style,g=this.__style;return p!==g&&(t.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:Do,priority:0}),b:()=>({conversion:Mo,priority:0}),code:()=>({conversion:Fo,priority:0}),em:()=>({conversion:Fo,priority:0}),i:()=>({conversion:Fo,priority:0}),s:()=>({conversion:Fo,priority:0}),span:()=>({conversion:Io,priority:0}),strong:()=>({conversion:Fo,priority:0}),sub:()=>({conversion:Fo,priority:0}),sup:()=>({conversion:Fo,priority:0}),u:()=>({conversion:Fo,priority:0}),q:()=>({conversion:Fo,priority:0}),kbd:()=>({conversion:Fo,priority:0})}}static importJSON(e){const t=Ho(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportDOM(e){let{element:t}=super.exportDOM(e);if(null===t||!dn(t))throw Error("Expected TextNode createDOM to always return a HTMLElement");return t.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(t=No(t,"b")),this.hasFormat("italic")&&(t=No(t,"i")),this.hasFormat("strikethrough")&&(t=No(t,"s")),this.hasFormat("underline")&&(t=No(t,"u")),this.hasFormat("kbd")&&t.classList.add("inline"),t.setAttribute("data-v",String(1)),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format="string"==typeof e?De[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail="string"==typeof e?Re[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=De[e];return this.setFormat(this.getFormat()^t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=Fe[e];if(this.__mode===t)return this;const n=this.getWritable();return n.__mode=t,n}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){Da();let n=e,o=t;const a=ba(),i=this.getTextContent(),r=this.__key;if("string"==typeof i){const e=i.length;void 0===n&&(n=e),void 0===o&&(o=e)}else n=0,o=0;if(!$o(a))return pa(r,n,r,o,"text","text");{const e=ht();e!==a.anchor.key&&e!==a.focus.key||mt(r),a.setTextNodeRange(this,n,this,o)}return a}spliceText(e,t,n,o){const a=this.getWritable(),i=a.__text,r=n.length;let l=e;l<0&&(l=r+l,l<0&&(l=0));const s=ba();if(o&&$o(s)){const t=e+r;s.setTextNodeRange(a,t,a,t)}const c=i.slice(0,l)+n+i.slice(l+t);return a.__text=c,a}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(){Da();const e=this.getLatest(),t=e.getTextContent(),n=e.__key,o=ht();for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];const l=new Set(i),s=[],c=t.length;let d="";for(let e=0;e<c;e++)""!==d&&l.has(e)&&(s.push(d),d=""),d+=t[e];""!==d&&s.push(d);const u=s.length;if(0===u)return[];if(s[0]===t)return[e];const p=s[0],g=e.getParentOrThrow();let m;const h=e.getFormat(),f=e.getStyle(),b=e.__detail;let v=!1;e.isSegmented()?(m=Ho(p),m.__format=h,m.__style=f,m.__detail=b,v=!0):(m=e.getWritable(),m.__text=p);const y=ba(),x=[m];let _=p.length;for(let e=1;e<u;e++){const t=s[e],a=t.length,i=Ho(t).getWritable();i.__format=h,i.__style=f,i.__detail=b;const r=i.__key,l=_+a;if($o(y)){const e=y.anchor,t=y.focus;e.key===n&&"text"===e.type&&e.offset>_&&e.offset<=l&&(e.key=r,e.offset-=_,y.dirty=!0),t.key===n&&"text"===t.type&&t.offset>_&&t.offset<=l&&(t.key=r,t.offset-=_,y.dirty=!0)}o===n&&mt(r),_=l,x.push(i)}!function(e){const t=e.getPreviousSibling(),n=e.getNextSibling();null!==t&&gt(t),null!==n&&gt(n)}(this);const w=g.getWritable(),E=this.getIndexWithinParent();return v?(w.splice(E,0,x),this.remove()):w.splice(E,1,x),$o(y)&&ya(y,g,E,u-1),x}mergeWithSibling(e){const t=e===this.getPreviousSibling();if(!t&&e!==this.getNextSibling())throw Error("mergeWithSibling: sibling must be a previous or next sibling");const n=this.__key,o=e.__key,a=this.__text,i=a.length;ht()===o&&mt(n);const r=ba();if($o(r)){const a=r.anchor,l=r.focus;null!==a&&a.key===o&&(wa(a,t,n,e,i),r.dirty=!0),null!==l&&l.key===o&&(wa(l,t,n,e,i),r.dirty=!0)}const l=e.__text,s=t?l+a:a+l;this.setTextContent(s);const c=this.getWritable();return e.remove(),c}isTextEntity(){return!1}}function Io(e){const t=e,n="700"===t.style.fontWeight,o="line-through"===t.style.textDecoration,a="italic"===t.style.fontStyle,i="underline"===t.style.textDecoration,r=t.style.verticalAlign;return{forChild:e=>qo(e)?(n&&e.toggleFormat("bold"),o&&e.toggleFormat("strikethrough"),a&&e.toggleFormat("italic"),i&&e.toggleFormat("underline"),"sub"===r&&e.toggleFormat("subscript"),"super"===r&&e.toggleFormat("superscript"),e):e,node:null}}function Mo(e){const t="normal"===e.style.fontWeight;return{forChild:e=>(qo(e)&&!t&&e.toggleFormat("bold"),e),node:null}}const Oo=new WeakMap;function Bo(e){return"PRE"===e.nodeName||1===e.nodeType&&void 0!==e.style&&void 0!==e.style.whiteSpace&&e.style.whiteSpace.startsWith("pre")}function Do(e){const t=e;if(null===e.parentElement)throw Error("Expected parentElement of Text not to be null");let n=t.textContent||"";if(null!==function(e){let t,n=e.parentNode;const o=[e];for(;null!==n&&void 0===(t=Oo.get(n))&&!Bo(n);)o.push(n),n=n.parentNode;const a=void 0===t?n:t;for(let e=0;e<o.length;e++)Oo.set(o[e],a);return a}(t)){const e=n.split(/(\r?\n|\t)/),t=[],o=e.length;for(let n=0;n<o;n++){const o=e[n];"\n"===o||"\r\n"===o?t.push(wo()):"\t"===o?t.push(Ko()):""!==o&&t.push(Ho(o))}return{node:t}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===n)return{node:null};if(" "===n[0]){let e=t,o=!0;for(;null!==e&&null!==(e=zo(e,!1));){const t=e.textContent||"";if(t.length>0){/[ \t\n]$/.test(t)&&(n=n.slice(1)),o=!1;break}}o&&(n=n.slice(1))}if(" "===n[n.length-1]){let e=t,o=!0;for(;null!==e&&null!==(e=zo(e,!0));)if((e.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){o=!1;break}o&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:Ho(n)}}const Ro=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/,"i");function zo(e,t){let n=e;for(;;){let e;for(;null===(e=t?n.nextSibling:n.previousSibling);){const e=n.parentElement;if(null===e)return null;n=e}if(n=e,1===n.nodeType){const e=n.style.display;if(""===e&&null===n.nodeName.match(Ro)||""!==e&&!e.startsWith("inline"))return null}let o=n;for(;null!==(o=t?n.firstChild:n.lastChild);)n=o;if(3===n.nodeType)return n;if("BR"===n.nodeName)return null}}const Po={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline",q:"quote",kbd:"kbd"};function Fo(e){const t=Po[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:e=>(qo(e)&&!e.hasFormat(t)&&(e.toggleFormat(t),"subscript"===t&&e.hasFormat("superscript")&&e.toggleFormat("superscript"),"superscript"===t&&e.hasFormat("subscript")&&e.toggleFormat("subscript")),e),node:null}}function Ho(){return en(new Lo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""))}function qo(e){return e instanceof Lo}class jo extends Lo{static getType(){return"tab"}static clone(e){const t=new jo(e.__key);return t.__text=e.__text,t.__format=e.__format,t.__style=e.__style,t}constructor(e){super("\t",e),this.__detail=2,this.__version=1}static importDOM(){return null}static importJSON(e){const t=Ko();return t.setFormat(e.format),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(e){throw Error("TabNode does not support setTextContent")}setDetail(e){throw Error("TabNode does not support setDetail")}setMode(e){throw Error("TabNode does not support setMode")}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Ko(){return en(new jo)}function Wo(e){return e instanceof jo}class Jo{constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),n=e.getNode();const o=this.offset,a=e.offset;if(ri(t)){const e=t.getDescendantByIndex(o);t=null!=e?e:t}if(ri(n)){const e=n.getDescendantByIndex(a);n=null!=e?e:n}return t===n?o<a:t.isBefore(n)}getNode(){const e=ft(this.key);if(null===e)throw Error("Point.getNode: node not found");return e}set(e,t,n){const o=this._selection,a=this.key;this.key=e,this.offset=t,this.type=n,Ba()||(ht()===a&&mt(e),null!==o&&(o._cachedNodes=null,o.dirty=!0))}}function Uo(e,t,n){return new Jo(e,t,n)}function Vo(e,t){let n=t.__key,o=e.offset,a="element";if(qo(t)){a="text";const e=t.getTextContentSize();o>e&&(o=e)}else if(!ri(t)){const e=t.getNextSibling();if(qo(e))n=e.__key,o=0,a="text";else{const e=t.getParent();e&&(n=e.__key,o=t.getIndexWithinParent()+1)}}e.set(n,o,a)}function Go(e,t){if(ri(t)){const n=t.getLastDescendant();ri(n)||qo(n)?Vo(e,n):Vo(e,t)}else Vo(e,t)}function Xo(e,t,n,o){const a=e.getNode(),i=a.getChildAtIndex(e.offset),r=Ho(),l=yi(a)?Ai().append(r):r;r.setFormat(n),r.setStyle(o),null===i?a.append(l):i.insertBefore(l),e.is(t)&&t.set(r.__key,0,"text"),e.set(r.__key,0,"text")}function Yo(e,t,n,o){e.key=t,e.offset=n,e.type=o}class Zo{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}is(e){if(!oa(e))return!1;const t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((e=>n.has(e)))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Zo(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),n=t.length,o=t[n-1];let a;if(qo(o))a=o.select();else{const e=o.getIndexWithinParent()+1;a=o.getParentOrThrow().select(e,e)}a.insertNodes(e);for(let e=0;e<n;e++)t[e].remove()}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this._nodes,n=[];for(const e of t){const t=ft(e);null!==t&&n.push(t)}return Ba()||(this._cachedNodes=n),n}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function $o(e){return e instanceof na}function Qo(e){const[t,,n]=Sa(e),o=n.getChildren(),a=o.length,i=o[0].getChildren().length,r=new Array(a);for(let e=0;e<a;e++)r[e]=new Array(i);for(let e=0;e<a;e++){const n=o[e].getChildren();let a=0;for(let o=0;o<n.length;o++){for(;r[e][a];)a++;const i=n[o],l=i.__rowSpan||1,s=i.__colSpan||1;for(let t=0;t<l;t++)for(let n=0;n<s;n++)r[e+t][a+n]=i;if(t===i)return{colSpan:s,columnIndex:a,rowIndex:e,rowSpan:l};a+=s}}return null}class ea{constructor(e,t,n){this.gridKey=e,this.anchor=t,this.focus=n,this.dirty=!1,this._cachedNodes=null,t._selection=this,n._selection=this}is(e){return!!ta(e)&&this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,n){this.dirty=!0,this.gridKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new ea(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return ia(this)}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.focus.getNode();Qe(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){const e=ft(this.anchor.key);if(!Pi(e))throw Error("Expected GridSelection anchor to be (or a child of) GridCellNode");const t=Qo(e);if(null===t)throw Error("getCellRect: expected to find AnchorNode");const n=ft(this.focus.key);if(!Pi(n))throw Error("Expected GridSelection focus to be (or a child of) GridCellNode");const o=Qo(n);if(null===o)throw Error("getCellRect: expected to find focusCellNode");const a=Math.min(t.columnIndex,o.columnIndex),i=Math.max(t.columnIndex,o.columnIndex),r=Math.min(t.rowIndex,o.rowIndex),l=Math.max(t.rowIndex,o.rowIndex);return{fromX:Math.min(a,i),fromY:Math.min(r,l),toX:Math.max(a,i),toY:Math.max(r,l)}}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this.anchor.getNode(),n=this.focus.getNode(),o=ln(t,Pi),a=ln(n,Pi);if(!Pi(o))throw Error("Expected GridSelection anchor to be (or a child of) GridCellNode");if(!Pi(a))throw Error("Expected GridSelection focus to be (or a child of) GridCellNode");const i=o.getParent();if(!ji(i))throw Error("Expected anchorCell to have a parent GridRowNode");const r=i.getParent();if(!Hi(r))throw Error("Expected tableNode to have a parent GridNode");const l=a.getParents()[1];if(l!==r){if(r.isParentOf(a)){const e=l.getParent();if(null==e)throw Error("Expected focusCellParent to have a parent");this.set(this.gridKey,a.getKey(),e.getKey())}else{const e=r.getParent();if(null==e)throw Error("Expected gridParent to have a parent");this.set(this.gridKey,e.getKey(),a.getKey())}return this.getNodes()}const[s,c,d]=Ca(r,o,a);let u=Math.min(c.startColumn,d.startColumn),p=Math.min(c.startRow,d.startRow),g=Math.max(c.startColumn+c.cell.__colSpan-1,d.startColumn+d.cell.__colSpan-1),m=Math.max(c.startRow+c.cell.__rowSpan-1,d.startRow+d.cell.__rowSpan-1),h=u,f=p,b=u,v=p;function y(e){const{cell:t,startColumn:n,startRow:o}=e;u=Math.min(u,n),p=Math.min(p,o),g=Math.max(g,n+t.__colSpan-1),m=Math.max(m,o+t.__rowSpan-1)}for(;u<h||p<f||g>b||m>v;){if(u<h){const e=v-f,t=h-1;for(let n=0;n<=e;n++)y(s[f+n][t]);h=t}if(p<f){const e=b-h,t=f-1;for(let n=0;n<=e;n++)y(s[t][h+n]);f=t}if(g>b){const e=v-f,t=b+1;for(let n=0;n<=e;n++)y(s[f+n][t]);b=t}if(m>v){const e=b-h,t=v+1;for(let n=0;n<=e;n++)y(s[t][h+n]);v=t}}const x=[r];let _=null;for(let e=p;e<=m;e++)for(let t=u;t<=g;t++){const{cell:n}=s[e][t],o=n.getParent();if(!ji(o))throw Error("Expected GridCellNode parent to be a GridRowNode");o!==_&&x.push(o),x.push(n,...sn(n)),_=o}return Ba()||(this._cachedNodes=x),x}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function ta(e){return e instanceof ea}class na{constructor(e,t,n,o){this.anchor=e,this.focus=t,this.dirty=!1,this.format=n,this.style=o,this._cachedNodes=null,e._selection=this,t._selection=this}is(e){return!!$o(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this.anchor,n=this.focus,o=t.isBefore(n),a=o?t:n,i=o?n:t;let r=a.getNode(),l=i.getNode();const s=a.offset,c=i.offset;if(ri(r)){const e=r.getDescendantByIndex(s);r=null!=e?e:r}if(ri(l)){let e=l.getDescendantByIndex(c);null!==e&&e!==r&&l.getChildAtIndex(c)===e&&(e=e.getPreviousSibling()),l=null!=e?e:l}let d;return d=r.is(l)?ri(r)&&r.getChildrenSize()>0?[]:[r]:r.getNodesBetween(l),Ba()||(this._cachedNodes=d),d}setTextNodeRange(e,t,n,o){Yo(this.anchor,e.__key,t,"text"),Yo(this.focus,n.__key,o,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const e=this.getNodes();if(0===e.length)return"";const t=e[0],n=e[e.length-1],o=this.anchor,a=this.focus,i=o.isBefore(a),[r,l]=ia(this);let s="",c=!0;for(let d=0;d<e.length;d++){const u=e[d];if(ri(u)&&!u.isInline())c||(s+="\n"),c=!u.isEmpty();else if(c=!1,qo(u)){let e=u.getTextContent();u===t?u===n?"element"===o.type&&"element"===a.type&&a.offset!==o.offset||(e=r<l?e.slice(r,l):e.slice(l,r)):e=i?e.slice(r):e.slice(l):u===n&&(e=i?e.slice(0,l):e.slice(0,r)),s+=e}else!Qa(u)&&!Eo(u)||u===n&&this.isCollapsed()||(s+=u.getTextContent())}return s}applyDOMRange(e){const t=Pa(),n=t.getEditorState()._selection,o=da(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n);if(null===o)return;const[a,i]=o;Yo(this.anchor,a.key,a.offset,a.type),Yo(this.focus,i.key,i.offset,i.type),this._cachedNodes=null}clone(){const e=this.anchor,t=this.focus;return new na(Uo(e.key,e.offset,e.type),Uo(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=ct(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=De[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),n=[],o=t.length;for(let e=0;e<o;e++){const o=t[e];"\n"===o||"\r\n"===o?n.push(wo()):"\t"===o?n.push(Ko()):n.push(Ho(o))}this.insertNodes(n)}insertText(e){const t=this.anchor,n=this.focus,o=this.isCollapsed()||t.isBefore(n),a=this.format,i=this.style;o&&"element"===t.type?Xo(t,n,a,i):o||"element"!==n.type||Xo(n,t,a,i);const r=this.getNodes(),l=r.length,s=o?n:t,c=(o?t:n).offset,d=s.offset;let u=r[0];if(!qo(u))throw Error("insertText: first node is not a text node");const p=u.getTextContent().length,g=u.getParentOrThrow();let m=r[l-1];if(this.isCollapsed()&&c===p&&(u.isSegmented()||u.isToken()||!u.canInsertTextAfter()||!g.canInsertTextAfter()&&null===u.getNextSibling())){let t=u.getNextSibling();if(qo(t)&&t.canInsertTextBefore()&&!rt(t)||(t=Ho(),t.setFormat(a),g.canInsertTextAfter()?u.insertAfter(t):g.insertAfter(t)),t.select(0,0),u=t,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===c&&(u.isSegmented()||u.isToken()||!u.canInsertTextBefore()||!g.canInsertTextBefore()&&null===u.getPreviousSibling())){let t=u.getPreviousSibling();if(qo(t)&&!rt(t)||(t=Ho(),t.setFormat(a),g.canInsertTextBefore()?u.insertBefore(t):g.insertBefore(t)),t.select(),u=t,""!==e)return void this.insertText(e)}else if(u.isSegmented()&&c!==p){const e=Ho(u.getTextContent());e.setFormat(a),u.replace(e),u=e}else if(!this.isCollapsed()&&""!==e){const t=m.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||ri(t)&&(!t.canInsertTextBefore()||!t.canInsertTextAfter()))return this.insertText(""),ca(this.anchor,this.focus,null),void this.insertText(e)}if(1===l){if(u.isToken()){const t=Ho(e);return t.select(),void u.replace(t)}const t=u.getFormat(),n=u.getStyle();if(c!==d||t===a&&n===i){if(Wo(u)){const t=Ho(e);return t.setFormat(a),t.setStyle(i),t.select(),void u.replace(t)}}else{if(""!==u.getTextContent()){const t=Ho(e);if(t.setFormat(a),t.setStyle(i),t.select(),0===c)u.insertBefore(t,!1);else{const[e]=u.splitText(c);e.insertAfter(t,!1)}return void(t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}u.setFormat(a),u.setStyle(i)}const o=d-c;u=u.spliceText(c,o,e,!0),""===u.getTextContent()?u.remove():"text"===this.anchor.type&&(u.isComposing()?this.anchor.offset-=e.length:(this.format=t,this.style=n))}else{const t=new Set([...u.getParentKeys(),...m.getParentKeys()]),n=ri(u)?u:u.getParentOrThrow();let o=ri(m)?m:m.getParentOrThrow(),a=m;if(!n.is(o)&&o.isInline())do{a=o,o=o.getParentOrThrow()}while(o.isInline());if("text"===s.type&&(0!==d||""===m.getTextContent())||"element"===s.type&&m.getIndexWithinParent()<d)if(qo(m)&&!m.isToken()&&d!==m.getTextContentSize()){if(m.isSegmented()){const e=Ho(m.getTextContent());m.replace(e),m=e}yi(s.getNode())||"text"!==s.type||(m=m.spliceText(0,d,"")),t.add(m.__key)}else{const e=m.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?m.remove():e.remove()}else t.add(m.__key);const i=o.getChildren(),g=new Set(r),h=n.is(o),f=n.isInline()&&null===u.getNextSibling()?n:u;for(let e=i.length-1;e>=0;e--){const t=i[e];if(t.is(u)||ri(t)&&t.isParentOf(u))break;t.isAttached()&&(!g.has(t)||t.is(a)?h||f.insertAfter(t,!1):t.remove())}if(!h){let e=o,n=null;for(;null!==e;){const o=e.getChildren(),a=o.length;(0===a||o[a-1].is(n))&&(t.delete(e.__key),n=e),e=e.getParent()}}if(u.isToken())if(c===p)u.select();else{const t=Ho(e);t.select(),u.replace(t)}else u=u.spliceText(c,p-c,e,!0),""===u.getTextContent()?u.remove():u.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<l;e++){const n=r[e],o=n.__key;t.has(o)||n.remove()}}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())return this.toggleFormat(e),void mt(null);const t=this.getNodes(),n=[];for(const e of t)qo(e)&&n.push(e);const o=n.length;if(0===o)return this.toggleFormat(e),void mt(null);const a=this.anchor,i=this.focus,r=this.isBackward(),l=r?i:a,s=r?a:i;let c=0,d=n[0],u="element"===l.type?0:l.offset;if("text"===l.type&&u===d.getTextContentSize()&&(c=1,d=n[1],u=0),null==d)return;const p=d.getFormatFlags(e,null),g=o-1;let m=n[g];const h="text"===s.type?s.offset:m.getTextContentSize();if(d.is(m)){if(u===h)return;if(0===u&&h===d.getTextContentSize())d.setFormat(p);else{const e=d.splitText(u,h),t=0===u?e[0]:e[1];t.setFormat(p),"text"===l.type&&l.set(t.__key,0,"text"),"text"===s.type&&s.set(t.__key,h-u,"text")}return void(this.format=p)}0!==u&&([,d]=d.splitText(u),u=0),d.setFormat(p);const f=m.getFormatFlags(e,p);h>0&&(h!==m.getTextContentSize()&&([m]=m.splitText(h)),m.setFormat(f));for(let t=c+1;t<g;t++){const o=n[t];if(!o.isToken()){const t=o.getFormatFlags(e,f);o.setFormat(t)}}"text"===l.type&&l.set(d.__key,u,"text"),"text"===s.type&&s.set(m.__key,h,"text"),this.format=p|f}insertNodes(e){if(0===e.length)return;if("root"===this.anchor.key){this.insertParagraph();const t=ba();if(!$o(t))throw Error("Expected RangeSelection after insertParagraph");return t.insertNodes(e)}const t=pn(this.anchor.getNode(),un);if("__language"in t){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const n=Aa(this);t.splice(n,0,e);const o=e[e.length-1];o.select?o.select():o.selectNext(0,0)}return}const n=e=>(ri(e)||Qa(e))&&!e.isInline(),o=e=>ri(e)&&un(e)&&!e.isEmpty()&&ri(t)&&(!t.isEmpty()||!Qt(t.getParentOrThrow())),a=e.find(n),i=ri(t)&&t.isEmpty()?null:this.insertParagraph(),r=e[e.length-1],l=ri(r)&&r.getLastDescendant()||r,s=l.getTextContentSize();let c=t;for(const t of e)t===a&&o(t)?c.append(...t.getChildren()):n(t)?c=c.insertAfter(t):c.append(t);i&&ri(c)&&un(c)&&(c.append(...i.getChildren()),i.remove()),ri(t)&&t.isEmpty()&&t.remove(),l.select?l.select(s,s):l.selectNext(0,0);const d=ri(t)?t.getLastChild():null;Eo(d)&&c!==t&&d.remove()}insertParagraph(){if("root"===this.anchor.key){const e=Ai();return _t().splice(this.anchor.offset,0,[e]),e.select(),e}const e=Aa(this),t=pn(this.anchor.getNode(),un),n=t.getChildAtIndex(e),o=n?[n,...n.getNextSiblings()]:[],a=t.insertNewAfter(this,!1);return a?(a.append(...o),a.selectStart(),a):null}insertLineBreak(e){const t=wo();if(this.insertNodes([t]),e){const e=t.getParentOrThrow(),n=t.getIndexWithinParent();e.select(n,n)}}getCharacterOffsets(){return ia(this)}extract(){const e=this.getNodes(),t=e.length,n=t-1,o=this.anchor,a=this.focus;let i=e[0],r=e[n];const[l,s]=ia(this);if(0===t)return[];if(1===t){if(qo(i)&&!this.isCollapsed()){const e=l>s?s:l,t=l>s?l:s,n=i.splitText(e,t),o=0===e?n[0]:n[1];return null!=o?[o]:[]}return[i]}const c=o.isBefore(a);if(qo(i)){const t=c?l:s;t===i.getTextContentSize()?e.shift():0!==t&&([,i]=i.splitText(t),e[0]=i)}if(qo(r)){const t=r.getTextContent().length,o=c?s:l;0===o?e.pop():o!==t&&([r]=r.splitText(o),e[n]=r)}return e}modify(e,t,n){const o=this.focus,a=this.anchor,i="move"===e,r=Wt(o,t);if(Qa(r)&&!r.isIsolated()){if(i&&r.isKeyboardSelectable()){const e=ma();return e.add(r.__key),void Et(e)}const e=t?r.getPreviousSibling():r.getNextSibling();if(qo(e)){const n=e.__key,r=t?e.getTextContent().length:0;return o.set(n,r,"text"),void(i&&a.set(n,r,"text"))}{const n=r.getParentOrThrow();let l,s;return ri(e)?(s=e.__key,l=t?e.getChildrenSize():0):(l=r.getIndexWithinParent(),s=n.__key,t||l++),o.set(s,l,"element"),void(i&&a.set(s,l,"element"))}}const l=Pa(),s=an(l._window);if(!s)return;const c=l._blockCursorElement,d=l._rootElement;if(null===d||null===c||!ri(r)||r.isInline()||r.canBeEmpty()||on(c,l,d),function(e,t,n,o){e.modify(t,n,o)}(s,e,t?"backward":"forward",n),s.rangeCount>0){const e=s.getRangeAt(0),n=this.anchor.getNode(),o=yi(n)?n:function(e){let t=e.getParentOrThrow();for(;null!==t;){if(Qt(t))return t;t=t.getParentOrThrow()}return t}(n);if(this.applyDOMRange(e),this.dirty=!0,!i){const n=this.getNodes(),a=[];let i=!1;for(let e=0;e<n.length;e++){const t=n[e];Zt(t,o)?a.push(t):i=!0}if(i&&a.length>0)if(t){const e=a[0];ri(e)?e.selectStart():e.getParentOrThrow().selectStart()}else{const e=a[a.length-1];ri(e)?e.selectEnd():e.getParentOrThrow().selectEnd()}s.anchorNode===e.startContainer&&s.anchorOffset===e.startOffset||function(e){const t=e.focus,n=e.anchor,o=n.key,a=n.offset,i=n.type;Yo(n,t.key,t.offset,t.type),Yo(t,o,a,i),e._cachedNodes=null}(this)}}}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const t=this.anchor,n=this.focus;let o=t.getNode();if(!e&&("element"===t.type&&ri(o)&&t.offset===o.getChildrenSize()||"text"===t.type&&t.offset===o.getTextContentSize())){const e=o.getParent(),t=o.getNextSibling()||(null===e?null:e.getNextSibling());if(ri(t)&&t.isShadowRoot())return}const a=Wt(n,e);if(Qa(a)&&!a.isIsolated()){if(a.isKeyboardSelectable()&&ri(o)&&0===o.getChildrenSize()||"math"===a.getType()){o.remove();const e=ma();e.add(a.__key),Et(e)}else a.remove(),Pa().dispatchCommand(d,void 0);return}if(!e&&ri(a)&&ri(o)&&o.isEmpty())return o.remove(),void a.selectStart();if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset&&("element"===t.type?t.getNode():t.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const a="text"===n.type?n.getNode():null;if(o="text"===t.type?t.getNode():null,null!==a&&a.isSegmented()){const t=n.offset,i=a.getTextContentSize();if(a.is(o)||e&&t!==i||!e&&0!==t)return void ra(a,e,t)}else if(null!==o&&o.isSegmented()){const n=t.offset,i=o.getTextContentSize();if(o.is(a)||e&&0!==n||!e&&n!==i)return void ra(o,e,n)}!function(e,t){const n=e.anchor,o=e.focus,a=n.getNode();if(a===o.getNode()&&"text"===n.type&&"text"===o.type){const e=n.offset,i=o.offset,r=e<i,l=r?e:i,s=r?i:e,c=s-1;l!==c&&(St(a.getTextContent().slice(l,s))||(t?o.offset=c:n.offset=c))}}(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){const e=this.anchor.getNode();e.isEmpty()&&yi(e.getParent())&&0===e.getIndexWithinParent()&&e.collapseAtStart(this)}}deleteLine(e){this.isCollapsed()&&("text"===this.anchor.type&&this.modify("extend",e,"lineboundary"),0===(e?this.focus:this.anchor).offset&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function oa(e){return e instanceof Zo}function aa(e){const t=e.offset;if("text"===e.type)return t;const n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function ia(e){const t=e.anchor,n=e.focus;return"element"===t.type&&"element"===n.type&&t.key===n.key&&t.offset===n.offset?[0,0]:[aa(t),aa(n)]}function ra(e,t,n){const o=e,a=o.getTextContent().split(/(?=\s)/g),i=a.length;let r=0,l=0;for(let e=0;e<i;e++){const o=e===i-1;if(l=r,r+=a[e].length,t&&r===n||r>n||o){a.splice(e,1),o&&(l=void 0);break}}const s=a.join("").trim();""===s?o.remove():(o.setTextContent(s),o.select(l,l))}function la(e,t,n,o){let a,i=t;if(1===e.nodeType){let r=!1;const l=e.childNodes,s=l.length;i===s&&(r=!0,i=s-1);let c=l[i],d=!1;if(c===o._blockCursorElement?(c=l[i+1],d=!0):null!==o._blockCursorElement&&i--,a=kt(c),qo(a))i=Ct(a,r);else{let o=kt(e);if(null===o)return null;if(ri(o)){let e=o.getChildAtIndex(i);if(ri(e)&&function(e,t,n){const o=e.getParent();return null===n||null===o||!o.canBeEmpty()||o!==n.getNode()}(e,0,n)){const t=r?e.getLastDescendant():e.getFirstDescendant();null===t?(o=e,i=0):(e=t,o=ri(e)?e:e.getParentOrThrow())}qo(e)?(a=e,o=null,i=Ct(e,r)):e!==o&&r&&!d&&i++}else{const n=o.getIndexWithinParent();i=0===t&&Qa(o)&&kt(e)===o?n:n+1,o=o.getParentOrThrow()}if(ri(o))return Uo(o.__key,i,"element")}}else a=kt(e);return qo(a)?Uo(a.__key,i,"text"):null}function sa(e,t,n){const o=e.offset,a=e.getNode();if(0===o){const o=a.getPreviousSibling(),i=a.getParent();if(t){if((n||!t)&&null===o&&ri(i)&&i.isInline()){const t=i.getPreviousSibling();qo(t)&&(e.key=t.__key,e.offset=t.getTextContent().length)}}else ri(o)&&!n&&o.isInline()?(e.key=o.__key,e.offset=o.getChildrenSize(),e.type="element"):qo(o)&&(e.key=o.__key,e.offset=o.getTextContent().length)}else if(o===a.getTextContent().length){const o=a.getNextSibling(),i=a.getParent();if(t&&ri(o)&&o.isInline())e.key=o.__key,e.offset=0,e.type="element";else if((n||t)&&null===o&&ri(i)&&i.isInline()&&!i.canInsertTextAfter()){const t=i.getNextSibling();qo(t)&&(e.key=t.__key,e.offset=0)}}}function ca(e,t,n){if("text"===e.type&&"text"===t.type){const o=e.isBefore(t),a=e.is(t);sa(e,o,a),sa(t,!o,a),a&&(t.key=e.key,t.offset=e.offset,t.type=e.type);const i=Pa();if(i.isComposing()&&i._compositionKey!==e.key&&$o(n)){const o=n.anchor,a=n.focus;Yo(e,o.key,o.offset,o.type),Yo(t,a.key,a.offset,a.type)}}}function da(e,t,n,o,a,i){if(null===e||null===n||!at(a,e,n))return null;const r=la(e,t,$o(i)?i.anchor:null,a);if(null===r)return null;const l=la(n,o,$o(i)?i.focus:null,a);if(null===l)return null;if("element"===r.type&&"element"===l.type){const t=kt(e),o=kt(n);if(Qa(t)&&Qa(o))return null}return ca(r,l,i),[r,l]}function ua(e){return ri(e)&&!e.isInline()}function pa(e,t,n,o,a,i){const r=za(),l=new na(Uo(e,t,a),Uo(n,o,i),0,"");return l.dirty=!0,r._selection=l,l}function ga(){const e=Uo("root",0,"element"),t=Uo("root",0,"element");return new na(e,t,0,"")}function ma(){return new Zo(new Set)}function ha(){const e=Uo("root",0,"element"),t=Uo("root",0,"element");return new ea("root",e,t)}function fa(e,t,n){const o=n._window;if(null===o)return null;const a=o.event,i=a?a.type:void 0,r="selectionchange"===i,l=!qe&&(r||"beforeinput"===i||"compositionstart"===i||"compositionend"===i||"click"===i&&a&&3===a.detail||"drop"===i||void 0===i);let s,c,d,u;if($o(e)&&!l)return e.clone();if(null===t)return null;if(s=t.anchorNode,c=t.focusNode,d=t.anchorOffset,u=t.focusOffset,r&&$o(e)&&!at(n,s,c))return e.clone();const p=da(s,d,c,u,n,e);if(null===p)return null;const[g,m]=p;return new na(g,m,$o(e)?e.format:0,$o(e)?e.style:"")}function ba(){return za()._selection}function va(){return Pa()._editorState._selection}function ya(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=e.anchor,i=e.focus,r=a.getNode(),l=i.getNode();if(!t.is(r)&&!t.is(l))return;const s=t.__key;if(e.isCollapsed()){const t=a.offset;if(n<=t&&o>0||n<t&&o<0){const n=Math.max(0,t+o);a.set(s,n,"element"),i.set(s,n,"element"),xa(e)}}else{const r=e.isBackward(),l=r?i:a,c=l.getNode(),d=r?a:i,u=d.getNode();if(t.is(c)){const e=l.offset;(n<=e&&o>0||n<e&&o<0)&&l.set(s,Math.max(0,e+o),"element")}if(t.is(u)){const e=d.offset;(n<=e&&o>0||n<e&&o<0)&&d.set(s,Math.max(0,e+o),"element")}}xa(e)}function xa(e){const t=e.anchor,n=t.offset,o=e.focus,a=o.offset,i=t.getNode(),r=o.getNode();if(e.isCollapsed()){if(!ri(i))return;const e=i.getChildrenSize(),a=n>=e,r=a?i.getChildAtIndex(e-1):i.getChildAtIndex(n);if(qo(r)){let e=0;a&&(e=r.getTextContentSize()),t.set(r.__key,e,"text"),o.set(r.__key,e,"text")}}else{if(ri(i)){const e=i.getChildrenSize(),o=n>=e,a=o?i.getChildAtIndex(e-1):i.getChildAtIndex(n);if(qo(a)){let e=0;o&&(e=a.getTextContentSize()),t.set(a.__key,e,"text")}}if(ri(r)){const e=r.getChildrenSize(),t=a>=e,n=t?r.getChildAtIndex(e-1):r.getChildAtIndex(a);if(qo(n)){let e=0;t&&(e=n.getTextContentSize()),o.set(n.__key,e,"text")}}}}function _a(e,t,n,o,a){let i=null,r=0,l=null;null!==o?(i=o.__key,qo(o)?(r=o.getTextContentSize(),l="text"):ri(o)&&(r=o.getChildrenSize(),l="element")):null!==a&&(i=a.__key,qo(a)?l="text":ri(a)&&(l="element")),null!==i&&null!==l?e.set(i,r,l):(r=t.getIndexWithinParent(),-1===r&&(r=n.getChildrenSize()),e.set(n.__key,r,"element"))}function wa(e,t,n,o,a){"text"===e.type?(e.key=n,t||(e.offset+=a)):e.offset>o.getIndexWithinParent()&&(e.offset-=1)}function Ea(e){let t=ba()||va();null===t&&(t=_t().selectEnd()),t.insertNodes(e)}function ka(){const e=ba();return null===e?"":e.getTextContent()}function Ca(e,t,n){const o=[];let a=null,i=null;function r(e,r,l){const s={cell:l,startColumn:r,startRow:e},c=l.__rowSpan,d=l.__colSpan;for(let t=0;t<c;t++){void 0===o[e+t]&&(o[e+t]=[]);for(let n=0;n<d;n++)o[e+t][r+n]=s}t.is(l)&&(a=s),n.is(l)&&(i=s)}function l(e,t){return void 0===o[e]||void 0===o[e][t]}const s=e.getChildren();for(let e=0;e<s.length;e++){const t=s[e];if(!ji(t))throw Error("Expected GridNode children to be GridRowNode");const n=t.getChildren();let o=0;for(const t of n){if(!Pi(t))throw Error("Expected GridRowNode children to be GridCellNode");for(;!l(e,o);)o++;r(e,o,t),o+=t.__colSpan}}if(null===a)throw Error("Anchor not found in Grid");if(null===i)throw Error("Focus not found in Grid");return[o,a,i]}function Sa(e){let t;if(e instanceof zi)t=e;else if(e instanceof yo){const n=ln(e,Pi);if(!Pi(n))throw Error("Expected to find a parent GridCellNode");t=n}else{const n=ln(e.getNode(),Pi);if(!Pi(n))throw Error("Expected to find a parent GridCellNode");t=n}const n=t.getParent();if(!ji(n))throw Error("Expected GridCellNode to have a parent GridRowNode");const o=n.getParent();if(!Hi(o))throw Error("Expected GridRowNode to have a parent GridNode");return[t,n,o]}function Aa(e){e.isCollapsed()||e.removeText();const t=e.anchor,n=t.getNode();if(!qo(n))return t.offset;const o=n.getParent();if(!o){const e=Ai();return _t().append(e),e.select(),0}const a=n.splitText(t.offset);if(0===a.length)return 0;const i=0===t.offset?0:1,r=a[0].getIndexWithinParent()+i;if(!o.isInline()||0===r)return r;const l=o.getChildAtIndex(r);return l&&o.insertNewAfter(e).append(l,...l.getNextSiblings()),o.getIndexWithinParent()+i}let Ta=null,Na=null,La=!1,Ia=!1,Ma=0;const Oa={characterData:!0,childList:!0,subtree:!0};function Ba(){return La||null!==Ta&&Ta._readOnly}function Da(){if(La)throw Error("Cannot use method in read-only mode.")}function Ra(){if(Ma>99)throw Error("One or more transforms are endlessly triggering additional transforms. May have encountered infinite recursion caused by transforms that have their preconditions too lose and/or conflict with each other.")}function za(){if(null===Ta)throw Error("Unable to find an active editor state. State helpers or node methods can only be used synchronously during the callback of editor.update() or editorState.read().");return Ta}function Pa(){if(null===Na)throw Error("Unable to find an active editor. This method can only be used synchronously during the callback of editor.update().");return Na}function Fa(){return Na}function Ha(e,t,n){const o=t.__type,a=function(e,t){const n=e._nodes.get(t);if(void 0===n)throw Error("registeredNode: Type ".concat(t," not found"));return n}(e,o);let i=n.get(o);void 0===i&&(i=Array.from(a.transforms),n.set(o,i));const r=i.length;for(let e=0;e<r&&(i[e](t),t.isAttached());e++);}function qa(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function ja(e){return Ka(e,Pa()._nodes)}function Ka(e,t){const n=e.type,o=t.get(n);if(void 0===o)throw Error('parseEditorState: type "'.concat(n,'" + not found'));const a=o.klass;if(e.type!==a.getType())throw Error("LexicalNode: Node ".concat(a.name," does not implement .importJSON()."));const i=a.importJSON(e),r=e.children;if(ri(i)&&Array.isArray(r))for(let e=0;e<r.length;e++){const n=Ka(r[e],t);i.append(n)}return i}function Wa(e,t){const n=Ta,o=La,a=Na;Ta=e,La=!0,Na=null;try{return t()}finally{Ta=n,La=o,Na=a}}function Ja(e){const t=e._nodeMap;t.set=()=>{throw new Error("Cannot call set() on a frozen Lexical node map")},t.clear=()=>{throw new Error("Cannot call clear() on a frozen Lexical node map")},t.delete=()=>{throw new Error("Cannot call delete() on a frozen Lexical node map")}}function Ua(e,t){const n=e._pendingEditorState,o=e._rootElement,a=e._headless||null===o;if(null===n)return;const i=e._editorState,r=i._selection,l=n._selection,s=0!==e._dirtyType,c=Ta,u=La,p=Na,g=e._updating,m=e._observer;let h=null;if(e._pendingEditorState=null,e._editorState=n,!a&&s&&null!==m){Na=e,Ta=n,La=!1,e._updating=!0;try{const t=e._dirtyType,o=e._dirtyElements,a=e._dirtyLeaves;m.disconnect(),h=Vn(i,n,e,t,o,a)}catch(t){if(t instanceof Error&&e._onError(t),Ia)throw t;return Bi(e,null,o,n),Xe(e),e._dirtyType=ue,Ia=!0,Ua(e,i),void(Ia=!1)}finally{m.observe(o,Oa),e._updating=g,Ta=c,La=u,Na=p}}n._readOnly||(n._readOnly=!0,Ja(n),$o(l)&&(Object.freeze(l.anchor),Object.freeze(l.focus)),Object.freeze(l));const f=e._dirtyLeaves,b=e._dirtyElements,v=e._normalizedNodes,y=e._updateTags,x=e._deferred;s&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){const n=e._decorators;let o=e._pendingDecorators||n;const a=t._nodeMap;let i;for(i in o)a.has(i)||(o===n&&(o=yt(e)),delete o[i])}(e,n);const _=a?null:an(e._window);if(e._editable&&null!==_&&(s||null===l||l.dirty)){Na=e,Ta=n;try{if(null!==m&&m.disconnect(),s||null===l||l.dirty){const t=e._blockCursorElement;null!==t&&on(t,e,o),function(e,t,n,o,a,i){const r=o.anchorNode,l=o.focusNode,s=o.anchorOffset,c=o.focusOffset,d=document.activeElement;if(a.has("collaboration")&&d!==i||null!==d&&ot(d))return;if(!$o(t))return void(null!==e&&at(n,r,l)&&o.removeAllRanges());const u=t.anchor,p=t.focus,g=u.key,m=p.key,h=Gt(n,g),f=Gt(n,m),b=u.offset,v=p.offset,y=t.format,x=t.style,_=t.isCollapsed();let w=h,E=f,k=!1;if("text"===u.type){w=st(h);const e=u.getNode();k=e.getFormat()!==y||e.getStyle()!==x}else $o(e)&&"text"===e.anchor.type&&(k=!0);var C,S,A,T,N;if("text"===p.type&&(E=st(f)),null!==w&&null!==E&&(_&&(null===e||k||$o(e)&&(e.format!==y||e.style!==x))&&(C=y,S=x,A=b,T=g,N=performance.now(),ro=[C,S,A,T,N]),s!==b||c!==v||r!==w||l!==E||"Range"===o.type&&_||(null!==d&&i.contains(d)||i.focus({preventScroll:!0}),"element"===u.type))){try{o.setBaseAndExtent(w,b,E,v)}catch(e){}if(!a.has("skip-scroll-into-view")&&t.isCollapsed()&&null!==i&&i===document.activeElement){const e=t instanceof na&&"element"===t.anchor.type?w.childNodes[b]||null:o.rangeCount>0?o.getRangeAt(0):null;if(null!==e){let t;if(e instanceof Text){const n=document.createRange();n.selectNode(e),t=n.getBoundingClientRect()}else t=e.getBoundingClientRect();!function(e,t,n){const o=n.ownerDocument,a=o.defaultView;if(null===a)return;let{top:i,bottom:r}=t,l=0,s=0,c=n;for(;null!==c;){const t=c===o.body;if(t)l=0,s=$t(e).innerHeight;else{const e=c.getBoundingClientRect();l=e.top,s=e.bottom}let n=0;if(i<l?n=-(l-i):r>s&&(n=r-s),0!==n)if(t)a.scrollBy(0,n);else{const e=c.scrollTop;c.scrollTop+=n;const t=c.scrollTop-e;i-=t,r-=t}if(t)break;c=Xt(c)}}(n,t,i)}}no=!0}}(r,l,e,_,y,o)}(function(e,t,n){let o=e._blockCursorElement;if($o(n)&&n.isCollapsed()&&"element"===n.anchor.type&&t.contains(document.activeElement)){const a=n.anchor,i=a.getNode(),r=a.offset;let l=!1,s=null;if(r===i.getChildrenSize())nn(i.getChildAtIndex(r-1))&&(l=!0);else{const t=i.getChildAtIndex(r);if(nn(t)){const n=t.getPreviousSibling();(null===n||nn(n))&&(l=!0,s=e.getElementByKey(t.__key))}}if(l){const n=e.getElementByKey(i.__key);return null===o&&(e._blockCursorElement=o=function(e){const t=e.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let o=t.blockCursor;if(void 0!==o){if("string"==typeof o){const e=o.split(" ");o=t.blockCursor=e}void 0!==o&&n.classList.add(...o)}return n}(e._config)),t.style.caretColor="transparent",void(null===s?n.appendChild(o):n.insertBefore(o,s))}}null!==o&&on(o,e,t)})(e,o,l),null!==m&&m.observe(o,Oa)}finally{Na=p,Ta=c}}null!==h&&function(e,t,n,o,a){const i=Array.from(e._listeners.mutation),r=i.length;for(let e=0;e<r;e++){const[r,l]=i[e],s=t.get(l);void 0!==s&&r(s,{dirtyLeaves:o,prevEditorState:a,updateTags:n})}}(e,h,y,f,i),$o(l)||null===l||null!==r&&r.is(l)||e.dispatchCommand(d,void 0);const w=e._pendingDecorators;null!==w&&(e._decorators=w,e._pendingDecorators=null,Va("decorator",e,!0,w)),function(e,t,n){const o=xt(t),a=xt(n);o!==a&&Va("textcontent",e,!0,a)}(e,t||i,n),Va("update",e,!0,{dirtyElements:b,dirtyLeaves:f,editorState:n,normalizedNodes:v,prevEditorState:t||i,tags:y}),function(e,t){if(e._deferred=[],0!==t.length){const n=e._updating;e._updating=!0;try{for(let e=0;e<t.length;e++)t[e]()}finally{e._updating=n}}}(e,x),function(e){const t=e._updates;if(0!==t.length){const n=t.shift();if(n){const[t,o]=n;Ya(e,t,o)}}}(e)}function Va(e,t,n){const o=t._updating;t._updating=n;try{const n=Array.from(t._listeners[e]);for(var a=arguments.length,i=new Array(a>3?a-3:0),r=3;r<a;r++)i[r-3]=arguments[r];for(let e=0;e<n.length;e++)n[e].apply(null,i)}finally{t._updating=o}}function Ga(e,t,n){if(!1===e._updating||Na!==e){let o=!1;return e.update((()=>{o=Ga(e,t,n)})),o}const o=At(e);for(let a=4;a>=0;a--)for(let i=0;i<o.length;i++){const r=o[i]._commands.get(t);if(void 0!==r){const t=r[a];if(void 0!==t){const o=Array.from(t),a=o.length;for(let t=0;t<a;t++)if(!0===o[t](n,e))return!0}}}return!1}function Xa(e,t){const n=e._updates;let o=t||!1;for(;0!==n.length;){const t=n.shift();if(t){const[n,a]=t;let i,r;void 0!==a&&(i=a.onUpdate,r=a.tag,a.skipTransforms&&(o=!0),i&&e._deferred.push(i),r&&e._updateTags.add(r)),n()}}return o}function Ya(e,t,n){const o=e._updateTags;let a,i,r=!1,l=!1;void 0!==n&&(a=n.onUpdate,i=n.tag,null!=i&&o.add(i),r=n.skipTransforms||!1,l=n.discrete||!1),a&&e._deferred.push(a);const s=e._editorState;let c=e._pendingEditorState,d=!1;(null===c||c._readOnly)&&(c=e._pendingEditorState=new wi(new Map((c||s)._nodeMap)),d=!0),c._flushSync=l;const u=Ta,p=La,g=Na,m=e._updating;Ta=c,La=!1,e._updating=!0,Na=e;try{d&&(e._headless?null!=s._selection&&(c._selection=s._selection.clone()):c._selection=function(e){const t=e.getEditorState()._selection,n=an(e._window);return oa(t)||ta(t)?t.clone():fa(t,n,e)}(e));const n=e._compositionKey;t(),r=Xa(e,r),function(e,t){const n=t.getEditorState()._selection,o=e._selection;if($o(o)){const e=o.anchor,t=o.focus;let a;if("text"===e.type&&(a=e.getNode(),a.selectionTransform(n,o)),"text"===t.type){const e=t.getNode();a!==e&&e.selectionTransform(n,o)}}}(c,e),0!==e._dirtyType&&(r?function(e,t){const n=t._dirtyLeaves,o=e._nodeMap;for(const e of n){const t=o.get(e);qo(t)&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&$e(t)}}(c,e):function(e,t){const n=t._dirtyLeaves,o=t._dirtyElements,a=e._nodeMap,i=ht(),r=new Map;let l=n,s=l.size,c=o,d=c.size;for(;s>0||d>0;){if(s>0){t._dirtyLeaves=new Set;for(const e of l){const o=a.get(e);qo(o)&&o.isAttached()&&o.isSimpleText()&&!o.isUnmergeable()&&$e(o),void 0!==o&&qa(o,i)&&Ha(t,o,r),n.add(e)}if(l=t._dirtyLeaves,s=l.size,s>0){Ma++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map;for(const e of c){const n=e[0],l=e[1];if("root"!==n&&!l)continue;const s=a.get(n);void 0!==s&&qa(s,i)&&Ha(t,s,r),o.set(n,l)}l=t._dirtyLeaves,s=l.size,c=t._dirtyElements,d=c.size,Ma++}t._dirtyLeaves=n,t._dirtyElements=o}(c,e),Xa(e),function(e,t,n,o){const a=e._nodeMap,i=t._nodeMap,r=[];for(const[e]of o){const t=i.get(e);void 0!==t&&(t.isAttached()||(ri(t)&&hn(t,e,a,i,r,o),a.has(e)||o.delete(e),r.push(e)))}for(const e of r)i.delete(e);for(const e of n){const t=i.get(e);void 0===t||t.isAttached()||(a.has(e)||n.delete(e),i.delete(e))}}(s,c,e._dirtyLeaves,e._dirtyElements)),n!==e._compositionKey&&(c._flushSync=!0);const o=c._selection;if($o(o)){const e=c._nodeMap,t=o.anchor.key,n=o.focus.key;if(void 0===e.get(t)||void 0===e.get(n))throw Error("updateEditor: selection has been lost because the previously selected nodes have been removed and selection wasn't moved to another node. Ensure selection changes after removing/replacing a selected node.")}else oa(o)&&0===o._nodes.size&&(c._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=s,e._dirtyType=ue,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Ua(e)}finally{Ta=u,La=p,Na=g,e._updating=m,Ma=0}const h=0!==e._dirtyType||function(e,t){const n=t.getEditorState()._selection,o=e._selection;if(null!==o){if(o.dirty||!o.is(n))return!0}else if(null!==n)return!0;return!1}(c,e);h?c._flushSync?(c._flushSync=!1,Ua(e)):d&&nt((()=>{Ua(e)})):(c._flushSync=!1,d&&(o.clear(),e._deferred=[],e._pendingEditorState=null))}function Za(e,t,n){e._updating?e._updates.push([t,n]):Ya(e,t,n)}class $a extends yo{constructor(e){super(e)}decorate(e,t){throw Error("decorate: base method not extended")}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Qa(e){return e instanceof $a}const ei=/^#[0-9a-fA-F]{6}$/i,ti=new Set(["dotted","dashed","solid","double","groove","ridge","inset","outset","none","hidden"]),ni=null!==(o=null===(a=Object.getOwnPropertyDescriptor(globalThis,"window"))||void 0===a||null===(a=a.get)||void 0===a?void 0:a.toString().includes("[native code]"))&&void 0!==o&&o;class oi extends yo{constructor(e){super(e),s(this,"__version",1),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return Pe[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const e=Pa()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;null!==t;){if(qo(t)&&e.push(t),ri(t)){const n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;null!==e;){if(ri(e)){const t=e.getFirstChild();if(null!==t){e=t;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;null!==e;){if(ri(e)){const t=e.getLastChild();if(null!==t){e=t;continue}}break}return e}getDescendantByIndex(e){const t=this.getChildren(),n=t.length;if(e>=n){const e=t[n-1];return ri(e)&&e.getLastDescendant()||e||null}const o=t[e];return ri(o)&&o.getFirstDescendant()||o||null}getFirstChild(){const e=this.getLatest().__first;return null===e?null:ft(e)}getFirstChildOrThrow(){const e=this.getFirstChild();if(null===e)throw Error("Expected node ".concat(this.__key," to have a first child."));return e}getLastChild(){const e=this.getLatest().__last;return null===e?null:ft(e)}getLastChildOrThrow(){const e=this.getLastChild();if(null===e)throw Error("Expected node ".concat(this.__key," to have a last child."));return e}getChildAtIndex(e){const t=this.getChildrenSize();let n,o;if(e<t/2){for(n=this.getFirstChild(),o=0;null!==n&&o<=e;){if(o===e)return n;n=n.getNextSibling(),o++}return null}for(n=this.getLastChild(),o=t-1;null!==n&&o>=e;){if(o===e)return n;n=n.getPreviousSibling(),o--}return null}getTextContent(){let e="";const t=this.getChildren(),n=t.length;for(let o=0;o<n;o++){const a=t[o];e+=a.getTextContent(),ri(a)&&o!==n-1&&!a.isInline()&&(e+=Ne)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),n=t.length;for(let o=0;o<n;o++){const a=t[o];e+=a.getTextContentSize(),ri(a)&&o!==n-1&&!a.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){if(""!==e){const t=ze[e];return!!(this.getFormat()&t)}return!1}select(e,t){Da();const n=ba();let o=e,a=t;const i=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){const e=this.getFirstChild();if(qo(e)||ri(e))return e.select(0,0)}else if(!(void 0!==e&&e!==i||void 0!==t&&t!==i)){const e=this.getLastChild();if(qo(e)||ri(e))return e.select()}void 0===o&&(o=i),void 0===a&&(a=i);const r=this.__key;return $o(n)?(n.anchor.set(r,o,"element"),n.focus.set(r,a,"element"),n.dirty=!0,n):pa(r,o,r,a,"element","element")}selectStart(){const e=this.getFirstDescendant();return ri(e)||qo(e)?e.select(0,0):null!==e?e.selectPrevious():this.select(0,0)}selectEnd(){const e=this.getLastDescendant();return ri(e)||qo(e)?e.select():null!==e?e.selectNext():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach((e=>e.remove())),e}append(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.splice(this.getChildrenSize(),0,t)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?ze[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){const o=n.length,a=this.getChildrenSize(),i=this.getWritable(),r=i.__key,l=[],s=[],c=this.getChildAtIndex(e+t);let d=null,u=a-t+o;if(0!==e)if(e===a)d=this.getLastChild();else{const t=this.getChildAtIndex(e);null!==t&&(d=t.getPreviousSibling())}if(t>0){let e=null===d?this.getFirstChild():d.getNextSibling();for(let n=0;n<t;n++){if(null===e)throw Error("splice: sibling not found");const t=e.getNextSibling(),n=e.__key;pt(e.getWritable()),s.push(n),e=t}}let p=d;for(let e=0;e<o;e++){const t=n[e];null!==p&&t.is(p)&&(d=p=p.getPreviousSibling());const o=t.getWritable();o.__parent===r&&u--,pt(o);const a=t.__key;if(null===p)i.__first=a,o.__prev=null;else{const e=p.getWritable();e.__next=a,o.__prev=e.__key}if(t.__key===r)throw Error("append: attempting to append self");o.__parent=r,l.push(a),p=t}if(e+t===a)null!==p&&(p.getWritable().__next=null,i.__last=p.__key);else if(null!==c){const e=c.getWritable();if(null!==p){const t=p.getWritable();e.__prev=p.__key,t.__next=c.__key}else e.__prev=null}if(i.__size=u,s.length){const e=ba();if($o(e)){const t=new Set(s),n=new Set(l),{anchor:o,focus:a}=e;li(o,t,n)&&_a(o,o.getNode(),this,d,c),li(a,t,n)&&_a(a,a.getNode(),this,d,c),0!==u||this.canBeEmpty()||Qt(this)||this.remove()}}return i}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canExtractContents(){return!0}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,n){return!1}hasBlockStyling(){return!1}}const ai={textAlign:"left",backgroundColor:"transparent",textColor:"inherit",margin:["6px","0px","6px","0px"],padding:"0px",borderRadius:"0px",borderColor:"transparent",borderWidth:"0px",borderType:"none",boxShadowOffsetX:"0px",boxShadowOffsetY:"0px",boxShadowBlurRadius:"0px",boxShadowSpreadRadius:"0px",boxShadowInset:!1,boxShadowColor:"transparent"};class ii extends oi{constructor(e,t){super(e),s(this,"__blockStyle",structuredClone(ai)),s(this,"__version",1),t&&(this.__blockStyle=structuredClone(t))}exportJSON(){return{...super.exportJSON(),first_element:this.getFirstElement(),blockStyle:this.getBlockStyle(),version:1}}hasBlockStyling(){return!0}getBlockStyle(){return this.getLatest().__blockStyle}setBlockStyle(e){const t=this.getWritable();return t.__blockStyle=structuredClone(e),t}exportDOM(e){const{element:t}=super.exportDOM(e);return this.getFirstElement()&&!ni&&t instanceof HTMLElement&&t.classList.add("first-rte-element"),this.getLastElement()&&!ni&&t instanceof HTMLElement&&t.classList.add("last-rte-element"),{element:t}}}function ri(e){return e instanceof oi}function li(e,t,n){let o=e.getNode();for(;o;){const e=o.__key;if(t.has(e)&&!n.has(e))return!0;o=o.getParent()}return!1}function si(e,t){if(typeof e!=typeof t)return!1;if(e.length!==t.length)return!1;if("object"==typeof e){for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return"string"!=typeof e||Boolean(e===t)}function ci(e,t){const n=e.getLatest(),o=n.getFormatType(),a="list"===t,i=n.getBlockStyle();var r="";if(r+="text-align:".concat(o||"left").concat(";"),i.backgroundColor!==ai.backgroundColor&&(r+="background-color:".concat(i.backgroundColor).concat(";")),i.textColor!==ai.textColor&&(r+="color:".concat(i.textColor).concat(";")),Array.isArray(i.margin)?r+="margin:".concat(i.margin.join(" ")).concat(";"):r+="margin:".concat(i.margin).concat(";"),a)Array.isArray(i.padding)?2===i.padding.length?(r+="padding-top:".concat(i.padding[0]).concat(";"),r+="padding-bottom:".concat(i.padding[0]).concat(";")):4===i.padding.length&&(r+="padding-top:".concat(i.padding[0]).concat(";"),r+="padding-bottom:".concat(i.padding[2]).concat(";")):(r+="padding-top:".concat(i.padding).concat(";"),r+="padding-bottom:".concat(i.padding).concat(";"));else{const t=e.getIndent();if(Array.isArray(i.padding)){if(2===i.padding.length){const e=(parseInt(i.padding[1].replace("px",""))+20*t).toString().concat("px");r+="padding:".concat([i.padding[0],i.padding[1],i.padding[0],e].join(" ")).concat("!important;")}else if(4===i.padding.length){const e=(parseInt(i.padding[3].replace("px",""))+20*t).toString().concat("px");r+="padding:".concat([i.padding[0],i.padding[1],i.padding[2],e].join(" ")).concat("!important;")}}else{const e=(parseInt(i.padding.replace("px",""))+20*t).toString().concat("px");r+="padding:".concat([i.padding,i.padding,i.padding,e].join(" ").concat("!important;"))}}if(si(i.borderRadius,ai.borderRadius)||(Array.isArray(i.borderRadius)?r+="border-radius: ".concat(i.borderRadius.join(" ")).concat(";"):r+="border-radius:".concat(i.borderRadius).concat(";")),si(i.borderColor,ai.borderColor)||(Array.isArray(i.borderColor)?r+="border-color:".concat(i.borderColor.join(" ")).concat(";"):r+="border-color:".concat(i.borderColor).concat(";")),si(i.borderWidth,ai.borderWidth)||(Array.isArray(i.borderWidth)?r+="border-width:".concat(i.borderWidth.join(" ")).concat(";"):r+="border-width:".concat(i.borderWidth).concat(";")),si(i.borderType,ai.borderType)||(Array.isArray(i.borderType)?r+="border-style:".concat(i.borderType.join(" ")).concat(";"):r+="border-style:".concat(i.borderType).concat(";")),i.boxShadowInset!==ai.boxShadowInset||i.boxShadowOffsetX!==ai.boxShadowOffsetX||i.boxShadowOffsetY!==ai.boxShadowOffsetY||i.boxShadowSpreadRadius!==ai.boxShadowSpreadRadius||i.boxShadowBlurRadius!==ai.boxShadowBlurRadius){var l="box-shadow:";l+=i.boxShadowInset?"inset ":"",l+=i.boxShadowOffsetX.concat(" ").concat(i.boxShadowOffsetY).concat(" ").concat(i.boxShadowBlurRadius).concat(" ").concat(i.boxShadowSpreadRadius).concat(" ").concat(i.boxShadowColor),r+=l+=";"}return r}function di(e,t){var n=Math.max(0,parseInt(e,10));return t?Math.floor(255*Math.min(100,n)/100):Math.min(255,n)}function ui(e,t){if(!e)return t;const n=e.trim();return n.startsWith("rgb")?(a="",(o=/^rgb\(\s*(-?\d+)(%?)\s*,\s*(-?\d+)(%?)\s*,\s*(-?\d+)(%?)\s*\)$/.exec(n))&&(a="#"+(16777216+(di(o[1],o[2])<<16)+(di(o[3],o[4])<<8)+di(o[5],o[6])).toString(16).slice(1)),a):n.startsWith("#")&&ei.test(n)?n:t;var o,a}const pi=/^\d+px$/;function gi(e,t,n){const o=parseInt(e);return isNaN(o)||!isFinite(o)?"0px":o<t?t.toString().concat("px"):o>n?n.toString().concat("px"):e}function mi(e,t,n,o){if("string"==typeof e){const a=e.replace("!important","").trim().split(" ").map((e=>e.trim())).filter((e=>e.length>0));for(let e=0;e<a.length&&!(o&&e+1>o);e++)pi.test(a[e])?a[e]=n?gi(a[e],n.min,n.max):a[e]:Array.isArray(t)&&t[e]?a[e]=t[e]:(Array.isArray(t),a[e]=t[0]);return o?a.length===o?1===a.length?a[0]:a:t:1===a.length?a[0]:2===a.length||4===a.length?a:t}return t}const hi=e=>e.split(" ").length-1,fi=new Set(["left","start","center","right","end"]);function bi(e,t){const n=function(e){const t={},n=e.split(";");for(const e of n)if(""!==e){const[n,o]=e.split(/:([^]+)/);n&&o&&(t[n.trim()]=o.trim())}return t}(e),o=fi.has(n["text-align"])?n["text-align"]:"left",a=ui(n["background-color"],"transparent"),i=ui(n.color,"inherit"),r=mi(n.margin,["6px","0px","6px","0px"],{min:0,max:50});var l;l="ul"===t||"ol"===t?[mi(n["padding-top"],"0px",{min:0,max:50},1),"5px",mi(n["padding-bottom"],"0px",{min:0,max:50},1),"5px"]:mi(n.padding,"0px",{min:0,max:50});const{borderRadius:s,borderColor:c,borderWidth:d,borderType:u}=function(e){const t={borderRadius:void 0,borderColor:void 0,borderWidth:void 0,borderType:void 0};if(e.border){const n=String(e.border).trim().split(" ").map((e=>e.trim()));1===n.length&&ti.has(n[0])?t.borderType=n[0]:2===n.length?pi.test(n[0])&&ti.has(n[1])?(t.borderWidth=n[0],t.borderType=n[1]):ti.has(n[0])&&ei.test(n[1]||"")&&(t.borderType=n[0],t.borderColor=n[1]):3===n.length&&pi.test(n[0])&&ti.has(n[1])&&ei.test(n[2]||"")&&(t.borderWidth=n[0],t.borderType=n[1],t.borderColor=n[2])}return!t.borderRadius&&e["border-radius"]&&(t.borderRadius=mi(e["border-radius"],"0px",{min:0,max:50})),!t.borderColor&&e["border-color"]&&(t.borderColor=function(e){const t=e.trim(),n=[],o=[];for(let e=0;e<t.length;e++)("r"===t[e]||"#"===t[e])&&n.push(e);for(let e of n)if("#"===t[e]){const n=t.slice(e,t.indexOf(" ",e)+1);ei.test(n)?o.push(n):o.push("transparent")}else if("r"===t[e]){const n=ui(t.slice(e,t.indexOf(")",e)+1),"transparent");o.push(n)}return 1===o.length?o[0]:2===o.length?o:3===o.length?[o[0],o[1],o[2],o[1]]:4===o.length?o:"transparent"}(e["border-color"])),!t.borderWidth&&e["border-width"]&&(t.borderWidth=mi(e["border-width"],"0px",{min:0,max:15})),!t.borderType&&e["border-style"]&&(t.borderType=function(e){if("string"!=typeof e)return"none";const t=e.trim().split(" ").map((e=>e.trim()));for(let e=0;e<t.length&&e<4;e++)ti.has(t[e])||(t[e]="none");return 1===t.length?t[0]:3===t.length?(t.push(t[1]),t):t}(e["border-style"])),{borderRadius:t.borderRadius||"0px",borderColor:t.borderColor||"transparent",borderWidth:t.borderWidth||"0px",borderType:t.borderType||"none"}}(n),{boxShadowOffsetX:p,boxShadowOffsetY:g,boxShadowBlurRadius:m,boxShadowSpreadRadius:h,boxShadowInset:f,boxShadowColor:b}=function(e){var t;const n={boxShadowOffsetX:"0px",boxShadowOffsetY:"0px",boxShadowBlurRadius:"0px",boxShadowSpreadRadius:"0px",boxShadowInset:!1,boxShadowColor:"transparent"};var o=null===(t=e["box-shadow"])||void 0===t?void 0:t.trim();if(o){o.includes("inset")&&(o=o.replace("inset","").trim(),n.boxShadowInset=!0);var a=[];if(o.includes("rgb")){const e=o.indexOf("rgb"),t=o.indexOf(")",e+1),n=o.slice(e,t+1),i=o.slice(0,e).concat(o.slice(t+1,o.length)).split(" ").map((e=>e.trim())).filter((e=>e.length)),r=hi(o.slice(0,e));for(let e=0;e<r;e++)a.push(i[e]);a.push(n);for(let e=Math.max(r-1,0);e<i.length;e++)a.push(i[e])}else a=e["box-shadow"].split(" ").map((e=>e.trim())).filter((e=>e.length));5===a.length?pi.test(a[0])?(n.boxShadowOffsetX=gi(a[0],-15,15),n.boxShadowOffsetY=gi(a[1],-15,15),n.boxShadowBlurRadius=gi(a[2],0,50),n.boxShadowSpreadRadius=gi(a[3],0,15),n.boxShadowColor=ui(a[4],"transparent")):(n.boxShadowColor=ui(a[0],"transparent"),n.boxShadowOffsetX=gi(a[1],-15,15),n.boxShadowOffsetY=gi(a[2],-15,15),n.boxShadowBlurRadius=gi(a[3],0,50),n.boxShadowSpreadRadius=gi(a[4],0,15)):4===a.length?pi.test(a[0])?(n.boxShadowOffsetX=gi(a[0],-15,15),n.boxShadowOffsetY=gi(a[1],-15,15),n.boxShadowBlurRadius=gi(a[2],0,50),n.boxShadowSpreadRadius="0px",n.boxShadowColor=ui(a[3],"transparent")):(n.boxShadowColor=ui(a[0],"transparent"),n.boxShadowOffsetX=gi(a[1],-15,15),n.boxShadowOffsetY=gi(a[2],-15,15),n.boxShadowBlurRadius=gi(a[3],0,50),n.boxShadowSpreadRadius="0px"):3===a.length&&(pi.test(a[0])?(n.boxShadowOffsetX=gi(a[0],-15,15),n.boxShadowOffsetY=gi(a[1],-15,15),n.boxShadowBlurRadius="0px",n.boxShadowSpreadRadius="0px",n.boxShadowColor=ui(a[2],"transparent")):(n.boxShadowColor=ui(a[0],"transparent"),n.boxShadowOffsetX=gi(a[1],-15,15),n.boxShadowOffsetY=gi(a[2],-15,15),n.boxShadowBlurRadius="0px",n.boxShadowSpreadRadius="0px"))}return{boxShadowOffsetX:n.boxShadowOffsetX||"0px",boxShadowOffsetY:n.boxShadowOffsetY||"0px",boxShadowBlurRadius:n.boxShadowBlurRadius||"0px",boxShadowSpreadRadius:n.boxShadowSpreadRadius||"0px",boxShadowInset:n.boxShadowInset||!1,boxShadowColor:n.boxShadowColor||"transparent"}}(n);return structuredClone({textAlign:o,backgroundColor:a,textColor:i,margin:r,padding:l,borderRadius:s,borderColor:c,borderWidth:d,borderType:u,boxShadowOffsetX:p,boxShadowOffsetY:g,boxShadowBlurRadius:m,boxShadowSpreadRadius:h,boxShadowInset:f,boxShadowColor:b})}class vi extends oi{static getType(){return"root"}static clone(){return new vi}constructor(){super("root"),s(this,"__version",1),this.__cachedText=null}getTopLevelElementOrThrow(){throw Error("getTopLevelElementOrThrow: root nodes are not top level elements")}getTextContent(){const e=this.__cachedText;return!Ba()&&0!==Pa()._dirtyType||null===e?super.getTextContent():e}remove(){throw Error("remove: cannot be called on root nodes")}replace(e){throw Error("replace: cannot be called on root nodes")}insertBefore(e){throw Error("insertBefore: cannot be called on root nodes")}insertAfter(e){throw Error("insertAfter: cannot be called on root nodes")}updateDOM(e,t){return!1}append(){for(let e=0;e<arguments.length;e++){const t=e<0||arguments.length<=e?void 0:arguments[e];if(!ri(t)&&!Qa(t))throw Error("rootNode.append: Only element or decorator nodes can be appended to the root node")}return super.append(...arguments)}static importJSON(e){const t=_t();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function yi(e){return e instanceof vi}function xi(){return new wi(new Map([["root",new vi]]))}function _i(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType())throw Error("LexicalNode: Node ".concat(n.name," does not match the serialized type. Check if .exportJSON() is implemented and it is returning the correct type."));const o=t.children;if(ri(e)){if(!Array.isArray(o))throw Error("LexicalNode: Node ".concat(n.name," is an element but .exportJSON() does not have a children array."));const t=e.getChildren();for(let e=0;e<t.length;e++){const n=_i(t[e]);o.push(n)}}return t}class wi{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e){return Wa(this,e)}clone(e){const t=new wi(this._nodeMap,void 0===e?this._selection:e);return t._readOnly=!0,t}toJSON(){return Wa(this,(()=>({root:_i(_t())})))}}const Ei=null!==(i=null===(r=Object.getOwnPropertyDescriptor(globalThis,"window"))||void 0===r||null===(r=r.get)||void 0===r?void 0:r.toString().includes("[native code]"))&&void 0!==i&&i,ki=5;class Ci extends l.pi{constructor(e,t){super(e),this.__format=1,this.__dir="ltr",this.__version=1,t&&(this.__blockStyle=t)}static getType(){return"paragraph"}static clone(e){return new Ci(e.__key,e.getBlockStyle())}createDOM(e){const t=document.createElement("p"),n=Ht(e.theme,"paragraph");void 0!==n&&t.classList.add(...n);const o=(0,l.oK)(this.getLatest(),"p");return t.style.cssText=o,t.setAttribute("data-v",String(1)),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}updateDOM(e,t,n){const o=(0,l.oK)(this,"p");return t.style.cssText=o,!1}static importDOM(){return{p:e=>({conversion:Si,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(t&&dn(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=(0,l.oK)(this.getLatest(),"p");t.style.cssText=e;const n=this.getDirection();n&&(t.dir=n),t.setAttribute("data-e-indent",this.getIndent().toString()),t.setAttribute("data-v",String(1)),this.getFirstElement()&&!Ei&&t.classList.add("first-rte-element"),this.getLastElement()&&!Ei&&t.classList.add("last-rte-element")}return{element:t}}static importJSON(e){const t=Ai();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t.setBlockStyle(structuredClone(e.blockStyle)),t.setFirstElement(null==e?void 0:e.first_element),t}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,t){const n=Ai();return this.insertAfter(n,t),n}collapseAtStart(){const e=this.getChildren();if(0===e.length||qo(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;const e=this.getPreviousSibling();if(e&&"details"===e.getType()){e.setOpen(!0);const t=e.getChildren().filter((e=>"accordion-content"===e.getType()));t.length&&t[0].select()}if(null!==e)return this.selectPrevious(),this.remove(),!0;const t=this.getParent();if(!(0,l.hV)(t)&&t&&t.canReplaceWith(this))return t.replace(this,!1),!0}return!1}setIndent(e){return this.getWritable().__indent=Math.min(e,ki),this}}function Si(e){const t=Ai();if(e.style.cssText){const n=(0,l.Dz)(e.style.cssText,"p");t.setFormat(n.textAlign);const o=e.getAttribute("data-e-indent");if(o){const e=parseInt(o);!isNaN(e)&&isFinite(e)?t.setIndent(Math.max(0,Math.min(e,ki))):t.setIndent(0)}else t.setIndent(0);const a=e.getAttribute("dir");"ltr"===a||"rtl"===a?t.setDirection(a):t.setDirection("ltr"),t.setBlockStyle(n)}return e.classList.contains("first-rte-element")&&t.setFirstElement(!0),e.classList.contains("last-rte-element")&&t.setLastElement(!0),{node:t}}function Ai(){return en(new Ci)}function Ti(e){return e instanceof Ci}const Ni=0,Li=1,Ii=2,Mi=3,Oi=4;function Bi(e,t,n,o){const a=e._keyToDOMMap;a.clear(),e._editorState=xi(),e._pendingEditorState=o,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const i=e._observer;null!==i&&(i.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",a.set("root",n))}function Di(e){const t=e||{},n=Fa(),o=t.theme||{},a=void 0===e?n:t.parentEditor||null,i=t.disableEvents||!1,r=xi(),l=t.namespace||(null!==a?a._config.namespace:Tt()),s=t.editorState,c=[vi,Lo,xo,jo,Ci,...t.nodes||[]],{onError:d,html:u}=t,p=void 0===t.editable||t.editable;let g;if(void 0===e&&null!==n)g=n._nodes;else{g=new Map;for(let e=0;e<c.length;e++){let t=c[e],n=null,o=null;if("function"!=typeof t){const e=t;t=e.replace,n=e.with,o=e.withKlass||null}{const e=t.name;if("RootNode"!==e){const n=t.prototype;["getType","clone"].forEach((n=>{t.hasOwnProperty(n)||console.warn("".concat(e,' must implement static "').concat(n,'" method'))})),!t.hasOwnProperty("importDOM")&&t.hasOwnProperty("exportDOM")&&console.warn("".concat(e,' should implement "importDOM" if using a custom "exportDOM" method to ensure HTML serialization (important for copy & paste) works as expected')),n instanceof $a&&(n.hasOwnProperty("decorate")||console.warn("".concat(n.constructor.name,' must implement "decorate" method'))),t.hasOwnProperty("importJSON")||console.warn("".concat(e,' should implement "importJSON" method to ensure JSON and default HTML serialization works as expected')),n.hasOwnProperty("exportJSON")||console.warn("".concat(e,' should implement "exportJSON" method to ensure JSON and default HTML serialization works as expected'))}}const a=t.getType(),i=t.transform(),r=new Set;null!==i&&r.add(i),g.set(a,{exportDOM:u&&u.export?u.export.get(t):void 0,klass:t,replace:n,replaceWithKlass:o,transforms:r})}}const m=new Ri(r,a,g,{disableEvents:i,namespace:l,theme:o},d||console.error,function(e,t){const n=new Map,o=new Set,a=e=>{Object.keys(e).forEach((t=>{let o=n.get(t);void 0===o&&(o=[],n.set(t,o)),o.push(e[t])}))};return e.forEach((e=>{const t=null!=e.klass.importDOM?e.klass.importDOM.bind(e.klass):null;if(null==t||o.has(t))return;o.add(t);const n=t();null!==n&&a(n)})),t&&a(t),n}(g,u?u.import:void 0),p,null==e?void 0:e.editorType);return void 0!==s&&(m._pendingEditorState=s,m._dirtyType=ue),m}class Ri{constructor(e,t,n,o,a,i,r,l){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=o,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Tt(),this._onError=a,this._htmlConversions=i,this._editable=r,this._headless=null!==t&&t._headless,this._window=null,this._blockCursorElement=null,this._editorType=null!=l&&l.length?l:"full"}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){if(void 0===n)throw Error('Listener for type "command" requires a "priority".');const o=this._commands;o.has(e)||o.set(e,[new Set,new Set,new Set,new Set,new Set]);const a=o.get(e);if(void 0===a)throw Error("registerCommand: Command ".concat(String(e)," not found in command map"));const i=a[n];return i.add(t),()=>{i.delete(t),a.every((e=>0===e.size))&&o.delete(e)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());if(void 0===t)throw Error("Node ".concat(e.name," has not been registered. Ensure node has been passed to createEditor."));return t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}registerMutationListener(e,t,n){const o=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,a=this._listeners.mutation;a.set(t,o);const i=n&&n.skipInitialization;return void 0===i||i||this.initializeMutationListener(t,o),()=>{a.delete(t)}}initializeMutationListener(e,t){const n=this._editorState,o=function(e){if(!e._readOnly&&e.isEmpty())return mn;if(!e._readOnly)throw Error("getCachedTypeToNodeMap called with a writable EditorState");let t=gn.get(e);if(!t){t=new Map,gn.set(e,t);for(const[n,o]of e._nodeMap){const e=o.__type;let a=t.get(e);a||(a=new Map,t.set(e,a)),a.set(n,o)}}return t}(n).get(t.getType());if(!o)return;const a=new Map;for(const e of o.keys())a.set(e,"created");a.size>0&&e(a,{dirtyLeaves:new Set,prevEditorState:n,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const n=e.getType(),o=this._nodes.get(n);if(void 0===o)throw Error("Node ".concat(e.name," has not been registered. Ensure node has been passed to createEditor."));return o.transforms.add(t),o}registerNodeTransform(e,t){const n=this.registerNodeTransformToKlass(e,t),o=[n],a=n.replaceWithKlass;if(null!=a){const e=this.registerNodeTransformToKlass(a,t);o.push(e)}var i;return i=e.getType(),Za(this,(()=>{const e=za();if(e.isEmpty())return;if("root"===i)return void _t().markDirty();const t=e._nodeMap;for(const[,e]of t)e.markDirty()}),null===this._pendingEditorState?{tag:"history-merge"}:void 0),()=>{o.forEach((e=>e.transforms.delete(t)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return Ut(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const n=Ht(this._config.theme,"root"),o=this._pendingEditorState||this._editorState;if(this._rootElement=e,Bi(this,t,e,o),null!==t&&(this._config.disableEvents||function(e){0!==to&&(to--,0===to)&&e.ownerDocument.removeEventListener("selectionchange",ho);const t=e.__lexicalEditor;null!=t&&(function(e){if(null!==e._parentEditor){const t=At(e),n=t[t.length-1]._key;mo.get(n)===e&&mo.delete(n)}else mo.delete(e._key)}(t),e.__lexicalEditor=null);const n=go(e);for(let e=0;e<n.length;e++)n[e]();e.__lexicalEventHandles=[]}(t),null!=n&&t.classList.remove(...n)),null!==e){const t=function(e){const t=e.ownerDocument;return t&&t.defaultView||null}(e),o=e.style;o.userSelect="text",o.whiteSpace="pre-wrap",o.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=t,this._dirtyType=ue,Xe(this),this._updateTags.add("history-merge"),Ua(this),this._config.disableEvents||function(e,t){0===to&&e.ownerDocument.addEventListener("selectionchange",ho),to++,e.__lexicalEditor=t;const n=go(e);for(let o=0;o<Yn.length;o++){const[a,i]=Yn[o],r="function"==typeof i?e=>{bo(e)||(fo(e),t.isEditable()&&i(e,t))}:e=>{if(!bo(e)&&(fo(e),t.isEditable()))switch(a){case"cut":return Ut(t,J,e);case"copy":return Ut(t,W,e);case"paste":return Ut(t,f,e);case"dragstart":return Ut(t,q,e);case"dragover":return Ut(t,j,e);case"dragend":return Ut(t,K,e);case"focus":return Ut(t,Z,e);case"blur":return Ut(t,$,e);case"drop":return Ut(t,F,e)}};e.addEventListener(a,r),n.push((()=>{e.removeEventListener(a,r)}))}}(e,this),null!=n&&e.classList.add(...n)}else this._editorState=o,this._pendingEditorState=null,this._window=null;Va("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){if(e.isEmpty())throw Error("setEditorState: the editor state is empty. Ensure the editor state's root node never becomes empty.");Ge(this);const n=this._pendingEditorState,o=this._updateTags,a=void 0!==t?t.tag:null;null===n||n.isEmpty()||(null!=a&&o.add(a),Ua(this)),this._pendingEditorState=e,this._dirtyType=ue,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=a&&o.add(a),Ua(this)}parseEditorState(e,t){return function(e,t,n){const o=xi(),a=Ta,i=La,r=Na,l=t._dirtyElements,s=t._dirtyLeaves,c=t._cloneNotNeeded,d=t._dirtyType;t._dirtyElements=new Map,t._dirtyLeaves=new Set,t._cloneNotNeeded=new Set,t._dirtyType=0,Ta=o,La=!1,Na=t;try{const a=t._nodes;Ka(e.root,a),n&&n(),o._readOnly=!0,Ja(o)}catch(e){e instanceof Error&&t._onError(e)}finally{t._dirtyElements=l,t._dirtyLeaves=s,t._cloneNotNeeded=c,t._dirtyType=d,Ta=a,La=i,Na=r}return o}("string"==typeof e?JSON.parse(e):e,this,t)}update(e,t){Za(this,e,t)}focus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Za(this,(()=>{const e=ba(),n=_t();null!==e?e.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===t.defaultSelection?n.selectStart():n.selectEnd())}),{onUpdate:()=>{n.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;null!==e&&e.blur();const t=an(this._window);null!==t&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Va("editable",this,!0,e))}toJSON(){const e={editorState:this._editorState.toJSON()};return e.editorState.root.children[0].hasOwnProperty("first_element")&&(e.editorState.root.children[0].first_element=!0),e}}class zi extends oi{constructor(e,t){super(t),s(this,"__version",1),this.__colSpan=e,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan,version:1}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}}function Pi(e){return e instanceof zi}class Fi extends oi{}function Hi(e){return e instanceof Fi}class qi extends oi{}function ji(e){return e instanceof qi}class Ki extends l.fG{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null,this.__version=1}static getType(){return"table-wrapper"}static clone(e){return new Ki(e.__key)}createDOM(e){const t=document.createElement("div");return t.className="table-wrapper",this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}updateDOM(e,t,n){return!1}static importDOM(){return{div:e=>e.classList.contains("table-wrapper")?{conversion:Wi,priority:l.d}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(t&&(0,l.sb)(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();t.style.textAlign=e;const n=this.getDirection();n&&(t.dir=n);const o=this.getIndent();o>0&&(t.style.textIndent="".concat(20*o,"px")),t.setAttribute("data-v",String(1))}return{element:t}}static importJSON(e){return Ji()}exportJSON(){return{...super.exportJSON(),type:"table-wrapper",version:1}}insertNewAfter(e,t){const n=(0,l.lJ)(),o=this.getDirection();return n.setDirection(o),this.insertAfter(n,t),n}collapseAtStart(){return 0===this.getChildren().length&&(this.remove(),!0)}setIndent(e){return this.getWritable()}append(){const e=this.getChildren();for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return 1===n.length&&"table"===n[0].__type&&0===e.length&&super.append(n[0]),this}}function Wi(e){return{node:Ji()}}function Ji(){return(0,l.pT)(new Ki)}function Ui(e){return e instanceof Ki}class Vi extends l.Ey{constructor(e,t){super(e,t),this.__version=1}static getType(){return"extended-text"}static clone(e){return new Vi(e.__text,e.__key)}static importDOM(){const e=l.Ey.importDOM();return{...e,code:()=>({conversion:Gi(null==e?void 0:e.code),priority:1}),em:()=>({conversion:Gi(null==e?void 0:e.em),priority:1}),span:()=>({conversion:Gi(null==e?void 0:e.span),priority:1}),strong:()=>({conversion:Gi(null==e?void 0:e.strong),priority:1}),sub:()=>({conversion:Gi(null==e?void 0:e.sub),priority:1}),sup:()=>({conversion:Gi(null==e?void 0:e.sup),priority:1})}}static importJSON(e){return l.Ey.importJSON(e)}isSimpleText(){return("text"===this.__type||"extended-text"===this.__type)&&0===this.__mode}exportJSON(){return{...super.exportJSON(),type:"extended-text",version:1}}}function Gi(e){return t=>{const n=null==e?void 0:e(t);if(!n)return null;const o=n.conversion(t);if(!o)return o;const a=t.style.backgroundColor,i=t.style.color,r=t.style.fontFamily,s=t.style.fontWeight,c=t.style.fontSize,d=t.style.textDecoration;return{...o,forChild:(e,t)=>{var n;const u=(null!==(n=null==o?void 0:o.forChild)&&void 0!==n?n:e=>e)(e,t);if((0,l.kF)(u)){const e=[a?"background-color: ".concat(a):null,i?"color: ".concat(i):null,r?"font-family: ".concat(r):null,s?"font-weight: ".concat(s):null,c?"font-size: ".concat(c):null,d?"text-decoration: ".concat(d):null].filter((e=>null!=e)).join("; ");if(e.length)return u.setStyle(e)}return u}}}}},8189:function(e,t,n){n.r(t),n.d(t,{clearEditor:function(){return af},convertNodesToMarkdownString:function(){return zh},editorToChatMessage:function(){return sf},getCommentImplementation:function(){return Rh},getCurrentEditor:function(){return de},getEditorInstances:function(){return pe},getEditorState:function(){return Qh},getFullLexicalRenderObj:function(){return Dh},getRegisterSurveyOption:function(){return Xh},getRegisterSurveyQuestion:function(){return Yh},onLexicalThemeChange:function(){return rf},registerAnnotation:function(){return Kh},registerComment:function(){return Fh},registerFullEditor:function(){return Ph},registerRangeDescriptions:function(){return Gh},registerSurveyOption:function(){return Uh},registerSurveyQuestion:function(){return Jh},registerSurveyShortBlog:function(){return Vh},registerTextOnly:function(){return Hh},registerTextWithBlockElements:function(){return Wh},registerTextWithLinks:function(){return qh},setEditorState:function(){return ef},setEditors:function(){return of},unloadLexicalEditorsBeforeSwap:function(){return lf},updateLexicalInstanceWithHtml:function(){return df}});var o={heading:{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6"},text:{bold:"bolder",italic:"italic",underline:"underline",strikethrough:"strikethrough",underlineStrikethrough:"underline-strikethrough",superscript:"superscript",subscript:"subscript",code:"text-code"},paragraph:"lex-p",ltr:"ltr",rtl:"rtl",placeholder:"placeholder",quote:"blockquote",link:"lexical-link",code:"lexical-code hz-scroll",codeHighlight:{atrule:"lexical-tokenAttr",attr:"lexical-tokenAttr",boolean:"lexical-tokenProperty",builtin:"lexical-codeBuiltIn",cdata:"lexical-tokenComment",char:"lexical-tokenSelector",class:"lexical-codeClass","class-name":"lexical-tokenFunction",comment:"lexical-tokenComment",constant:"lexical-tokenProperty",deleted:"lexical-codeDeleted",doctype:"lexical-codeTag",entity:"lexical-tokenOperator",function:"lexical-tokenFunction",important:"lexical-tokenVariable",inserted:"lexical-tokenSelector",keyword:"lexical-tokenAttr",namespace:"lexical-tokenVariable",number:"lexical-codeNumber",operator:"lexical-tokenOperator",prolog:"lexical-tokenComment",property:"lexical-tokenProperty",punctuation:"lexical-tokenPunctuation",regex:"lexical-codeRegex",selector:"lexical-tokenSelector",string:"lexical-codeString",symbol:"lexical-tokenProperty",tag:"lexical-codeTag",url:"lexical-codeLink",variable:"lexical-tokenVariable"},list:{numberDepth:["first","second","third","fourth","fifth"],bulletDepth:["first","second","third","fourth","fifth"],checkDepth:["check-l-first","check-l-second","check-l-third","check-l-fourth","check-l-fifth"],nested:{listitem:"nested-list-item"},checklist:"rte-checklist",listitemChecked:"rte-li-checked",listitemUnchecked:"rte-li-unchecked"},table:"rte-table",tableAddColumns:"rte-tableAddColumns",tableAddRows:"rte-tableAddRows",tableCell:"rte-tableCell",tableCellActionButton:"rte-tableCellActionButton",tableCellActionButtonContainer:"rte-tableCellActionButtonContainer",tableCellEditing:"rte-tableCellEditing",tableCellHeader:"rte-tableCellHeader",tableCellPrimarySelected:"rte-tableCellPrimarySelected",tableCellResizer:"rte-tableCellResizer",tableCellSelected:"rte-tableCellSelected",tableCellSortedIndicator:"rte-tableCellSortedIndicator",tableResizeRuler:"rte-tableCellResizeRuler",tableSelected:"rte-tableSelected",tableSelection:"rte-tableSelection"},a=n(60429),i=n(29812);n(20046),n(44499),n(96107),n(45924),n(44555),n(3155),n(50044),n(24744),n(26287),n(52105),n(77860),n(33813),n(85473),n(9321),n(67563);const r=new Map;function l(e){const t={},n=e.split(";");for(const e of n)if(""!==e){const[n,o]=e.split(/:([^]+)/);n&&o&&(t[n.trim()]=o.trim())}return t}function s(e){let t=r.get(e);return void 0===t&&(t=l(e),r.set(e,t)),Object.freeze(t),t}function c(e){const t=e.constructor.clone(e);return t.__parent=e.__parent,t.__next=e.__next,t.__prev=e.__prev,(0,i.ff)(e)&&(0,i.ff)(t)?(o=e,(n=t).__first=o.__first,n.__last=o.__last,n.__size=o.__size,n.__format=o.__format,n.__indent=o.__indent,n.__dir=o.__dir,n):(0,i.kF)(e)&&(0,i.kF)(t)?function(e,t){return e.__format=t.__format,e.__style=t.__style,e.__mode=t.__mode,e.__detail=t.__detail,e}(t,e):t;var n,o}function d(e,t){if(t.isSelected()&&!t.isSegmented()&&!t.isToken()&&((0,i.I2)(e)||(0,i.zq)(e))){const n=e.anchor.getNode(),o=e.focus.getNode(),a=t.is(n),i=t.is(o);if(a||i){const a=e.isBackward(),[i,r]=e.getCharacterOffsets(),l=n.is(o),s=t.is(a?o:n),c=t.is(a?n:o);let d,u=0;return l?(u=i>r?r:i,d=i>r?i:r):s?(u=a?r:i,d=void 0):c&&(u=0,d=a?i:r),t.__text=t.__text.slice(u,d),t}}return t}function u(e){return"text"===e.type?e.offset===e.getNode().getTextContentSize():e.offset===e.getNode().getChildrenSize()}function p(e){const t=e.getStyle(),n=l(t);r.set(t,n)}function g(e,t){const n=s("getStyle"in e?e.getStyle():e.style),o=Object.entries(t).reduce(((e,t)=>{let[n,o]=t;return null===o?delete e[n]:e[n]=o,e}),{...n}||{}),a=function(e){let t="";for(const n in e)n&&(t+="".concat(n,": ").concat(e[n],";"));return t}(o);e.setStyle(a),r.set(a,o)}function m(e,t){const n=e.getNodes(),o=n.length;if((0,i.zq)(e)){const a=(0,i.uT)(),r=a.anchor,l=a.focus;for(let e=0;e<o;e++){const o=n[e];(0,i.zm)(o)&&(r.set(o.getKey(),0,"element"),l.set(o.getKey(),o.getChildrenSize(),"element"),m((0,i.C)(a),t))}return void(0,i.n1)(e)}const a=o-1;let r=n[0],l=n[a];if(e.isCollapsed())return void g(e,t);const s=e.anchor,c=e.focus,d=r.getTextContent().length,u=c.offset;let p=s.offset;const h=s.isBefore(c);let f=h?p:u,b=h?u:p;const v=h?s.type:c.type,y=h?c.type:s.type,x=h?c.key:s.key;if((0,i.kF)(r)&&f===d){const e=r.getNextSibling();(0,i.kF)(e)&&(p=0,f=0,r=e)}if(1===n.length){if((0,i.kF)(r)){if(f="element"===v?0:p>u?u:p,b="element"===y?d:p>u?p:u,f===b)return;if(0===f&&b===d)g(r,t),r.select(f,b);else{const e=r.splitText(f,b),n=0===f?e[0]:e[1];g(n,t),n.select(0,b-f)}}}else{if((0,i.kF)(r)&&f<r.getTextContentSize()&&(0!==f&&(r=r.splitText(f)[1],f=0,s.set(r.getKey(),f,"text")),g(r,t)),(0,i.kF)(l)){const e=l.getTextContent().length;l.__key!==x&&0!==b&&(b=e),b!==e&&([l]=l.splitText(b)),0!==b&&g(l,t)}for(let e=1;e<a;e++){const o=n[e],a=o.getKey();(0,i.kF)(o)&&a!==r.getKey()&&a!==l.getKey()&&!o.isToken()&&g(o,t)}}}const h=new Set(["list","heading","paragraph"]);function f(e,t){if("root"===e.anchor.key){const e=t(),n=(0,i.Ni)(),o=n.getFirstChild();return void(o?o.replace(e,!0):n.append(e))}const n=e.getNodes(),o=function(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}(e.anchor.getNode(),_);o&&-1===n.indexOf(o)&&n.push(o);for(let e=0;e<n.length;e++){const o=n[e];if(!_(o))continue;const a=t();a.setFormat(o.getFormatType()),a.setIndent(o.getIndent()),h.has(o.__key)&&h.has(a.__key)&&a.setBlockStyle(structuredClone(o.getBlockStyle())),o.replace(a,!0)}}function b(e,t){const n=(0,i.B$)(e.focus,t);return(0,i.Cy)(n)&&!n.isIsolated()||(0,i.ff)(n)&&!n.isInline()&&!n.canBeEmpty()}function v(e,t,n){const o=function(e){const t=e.anchor.getNode();return"rtl"===((0,i.hV)(t)?t:t.getParentOrThrow()).getDirection()}(e);!function(e,t,n){e.modify(t?"extend":"move",n,"character")}(e,t,n?!o:o)}function y(e,t,n){const o=s(e.getStyle());return null!==o&&o[t]||n}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=null;const a=e.getNodes(),r=e.anchor,l=e.focus,c=e.isBackward(),d=c?l.offset:r.offset,u=c?l.getNode():r.getNode();if(e.isCollapsed()&&""!==e.style){const n=s(e.style);if(null!==n&&t in n)return n[t]}for(let e=0;e<a.length;e++){const r=a[e];if((0===e||0!==d||!r.is(u))&&(0,i.kF)(r)){const e=y(r,t,n);if(null===o)o=e;else if(o!==e){o="";break}}}return null===o?n:o}function _(e){if((0,i.Cy)(e)&&!e.isInline())return!0;if(!(0,i.ff)(e)||(0,i.Iq)(e))return!1;const t=e.getFirstChild(),n=null===t||(0,i.wH)(t)||(0,i.kF)(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&n}n(72679),n(50291),n(82474),n(12585),n(77196),n(54640);class w extends i.fG{static getType(){return"overflow"}static clone(e){return new w(e.__key)}static importJSON(e){return E()}static importDOM(){return null}constructor(e){var t,n,o;super(e),t=this,o=1,(n=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(n="__version"))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,this.__type="overflow"}exportJSON(){return{...super.exportJSON(),type:"overflow",version:1}}createDOM(e){const t=document.createElement("span"),n=e.theme.characterLimit;return"string"==typeof n&&(t.className=n),t.setAttribute("data-v",String(1)),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}updateDOM(e,t){return!1}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getParentOrThrow().insertNewAfter(e,t)}excludeFromCopy(){return!0}}function E(){return(0,i.pT)(new w)}function k(e){return e instanceof w}var C,S;const A="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,T=A&&"documentMode"in document?document.documentMode:null;A&&/Mac|iPod|iPhone|iPad/.test(navigator.platform);const N=A&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);A&&"InputEvent"in window&&!T&&new window.InputEvent("input"),A&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),A&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,A&&/Android/.test(navigator.userAgent),A&&/^(?=.*Chrome).*/i.test(navigator.userAgent),A&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);const L=new WeakMap;function I(e){const t=e.changedTouches[0];return void 0===t?null:[t.clientX,t.clientY]}function M(e,t){let n=L.get(e);if(void 0===n){const t=new Set,o=e=>{void 0!==n&&(n.start=I(e))},a=e=>{if(void 0===n)return;const o=n.start;if(null===o)return;const a=I(e);for(const n of t)null!==a&&n([a[0]-o[0],a[1]-o[1]],e)};e.addEventListener("touchstart",o),e.addEventListener("touchend",a),n={handleTouchend:a,handleTouchstart:o,listeners:t,start:null},L.set(e,n)}return n.listeners.add(t),()=>function(e,t){const n=L.get(e);if(void 0===n)return;const o=n.listeners;o.delete(t),0===o.size&&(L.delete(e),e.removeEventListener("touchstart",n.handleTouchstart),e.removeEventListener("touchend",n.handleTouchend))}(e,t)}var O='<div style="display: none;" hidden class="dialog-wrapper" id="math-markup-lexical" data-close-backdrop data-esc>\n  <div class="dialog large" data-click-capture>\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Insert Math Markup</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <details aria-label="About Inserting Math Content" class="mt-1 flat" style="background-color: var(--background);">\n        <summary>\n            <span class="h6 fw-regular">About Inserting Math Content</span>\n            <svg class="details" focusable="false" inert viewBox="0 0 24 24">\n            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n            </path>\n            </svg>\n        </summary>\n        <div class="accordion-content" aria-hidden="true" style="background-color: var(--background);">\n            We use <a href="https://katex.org/" class="secondary link" target="_blank">KaTeX</a> to generate \n            math markup given a <span id="copy_math_htmll9vdp3omor" class="inline-katex">\n              <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>e</mi><mi>X</mi></mrow><annotation encoding="application/x-tex">TeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>\n            </span> input. Enter a valid <span id="copy_math_htmll9vdp3omor" class="inline-katex">\n              <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>e</mi><mi>X</mi></mrow><annotation encoding="application/x-tex">TeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>\n            </span> expression in the <span><code class="hljs"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">textarea</span>&gt;</span></span></code></span> below, \n            and we will use KaTeX to render the <span id="copy_math_htmll9vdp3omor" class="inline-katex">\n              <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>e</mi><mi>X</mi></mrow><annotation encoding="application/x-tex">TeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>\n            </span>expression in HTML. \n        </div>\n      </details>\n      <form method="dialog" id="lexical-input-math-form-rand">\n        <div class="input-group block mt-1" data-hover="false" data-focus="false" data-error="false" data-blurred="false">\n          <label for="lexical-math-markup-tex-input"><span id="copy_math_htmll9vdp3omor" class="inline-katex">\n            <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>e</mi><mi>X</mi></mrow><annotation encoding="application/x-tex">TeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> Input:</label>\n          <div class="mt-1 text-input block medium disabled">\n              <textarea name="lexical-math-markup-tex-input" id="lexical-math-markup-tex-input" placeholder="a^{2}+b^{2}=c^{2}\ne^{i\theta} = cos \theta + isin \theta\nihbar \frac{partial Psi}{partial t} = -\frac{hbar^2}{2m}\n\frac{partial^2 Psi}{partial x^2} + V Psi\n" \n              rows="10" minlength="1" spellcheck="false" autocomplete="off" autocapitalize="off" style="font-family: monospace!important;"></textarea>\n          </div>\n        </div>\n        \n        <div class="flex-row align-center justify-start">\n          <fieldset class="grow-1">\n            <legend class="body1 bold">Display Style:</legend>\n            <label class="radio">\n              <input type="radio" name="lex-math-display-style-radio" value="inline" class="secondary">\n              Inline\n            </label>\n            <label class="radio mt-2">\n              <input type="radio" name="lex-math-display-style-radio" value="block" class="secondary" checked>\n              Block\n            </label>\n          </fieldset>\n        </div>\n\n        <div class="flex-row justify-between align-center mt-2">\n          <input role="button" value="RESET"  type="reset" aria-label="Reset Form"></input>\n          <button type="submit" class="filled success medium" aria-label="Submit Form">SUBMIT</button>\n        </div>\n      </form>\n      <div class="mt-2">\n        <output form="lexical-input-math-form-rand" class="block" data-preview>\n\n        </output>\n      </div>\n    </div>\n\n    <div class="dialog-footer no-pad" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n\n  </div>\n</div>',B='<div style="display: none;" hidden class="dialog-wrapper" id="lex-embed-news" data-close-backdrop data-esc>\n  <div class="dialog medium" data-click-capture>\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Embed News Content</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <details class="mt-2 flat" style="background-color: var(--background);" aria-label="About Inserting News Content">\n        <summary>\n          <span class="h6 fw-regular">About Embedding News Content</span>\n          <svg class="details" focusable="false" inert viewBox="0 0 24 24">\n            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n            </path>\n          </svg>\n        </summary>\n        <div class="accordion-content" aria-hidden="true" style="background-color:var(--background);">\n          <ol class="body2">\n            <li>Navigate to the News Article you want to embed.</li>\n            <li>\n              Copy the url of the article and paste into the input below.\n              <ul>\n                <li>\n                  For a news article to be properly embedded, it must have valid <span><code class="hljs"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span>&gt;</span></span></code></span> tags as seen below.\n                </li>\n                <li class="t-warning fw-regular">\n                  The image url must be able to be accessed from any source.\n                </li>\n              </ul>\n            </li>\n          </ol>\n          <div style="position: relative; font-size: 0.85rem!important;" class="body2"><pre class="hz-scroll"><code class="hljs"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;og:type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;article&quot;</span> /&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;og:type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;any string&quot;</span> /&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;og:image&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;valid image url&quot;</span> /&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;og:description&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;any string&quot;</span> /&gt;</span></span></code></pre>\n\n      </div>\n        </div>\n      </details>\n      <form method="dialog" class="mt-2">\n        <div class="input-group block" data-hover="false" data-focus="false" data-error="false" data-blurred="false">\n          <label for="lex-embed-news-input">News Article URL:</label>\n          <div class="text-input block medium">\n              <input type="url" autocomplete="off" name="lex-embed-news-input" id="lex-embed-news-input" class="medium icon-before mt-1" required="" placeholder="Enter the news article url..." maxlength="500" spellcheck="false" autocapitalize="off">\n              <svg class="icon-before" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Newspaper"><path d="m22 3-1.67 1.67L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V3zM11 19H4v-6h7v6zm9 0h-7v-2h7v2zm0-4h-7v-2h7v2zm0-4H4V8h16v3z"></path></svg>\n          </div>\n        </div>\n        <div class="mt-2 flex-row justify-between align-center">\n          <input role="button" value="RESET"  type="reset" aria-label="Reset Form">\n\n          <button type="submit" class="icon-text filled success medium" aria-label="Embed Content Form Submit">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n            SUBMIT\n          </button>\n        </div>\n        <div class="mt-1 alert filled error icon medium" data-embed-error role="alert" hidden>\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"></path></svg>\n          <p class="alert">\n            Please enter a valid News Article url. \n          </p>\n        </div>\n      </form>\n    </div>\n    <div class="dialog-footer no-pad" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>',D='<div style="display: none;" hidden class="dialog-wrapper" id="lex-embed-youtube" data-close-backdrop data-esc>\n  <div class="dialog medium" style="min-height: 375px; height: auto!important;" data-click-capture>\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Embed Youtube Video</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <details class="mt-2 flat" style="background-color: var(--background);" aria-label="About Inserting Youtube Content">\n        <summary>\n          <span class="h6 fw-regular">Embedding Youtube Videos</span>\n          <svg class="details" focusable="false" inert viewBox="0 0 24 24">\n            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n            </path>\n          </svg>\n        </summary>\n        <div class="accordion-content" aria-hidden="true" style="background-color:var(--background);">\n          <ol class="body2">\n            <li>Navigate to the page of the youtube video you want to embed.</li>\n            <li>Copy the url and paste into the input below.</li>\n          </ol>\n        </div>\n      </details>\n      <form method="dialog" class="mt-2">\n        <div class="input-group block" data-hover="false" data-focus="false" data-error="false" data-blurred="false">\n          <label for="lex-embed-youtube-input">Youtube Embed URL:</label>\n          <div class="text-input block medium">\n              <input type="url" autocomplete="off" name="lex-embed-youtube-input" id="lex-embed-youtube-input" class="medium icon-before mt-1" required placeholder="Enter the Youtube Embed URL..." maxlength="500" spellcheck="false" autocapitalize="off" >\n              <svg class="icon-before" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="YouTube"><path d="M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"></path></svg>\n          </div>\n        </div>\n        \n        <div class="mt-2 flex-row justify-between align-center">\n          <input role="button" value="RESET"  type="reset" aria-label="Reset Form"></input>\n          <button type="submit" class="icon-text filled success medium" aria-label="Embed Content Form Submit">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n            SUBMIT\n          </button>\n        </div>\n        <div class="mt-1 alert filled error icon medium" data-embed-error role="alert" hidden>\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"></path></svg>\n          <p class="alert">\n            Please enter a valid Youtube url. \n          </p>\n        </div>\n      </form>\n    </div>\n    <div class="dialog-footer no-pad" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>',R='<div style="display: none;" hidden class="dialog-wrapper" id="lex-embed-tiktok" data-close-backdrop data-esc>\n  <div class="dialog medium" style="min-height: 375px; height: auto!important;" data-click-capture>\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Embed TikTok Video</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <details class="mt-2 flat" style="background-color: var(--background);" aria-label="About Inserting Youtube Content">\n        <summary>\n          <span class="h6 fw-regular">Embedding TikTok Videos</span>\n          <svg class="details" focusable="false" inert viewBox="0 0 24 24">\n            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n            </path>\n          </svg>\n        </summary>\n        <div class="accordion-content" aria-hidden="true" style="background-color:var(--background);">\n          <ol class="body2">\n            <li>\n              Navigate to the TikTok post you want to embed on <a class="secondary link" target="_blank" href="https://www.tiktok.com/">TikTok.com</a>.\n            </li>\n            <li>\n              Click on the <span class="bold">Share</span> button.\n            </li>\n            <li>\n              Click on <span class="bold">Copy Link</span>.\n            </li>\n            <li>\n              Paste the link into the input below.\n            </li>\n          </ol>\n        </div>\n      </details>\n      <form method="dialog" class="mt-2">\n        \n        <div class="input-group block" data-hover="false" data-focus="false" data-error="false" data-blurred="true">\n          <label for="tik-tok-embed-url">TikTok Embed Link:</label>\n          <div class="text-input block medium">\n              <input\n              name="tik-tok-embed-url"\n              id="tik-tok-embed-url" \n              class="mt-1 \n              medium icon-before" \n              placeholder="Enter the TikTok Embed link..." \n              autocomplete="off" \n              autocapitalize="off" \n              spellcheck="false" \n              type="url" \n              >\n              <svg class="icon-before" viewBox="0 0 448 512" title="tiktok" focusable="false" inert tabindex="-1"><path d="M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"></path></svg>\n          </div>\n        </div>        \n        <div class="mt-2 flex-row justify-between align-center">\n          <input role="button" value="RESET"  type="reset" aria-label="Reset Form"></input>\n          <button type="submit" class="icon-text filled success medium" aria-label="Embed Content Form Submit">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n            SUBMIT\n          </button>\n        </div>\n        <div class="mt-1 alert filled error icon medium" data-embed-error role="alert" hidden>\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"></path></svg>\n          <p class="alert">\n            Something went wrong embedding the TikTok content. Try reloading the page or embedding a different video. \n          </p>\n        </div>\n      </form>\n    </div>\n    <div class="dialog-footer no-pad" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>',z='<div style="display: none;" hidden class="dialog-wrapper" id="lex-embed-twitter" data-close-backdrop data-esc>\n  <div class="dialog medium" style="min-height: 375px; height: auto!important;" data-click-capture>\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Embed X Post</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <details class="mt-2 flat" style="background-color: var(--background);" aria-label="About Inserting Youtube Content">\n        <summary>\n          <span class="h6 fw-regular">Embedding X Posts</span>\n          <svg class="details" focusable="false" inert viewBox="0 0 24 24">\n            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n            </path>\n          </svg>\n        </summary>\n        <div class="accordion-content" aria-hidden="true" style="background-color:var(--background);">\n          <ol class="body2">\n            <li>Go to <a class="secondary link" target="_blank" href="https://x.com/home?lang=en">x.com</a>.</li>\n            <li>Click on the three dots button in the upper right hand corner of the tweet.</li>\n            <li>Click on the Embed Post button.</li>\n            <li>\n              Select the <span class="bold">Embedded Post</span> display option.\n            </li>\n            <li>\n              Click on the <span class="bold">Copy Code</span> button.\n            </li>\n            <li>\n              Paste the code into the textarea below and click submit.\n            </li>\n          </ol>\n        </div>\n      </details>\n      <form method="dialog" class="mt-2">\n        <div class="input-group block mt-1" data-hover="false" data-focus="false" data-error="false" data-blurred="false"> \n          <label for="x-embed-code">X Embed Code:</label>\n          <div class="mt-1 text-input block medium disabled">\n              <textarea \n              name="x-embed-code" \n              id="x-embed-code" \n              placeholder="Enter the embed code generated using the process above." \n              rows="5" \n              minlength="1" \n              spellcheck="true"\n              autocomplete="off"\n              autocapitalize="off"\n              ></textarea>\n          </div>\n        </div>\n        \n        <div class="mt-2 flex-row justify-between align-center">\n          <input role="button" value="RESET"  type="reset" aria-label="Reset Form"></input>\n          <button type="submit" class="icon-text filled success medium" aria-label="Embed Content Form Submit">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n            SUBMIT\n          </button>\n        </div>\n        <div class="mt-1 alert filled error icon medium" data-embed-error role="alert" hidden>\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"></path></svg>\n          <p class="alert">\n            Something went wrong embedding the X post. Try reloading the page or embedding a different post. \n          </p>\n        </div>\n      </form>\n    </div>\n    <div class="dialog-footer no-pad" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>',P='<div style="display: none;" hidden class="dialog-wrapper" id="lex-embed-instagram" data-close-backdrop data-esc>\n  <div class="dialog medium" style="min-height: 375px; height: auto!important;" data-click-capture>\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Embed Instagram Post</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <details class="mt-2 flat" style="background-color: var(--background);" aria-label="About Inserting Youtube Content">\n        <summary>\n          <span class="h6 fw-regular">Embedding Instagram Posts</span>\n          <svg class="details" focusable="false" inert viewBox="0 0 24 24">\n            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n            </path>\n          </svg>\n        </summary>\n        <div class="accordion-content" aria-hidden="true" style="background-color:var(--background);">\n          <ol class="body2">\n            <li>Go to the instagram post that you want to embed. </li>\n            <li>Click on the three dots in the upper right hand corner of the post.</li>\n            <li>Click <span class="bold">Embed</span>.</li>\n            <li>Click <span class="bold">Copy embed code</span>.</li>\n            <li>Paste the embed code into the textarea below.</li>\n          </ol>\n        </div>\n      </details>\n      <form method="dialog" class="mt-2">\n        <div class="input-group block mt-1" data-hover="false" data-focus="false" data-error="false" data-blurred="false"> \n          <label for="instagram-embed-code">Instagram Embed Code:</label>\n          <div class="mt-1 text-input block medium disabled">\n              <textarea \n              name="instagram-embed-code" \n              id="instagram-embed-code" \n              placeholder="Enter the embed code generated using the process above." \n              rows="5" \n              minlength="1" \n              spellcheck="true"\n              autocomplete="off"\n              autocapitalize="off"\n              ></textarea>\n          </div>\n        </div>\n        \n        <div class="mt-2 flex-row justify-between align-center">\n          <input role="button" value="RESET"  type="reset" aria-label="Reset Form"></input>\n          <button type="submit" class="icon-text filled success medium" aria-label="Embed Content Form Submit">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n            SUBMIT\n          </button>\n        </div>\n        <div class="mt-1 alert filled error icon medium" data-embed-error role="alert" hidden>\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"></path></svg>\n          <p class="alert">\n            Something went wrong embedding the Instagram post. Try reloading the page or embedding a different post. \n          </p>\n        </div>\n      </form>\n    </div>\n    <div class="dialog-footer no-pad" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>',F='<div style="display: none;" hidden class="dialog-wrapper" id="details-content-lexical" data-close-backdrop data-esc>\n  <div class="dialog large" data-click-capture>\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Insert Details Element</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <form id="lexical-insert-details-form" method="dialog" class="mt-2">\n        <div class="input-group block" data-hover="false" data-focus="false" data-error="false" data-blurred="false">\n          <label for="lexical-details-summary-title">Summary Title:</label>\n          <div class="text-input block medium">\n              <input \n              type="text" \n              autocomplete="off" \n              name="lexical-details-summary-title" \n              id="lexical-details-summary-title" \n              class="medium icon-before mt-1" \n              required\n              placeholder="Enter the Title of the Details Element..." \n              maxlength="50"\n              minlength="1" \n              spellcheck="true" \n              autocapitalize="off"\n              value="Summary Title"\n              >\n              <svg class="icon-before" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Details"><path d="M12 3 2 21h20L12 3zm1 5.92L18.6 19H13V8.92zm-2 0V19H5.4L11 8.92z"></path></svg>\n          </div>\n        </div>\n        <label class="checkbox mt-3 medium">\n          <input type="checkbox" class="primary" name="lexical-insert-details-flat" id="lexical-insert-details-flat">\n          Flat\n        </label>\n        <div class="mt-3 flex-row align-center justify-end">\n          <button type="submit" aria-label="Submit Form" class="filled success medium">\n            SUBMIT\n          </button>\n        </div>\n      </form>\n      <output class="block mt-4" form="lexical-insert-details-form" style="padding: 5px 4px 15px 4px; background-color:var(--background);">\n        <p class="bold h6">Example Output:</p>\n        <details data-output aria-label="DETAILS DESCRIPTION" class="mt-2" open>\n              <summary>\n                  <span data-output class="h6 fw-regular">\n                    Summary Title\n                  </span>\n                  <svg class="details" focusable="false" inert viewBox="0 0 24 24">\n                  <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                  </path>\n                  </svg>\n              </summary>\n              <div class="accordion-content" aria-hidden="false">\n                 You will be able to insert content here after confirming the title of the <span><code class="hljs"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">details</span>&gt;</span></span></code></span> element.\n              </div>\n        </details>\n      </output>\n    </div>\n    <div class="dialog-footer" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>',H='<div style="display: none;" hidden class="dialog-wrapper" id="tables-lexical" data-close-backdrop data-esc>\n  <div class="dialog large" data-click-capture>\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Insert Table</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <div class="tabs mt-2">\n        <ul class="tabs" role="tablist">\n          <li role="presentation">\n            <button id="create_table_from_nothing_lexical" class="tab-button secondary" role="tab" type="button" aria-selected="true" data-tab="0" tabindex="-1">\n              Create Table\n            </button>\n          </li>\n          <li role="presentation">\n            <button id="create_table_from_upload_lexical" class="tab-button t-secondary" role="tab" type="button" aria-selected="false" data-tab="1" tabindex="-1">\n              Upload Data\n            </button>\n          </li>\n        </ul>\n      </div>\n      <div class="tab-panels">\n        <div aria-labelledby="create_table_from_nothing_lexical" role="tabpanel" tabindex="0">\n          <form id="lexical-insert-table-form" method="dialog" class="mt-1">\n            <fieldset>\n              <legend class="h6 bold">Customization</legend>\n              <div class="w-100 flex-row align-start gap-2">\n                <div class="grow-1">\n                  <label class="checkbox">\n                    <input type="checkbox" class="primary" name="lexical-table-include-heading-row" id="lexical-table-include-heading-row" checked>\n                    Include Heading Row\n                  </label>\n                  <label class="checkbox mt-2">\n                    <input type="checkbox" class="secondary" name="lexical-table-include-heading-column" id="lexical-table-include-heading-column" checked>\n                    Include Heading Column\n                  </label>\n                  <label class="checkbox mt-2">\n                    <input type="checkbox" class="error" name="lexical-table-include-caption" id="lexical-table-include-caption">\n                    Include Caption\n                  </label>\n                </div>\n                <div class="grow-1">\n                  <label class="checkbox">\n                    <input type="checkbox" class="info" name="lexical-table-banded-rows" id="lexical-table-banded-rows">\n                    Banded Rows\n                  </label>\n                  <label class="checkbox mt-2">\n                    <input type="checkbox" class="success" name="lexical-table-banded-cols" id="lexical-table-banded-cols">\n                    Banded Columns\n                  </label>\n                </div>\n              </div>\n              \n              \n            </fieldset>\n            <fieldset class="mt-2">\n              <legend class="body1 bold">Align:</legend>\n              <div class="flex-row justify-between align-center w-100">\n                <label class="radio" style="width: auto;">\n                  <input type="radio" name="lexical-insert-table-align" value="left" class="secondary">\n                  Left\n                </label>\n                <label class="radio" style="width: auto;">\n                  <input type="radio" name="lexical-insert-table-align" value="center" class="secondary" checked>\n                  Center\n                </label>\n                <label class="radio" style="width: auto;">\n                  <input type="radio" name="lexical-insert-table-align" value="right" class="secondary">\n                  Right\n                </label>\n              </div>\n              \n            </fieldset>\n            <div class="input-group block mt-2" data-hover="false" data-focus="false" data-error="false" data-blurred="false">\n              <label for="lex-table-caption-input">Table Caption:</label>\n              <div class="text-input block medium">\n                  <input \n                  type="text"  \n                  name="lex-table-caption-input" \n                  id="lex-table-caption-input" \n                  class="medium icon-before mt-1"  \n                  maxlength="100"\n                  minlength="1" \n                  spellcheck="true" \n                  autocapitalize="off"\n                  value="Table Caption"\n                  disabled\n                  >\n                  <svg class="icon-before" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Title"><path d="M5 4v3h5.5v12h3V7H19V4z"></path></svg>\n              </div>\n            </div>\n            <div class="input-group block mt-2" data-hover="false" data-focus="false" data-error="false" data-blurred="false">\n              <label for="lexical-table-number-rows">Number of Rows:</label>\n              <div class="mt-1 number-input medium">\n                  <input \n                  type="number" \n                  min="2" \n                  max="50" \n                  value="5" \n                  name="lexical-table-number-rows" \n                  id="lexical-table-number-rows" \n                  autocomplete="off" \n                  spellcheck="false" \n                  autocapitalize="off"\n                  >\n                  <button class="icon large" data-increase aria-label="Increase Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                          </path>\n                      </svg>\n                  </button>\n                  <button class="icon large" data-decrease aria-label="Decrease Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </button>\n              </div>\n            </div>\n            <div class="input-group block mt-2" data-hover="false" data-focus="false" data-error="false" data-blurred="false">\n              <label for="lexical-table-number-cols">Number of Columns:</label>\n              <div class="mt-1 number-input medium">\n                  <input \n                  type="number" \n                  min="2" \n                  max="50" \n                  value="5" \n                  name="lexical-table-number-cols" \n                  id="lexical-table-number-cols" \n                  autocomplete="off" \n                  spellcheck="false" \n                  autocapitalize="off"\n                  >\n                  <button class="icon large" data-increase aria-label="Increase Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                          </path>\n                      </svg>\n                  </button>\n                  <button class="icon large" data-decrease aria-label="Decrease Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </button>\n              </div>\n            </div>\n            <div class="mt-3 flex-row align-center justify-between">\n              <input role="button" value="RESET"  type="reset" aria-label="Reset Form"></input>\n              <button type="submit" aria-label="Submit Form" class="filled success medium">\n                SUBMIT\n              </button>\n            </div>\n          </form>\n    \n          <div class="block body1 bold mt-4">Preview:</div>\n          <output form="lexical-insert-table-form" class="block mt-2 table-wrapper" data-preview>\n            \n          </output>\n        </div>\n        <div aria-labelledby="create_table_from_upload_lexical" role="tabpanel" tabindex="0" hidden>\n          <form method="dialog" class="mt-1" id="lexical-insert-table-upload-data">\n            <label for="upload-data-to-table" class="body1 bold">Data File:</label>\n            <input id="upload-data-to-table" name="upload-data-to-table" class="mt-1 primary" type="file" accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel" />\n            <fieldset class="mt-2">\n              <legend class="h6 bold">Customization</legend>\n              <div class="w-100 flex-row align-start gap-2">\n                <div class="grow-1">\n                  <label class="checkbox">\n                    <input type="checkbox" class="primary" name="lexical-table-include-heading-row-upload" id="lexical-table-include-heading-row-upload" checked>\n                    Include Heading Row\n                  </label>\n                  <label class="checkbox mt-2">\n                    <input type="checkbox" class="secondary" name="lexical-table-include-heading-column-upload" id="lexical-table-include-heading-column-upload" checked>\n                    Include Heading Column\n                  </label>\n                  <label class="checkbox mt-2">\n                    <input type="checkbox" class="error" name="lexical-table-include-caption-upload" id="lexical-table-include-caption-upload">\n                    Include Caption\n                  </label>\n                </div>\n                <div class="grow-1">\n                  <label class="checkbox">\n                    <input type="checkbox" class="info" name="lexical-table-banded-rows-upload" id="lexical-table-banded-rows-upload">\n                    Banded Rows\n                  </label>\n                  <label class="checkbox mt-2">\n                    <input type="checkbox" class="success" name="lexical-table-banded-cols-upload" id="lexical-table-banded-cols-upload">\n                    Banded Columns\n                  </label>\n                </div>\n              </div>\n            </fieldset>\n            <fieldset class="mt-2">\n              <legend class="body1 bold">Align:</legend>\n              <div class="flex-row justify-between align-center w-100">\n                <label class="radio" style="width: auto;">\n                  <input type="radio" name="lexical-insert-table-align-upload" value="left" class="secondary">\n                  Left\n                </label>\n                <label class="radio" style="width: auto;">\n                  <input type="radio" name="lexical-insert-table-align-upload" value="center" class="secondary" checked>\n                  Center\n                </label>\n                <label class="radio" style="width: auto;">\n                  <input type="radio" name="lexical-insert-table-align-upload" value="right" class="secondary">\n                  Right\n                </label>\n              </div>\n              \n            </fieldset>\n            <div class="input-group block mt-2" data-hover="false" data-focus="false" data-error="false" data-blurred="false">\n              <label for="lex-table-caption-input-upload">Table Caption:</label>\n              <div class="text-input block medium">\n                  <input \n                  type="text"  \n                  name="lex-table-caption-input-upload" \n                  id="lex-table-caption-input-upload" \n                  class="medium icon-before mt-1"  \n                  maxlength="100"\n                  minlength="1" \n                  spellcheck="true" \n                  autocapitalize="off"\n                  value="Table Caption"\n                  disabled\n                  >\n                  <svg class="icon-before" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Title"><path d="M5 4v3h5.5v12h3V7H19V4z"></path></svg>\n              </div>\n            </div>\n\n            <div class="mt-3 flex-row align-center justify-between">\n              <input role="button" value="RESET"  type="reset" aria-label="Reset Form"></input>\n              <button type="submit" aria-label="Submit Form" class="filled success medium" disabled>\n                SUBMIT\n              </button>\n            </div>\n          </form>\n            <div class="block body1 bold mt-4">Preview:</div>\n            <output style="background-color: var(--background);" form="lexical-insert-table-upload-data" class="block mt-2 table-wrapper p-md" data-preview>\n              \n            </output>\n        \n        </div>\n      </div>\n      \n    </div>\n    <div class="dialog-footer" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>';const q=e=>'<div style="display: none;" hidden class="dialog-wrapper" id="horizontal-rule-lexical" data-close-backdrop data-esc>\n  <div class="dialog small" data-click-capture style="min-height: 350px !important; height: auto!important; max-height: 95vh!important; width: 350px!important;">\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold" data-title>Insert Horizontal Rule</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <form method="dialog">\n        <div class="input-group block mt-2" data-hover="false" data-focus="false" data-error="false" data-blurred="false">\n          <label for="lex-horizontal-rule-width">Horizontal Rule Width:</label>\n          <div class="mt-1 number-input medium">\n              <input \n              type="number" \n              min="1" \n              max="10" \n              value="1" \n              name="lex-horizontal-rule-width" \n              id="lex-horizontal-rule-width" \n              autocomplete="off" \n              spellcheck="false" \n              autocapitalize="off"\n              >\n              <button class="icon large" data-increase aria-label="Increase Input" type="button">\n                  <svg focusable="false" inert viewBox="0 0 24 24">\n                      <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                      </path>\n                  </svg>\n              </button>\n              <button class="icon large" data-decrease aria-label="Decrease Input" type="button">\n                  <svg focusable="false" inert viewBox="0 0 24 24">\n                      <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                      </path>\n                  </svg>\n              </button>\n          </div>\n        </div>\n        <label class="body2 mt-2" for="lex-horizontal-rule-color">Horizontal Rule Color:</label>\n        <div class="flex-row justify-begin align-center gap-2">\n          <input type="color" data-coloris name="lex-horizontal-rule-color" id="lex-horizontal-rule-color" value="'.concat(e,'" style="margin-top: 2px;">\n          <span class="body2">').concat(e,'</span>\n        </div>\n        <label class="checkbox mt-2">\n          <input checked type="checkbox" class="primary" name="horizontal-rule-default" id="horizontal-rule-default">\n          Default Horizontal Rule\n        </label>\n        <div class="block mt-3" tabindex="-1">\n          <p tabindex="-1" class="body1 bold text-align-left" style="margin-bottom: 6px;">Preview:</p>\n          <hr data-example style="border-bottom-width: 1px; border-bottom-color: var(--divider);" />\n        </div>\n        <div class="flex-row align-center justify-between mt-3">\n          <input role="button" value="RESET"  type="reset" aria-label="Reset Form"></input>\n          <button type="submit" class="filled success medium" aria-label="Submit Form">\n            SUBMIT\n          </button>\n        </div>\n\n      </form>\n    </div>\n    <div class="dialog-footer no-pad" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>');var j='<div style="display: none;" hidden class="dialog-wrapper" id="view-content-lexical" data-close-backdrop data-esc>\n  <div class="dialog large" data-click-capture style="width: 850px;">\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">View Content At Different Sizes</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body hz-scroll" style="overflow-x: auto!important;">\n      <div class="tabs mt-2">\n        <ul class="tabs" role="tablist">\n          <li role="presentation">\n            <button id="mobile-tab-button-lexical-dialog" class="tab-button secondary" role="tab" type="button" aria-selected="true" data-tab="0" tabindex="-1">\n              Mobile\n            </button>\n          </li>\n          <li role="presentation">\n            <button id="tablet-tab-button-lexical-dialog" class="tab-button t-secondary" role="tab" type="button" aria-selected="false" data-tab="1" tabindex="-1">\n              Tablet\n            </button>\n          </li>\n          <li role="presentation">\n            <button id="lexical-tab-button-lexical-dialog" class="tab-button t-secondary" role="tab" type="button" aria-selected="false" data-tab="2" tabindex="-1">\n              Desktop\n            </button>\n          </li>\n        </ul>\n      </div>\n      <div class="tab-panels" style="background-color: var(--secondary-background);">\n        <div aria-labelledby="mobile-tab-button-lexical-dialog" role="tabpanel" tabindex="0">\n          <div style="padding-top: 8px;">\n            <div data-rich-text-editor data-type="full" id="example-mobile-view-lexical-editor" class="lexical-wrapper example-render preview-editor-mobile" aria-labelledby="lexical-view-mobile-size-dialog hz-scroll">\n\n            </div>\n          </div>\n        </div>\n        <div aria-labelledby="tablet-tab-button-lexical-dialog" role="tabpanel" tabindex="0" hidden>\n          <div style="padding-top: 8px;">\n            <div data-rich-text-editor data-type="full"  id="example-tablet-view-lexical-editor" class="lexical-wrapper example-render preview-editor-tablet" aria-labelledby="lexical-view-tablet-size-dialog hz-scroll">\n\n            </div>\n          </div>\n          \n        </div>\n        <div aria-labelledby="desktop-tab-button-lexical-dialog" role="tabpanel" tabindex="0" hidden>\n          <div style="padding-top: 8px;">\n            <div data-rich-text-editor data-type="full" id="example-desktop-view-lexical-editor" class="lexical-wrapper example-render preview-editor-desktop" aria-labelledby="lexical-view-desktop-size-dialog hz-scroll">\n\n            </div> \n          </div>\n           \n        </div>\n      </div>\n    </div>\n    <div class="dialog-footer" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>';const K=(e,t)=>'<div style="display: none;" hidden class="dialog-wrapper" id="lexical-block-edit-dialog" data-close-backdrop data-esc>\n  <div class="dialog large">\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Edit Style of Block Nodes</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <p class="body2 mt-1">\n        Edit the background color, default text color, margin, padding, and border of block nodes. Editable block nodes include <span class="bold">paragraphs</span>, <span class="bold">headers</span>, and <span class="bold">lists</span>.\n      </p>\n      <form method="dialog" id="lexical-block-style-form" class="mt-2">\n        <div class="tabs hz-scroll">\n          <ul class="tabs" role="tablist">\n            <li role="presentation">\n              <button id="lex-block-gen-styling" class="tab-button t-secondary" role="tab" type="button" aria-selected="true" data-tab="0" tabindex="-1">General</button>\n            </li>\n            <li role="presentation">\n              <button id="lex-block-borders-styling" class="tab-button t-secondary" role="tab" type="button" aria-selected="false" data-tab="1" tabindex="-1">Borders</button>\n            </li>\n            <li role="presentation">\n              <button id="lex-block-box-shadow-styling" class="tab-button t-secondary" role="tab" type="button" aria-selected="false" data-tab="3" tabindex="-1">Box Shadow</button>\n            </li>\n          </ul>\n        </div>\n        <div class="tab-panels">\n          <div aria-labelledby="lex-block-gen-styling" role="tabpanel" tabindex="0" class="mt-2">\n            <div class="flex-row justify-start align-center">\n              <div class="grow-1">\n                <label class="body2" for="lex-block-background-color">Background Color:</label>\n                <div class="flex-row justify-begin align-center gap-2">\n                  <input type="color" data-coloris name="lex-block-background-color" id="lex-block-background-color" value="'.concat(e,'" style="margin-top: 2px;" />\n                  <span class="body2">').concat(e,'</span>\n                </div>\n                <label class="checkbox mt-2">\n                  <input type="checkbox" class="primary" name="lex-block-background-color-transparent" id="lex-block-background-color-transparent" checked />\n                  Transparent\n                </label>\n              </div>\n              <div class="grow-1">\n                <label class="body2" for="lex-block-text-color">Default Text Color:</label>\n                <div class="flex-row justify-begin align-center gap-2">\n                  <input type="color" data-coloris name="lex-block-text-color" id="lex-block-text-color" value="').concat(t,'" style="margin-top: 2px;" />\n                  <span class="body2">').concat(t,'</span>\n                </div>\n                <label class="checkbox mt-2">\n                  <input type="checkbox" class="secondary" name="lex-block-text-color-inherit" id="lex-block-text-color-inherit" checked />\n                  Inherit\n                </label>\n              </div>\n            </div>\n            <div class="flex-row align-center w-100 justify-start gap-2 mt-2"> <div class="grow-1">\n              <label for="lex-block-margin">Margin:</label>\n              <div class="mt-1 number-input medium">\n                  <input type="number" min="0" max="15" value="0" \n                  name="lex-block-margin" \n                  id="lex-block-margin" autocomplete="off" spellcheck="false" autocapitalize="off">\n                  <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                          </path>\n                      </svg>\n                  </button>\n                  <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </button>\n              </div>\n            </div>\n           <div class="grow-1">\n              <label for="lex-block-padding">Padding:</label>\n              <div class="mt-1 number-input medium">\n                  <input type="number" min="0" max="15" value="0"\n                  name="lex-block-padding"\n                  id="lex-block-padding" autocomplete="off" spellcheck="false" autocapitalize="off">\n                  <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                          </path>\n                      </svg>\n                  </button>\n                  <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </button>\n              </div>\n            </div>\n          </div><div class="flex-row align-center w-100 justify-start gap-2 mt-4"> <div class="grow-1">\n              <label for="lex-block-margin-top">Margin Top:</label>\n              <div class="mt-1 number-input medium">\n                  <input type="number" min="0" max="15" value="6"\n                  name="lex-block-margin-top"\n                  id="lex-block-margin-top" autocomplete="off" spellcheck="false" autocapitalize="off">\n                  <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                          </path>\n                      </svg>\n                  </button>\n                  <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </button>\n              </div>\n            </div>\n           <div class="grow-1">\n              <label for="lex-block-padding-top">Padding Top:</label>\n              <div class="mt-1 number-input medium">\n                  <input type="number" min="0" max="15" value="0"\n                  name="lex-block-padding-top"\n                  id="lex-block-padding-top" autocomplete="off" spellcheck="false" autocapitalize="off">\n                  <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                          </path>\n                      </svg>\n                  </button>\n                  <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </button>\n              </div>\n            </div>\n          </div><div class="flex-row align-center w-100 justify-start gap-2 mt-4"> <div class="grow-1">\n              <label for="lex-block-margin-right">Margin Right:</label>\n              <div class="mt-1 number-input medium">\n                  <input type="number" min="0" max="15" value="0"\n                  name="lex-block-margin-right"\n                  id="lex-block-margin-right" autocomplete="off" spellcheck="false" autocapitalize="off">\n                  <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                          </path>\n                      </svg>\n                  </button>\n                  <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </button>\n              </div>\n            </div>\n           <div class="grow-1">\n              <label for="lex-block-padding-right">Padding Right:</label>\n              <div class="mt-1 number-input medium">\n                  <input type="number" min="0" max="15" value="0"\n                  name="lex-block-padding-right"\n                  id="lex-block-padding-right" autocomplete="off" spellcheck="false" autocapitalize="off">\n                  <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                          </path>\n                      </svg>\n                  </button>\n                  <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </button>\n              </div>\n            </div>\n          </div><div class="flex-row align-center w-100 justify-start gap-2 mt-4"> <div class="grow-1">\n              <label for="lex-block-margin-bottom">Margin Bottom:</label>\n              <div class="mt-1 number-input medium">\n                  <input type="number" min="0" max="15" value="6"\n                  name="lex-block-margin-bottom"\n                  id="lex-block-margin-bottom" autocomplete="off" spellcheck="false" autocapitalize="off">\n                  <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                          </path>\n                      </svg>\n                  </button>\n                  <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </button>\n              </div>\n            </div>\n           <div class="grow-1">\n              <label for="lex-block-padding-bottom">Padding Bottom:</label>\n              <div class="mt-1 number-input medium">\n                  <input type="number" min="0" max="15" value="0"\n                  name="lex-block-padding-bottom"\n                  id="lex-block-padding-bottom" autocomplete="off" spellcheck="false" autocapitalize="off">\n                  <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                          </path>\n                      </svg>\n                  </button>\n                  <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </button>\n              </div>\n            </div>\n          </div><div class="flex-row align-center w-100 justify-start gap-2 mt-4"> <div class="grow-1">\n              <label for="lex-block-margin-left">Margin Left:</label>\n              <div class="mt-1 number-input medium">\n                  <input type="number" min="0" max="15" value="0"\n                  name="lex-block-margin-left"\n                  id="lex-block-margin-left" autocomplete="off" spellcheck="false" autocapitalize="off">\n                  <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                          </path>\n                      </svg>\n                  </button>\n                  <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </button>\n              </div>\n            </div>\n           <div class="grow-1">\n              <label for="lex-block-padding-left">Padding Left:</label>\n              <div class="mt-1 number-input medium">\n                  <input type="number" min="0" max="15" value="0"\n                  name="lex-block-padding-left"\n                  id="lex-block-padding-left" autocomplete="off" spellcheck="false" autocapitalize="off">\n                  <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                          </path>\n                      </svg>\n                  </button>\n                  <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </button>\n              </div>\n            </div>\n          </div>\n          \n          </div>\n          <div aria-labelledby="lex-block-borders-styling" role="tabpanel" tabindex="0" class="mt-2" hidden>\n            <fieldset class="block mt-2">\n              <legend class="h6 bold">Border</legend>\n              <div class="flex-row align-start justify-start w-100">\n                <div class="grow-1">\n                  <label class="body2" for="lex-block-border-color">Border Color:</label>\n                  <div class="flex-row justify-begin align-center gap-2"> \n                    <input type="color" data-coloris name="lex-block-border-color" id="lex-block-border-color" value="').concat(t,'" style="margin-top: 2px;" />\n                    <span class="body2">').concat(t,'</span>\n                  </div>\n                  <label class="checkbox mt-2">\n                    <input type="checkbox" class="primary" name="lex-block-border-color-transparent" id="lex-block-border-color-transparent" checked />\n                    Transparent\n                  </label>\n                </div>\n                <div class="grow-1">\n                  <div class="body1 bold" id="border-style-label">Border Style:</div>\n                   <div class="flex-row justify-center mt-1">\n                    <div class="select">\n                      <button type="button" role="combobox" aria-haspopup="listbox"\n                      aria-controls="border-style-dropdown"\n                      aria-labelledby="border-style-label" class="select" aria-label="Border Style Select" data-popover\n                      data-pelem="#border-style-dropdown" data-click  aria-expanded="false"\n                      id="border-style-select-button"\n                      style="min-width: 100px;"\n                      >\n                        <span class="body1">None</span>\n                        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ArrowDropDown"><path d="m7 10 5 5 5-5z"></path></svg>\n                      </button>\n                      <div tabindex="0" id="border-style-dropdown" role="listbox" class="select-menu o-xs" data-placement="bottom">\n                        <input type="text" hidden="" value="none" name="border-style-value" id="border-style-value">\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="true" data-val="none">\n                          <span style="padding:2px;border: 3px none var(--text-primary);">None</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="dotted">\n                          <span style="padding:2px;border: 3px dotted var(--text-primary);">Dotted</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="dashed">\n                          <span style="padding:2px;border: 3px dashed var(--text-primary);">Dashed</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="solid">\n                          <span style="padding:2px;border: 3px solid var(--text-primary);">Solid</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="double">\n                          <span style="padding:2px;border: 3px double var(--text-primary);">Double</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="groove">\n                          <span style="padding:2px;border: 3px groove var(--text-primary);">Groove</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="ridge">\n                          <span style="padding:2px;border: 3px ridge var(--text-primary);">Ridge</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="inset">\n                          <span style="padding:2px;border: 3px inset var(--text-primary);">Inset</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="outset">\n                          <span style="padding:2px;border: 3px outset var(--text-primary);">Outset</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="hidden">\n                          <span style="padding:2px;border: 3px hidden var(--text-primary);">Hidden</span>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class="flex-row align-center w-100 justify-start gap-2 mt-2">\n               <div class="grow-1">\n                  <label for="lex-block-border-width">Border Width:</label>\n                  <div class="mt-1 number-input medium">\n                      <input type="number" min="0" max="15" value="0"\n                      name="lex-block-border-width"\n                      id="lex-block-border-width" autocomplete="off" spellcheck="false" autocapitalize="off">\n                      <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                          <svg focusable="false" inert viewBox="0 0 24 24">\n                              <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                              </path>\n                          </svg>\n                      </button>\n                      <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                          <svg focusable="false" inert viewBox="0 0 24 24">\n                              <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                              </path>\n                          </svg>\n                      </button>\n                  </div>\n               </div>\n               <div class="grow-1">\n                <label for="lex-block-border-radius">Border Radius:</label>\n                <div class="mt-1 number-input medium">\n                    <input type="number" min="0" max="50" value="0"\n                    name="lex-block-border-radius"\n                    id="lex-block-border-radius" autocomplete="off" spellcheck="false" autocapitalize="off">\n                    <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                    <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                </div>\n               </div>\n              </div>\n            </fieldset>\n            <fieldset class="block mt-2">\n              <legend class="h6 bold">Border Top</legend>\n              <div class="flex-row align-start justify-start w-100">\n                <div class="grow-1">\n                  <label class="body2" for="lex-block-border-top-color">Border Top Color:</label>\n                  <div class="flex-row justify-begin align-center gap-2">\n                    <input type="color" data-coloris name="lex-block-border-top-color" id="lex-block-border-top-color" value="').concat(t,'" style="margin-top: 2px;" />\n                    <span class="body2">').concat(t,'</span>\n                  </div>\n                  <label class="checkbox mt-2">\n                    <input type="checkbox" class="primary" name="lex-block-border-top-color-transparent" id="lex-block-border-top-color-transparent" checked />\n                    Transparent\n                  </label>\n                </div>\n                <div class="grow-1">\n                  <div class="body1 bold" id="border-top-style-label">Border Top Style:</div>\n                   <div class="flex-row justify-center mt-1">\n                    <div class="select">\n                      <button type="button" role="combobox" aria-haspopup="listbox"\n                      aria-controls="border-style-dropdown"\n                      aria-labelledby="border-top-style-label" class="select" aria-label="Border Top Style Select" data-popover\n                      data-pelem="#border-top-style-dropdown" data-click aria-expanded="false"\n                      id="border-top-style-select-button"\n                      style="min-width: 100px;"\n                      >\n                        <span class="body1">None</span>\n                        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ArrowDropDown"><path d="m7 10 5 5 5-5z"></path></svg>\n                      </button>\n                      <div tabindex="0" id="border-top-style-dropdown" role="listbox" class="select-menu o-xs" data-placement="bottom">\n                        <input type="text" hidden="" value="none" name="border-top-style-value" id="border-top-style-value">\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="true" data-val="none">\n                          <span style="padding:2px;border: 3px none var(--text-primary);">None</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="dotted">\n                          <span style="padding:2px;border: 3px dotted var(--text-primary);">Dotted</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="dashed">\n                          <span style="padding:2px;border: 3px dashed var(--text-primary);">Dashed</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="solid">\n                          <span style="padding:2px;border: 3px solid var(--text-primary);">Solid</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="double">\n                          <span style="padding:2px;border: 3px double var(--text-primary);">Double</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="groove">\n                          <span style="padding:2px;border: 3px groove var(--text-primary);">Groove</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="ridge">\n                          <span style="padding:2px;border: 3px ridge var(--text-primary);">Ridge</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="inset">\n                          <span style="padding:2px;border: 3px inset var(--text-primary);">Inset</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="outset">\n                          <span style="padding:2px;border: 3px outset var(--text-primary);">Outset</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="hidden">\n                          <span style="padding:2px;border: 3px hidden var(--text-primary);">Hidden</span>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class="flex-row align-center w-100 justify-start gap-2 mt-2">\n               <div class="grow-1">\n                  <label for="lex-block-border-top-width">Border Top Width:</label>\n                  <div class="mt-1 number-input medium">\n                      <input type="number" min="0" max="15" value="0"\n                      name="lex-block-border-top-width"\n                      id="lex-block-border-top-width" autocomplete="off" spellcheck="false" autocapitalize="off">\n                      <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                          <svg focusable="false" inert viewBox="0 0 24 24">\n                              <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                              </path>\n                          </svg>\n                      </button>\n                      <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                          <svg focusable="false" inert viewBox="0 0 24 24">\n                              <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                              </path>\n                          </svg>\n                      </button>\n                  </div>\n               </div>\n               <div class="grow-1">\n                <label for="lex-block-border-top-radius">Border Top Left Radius:</label>\n                <div class="mt-1 number-input medium">\n                    <input type="number" min="0" max="50" value="0"\n                    name="lex-block-border-top-radius"\n                    id="lex-block-border-top-radius" autocomplete="off" spellcheck="false" autocapitalize="off">\n                    <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                    <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                </div>\n               </div>\n              </div>\n            </fieldset>\n            <fieldset class="block mt-2">\n              <legend class="h6 bold">Border Right</legend>\n              <div class="flex-row align-start justify-start w-100">\n                <div class="grow-1">\n                  <label class="body2" for="lex-block-border-right-color">Border Right Color:</label>\n                  <div class="flex-row justify-begin align-center gap-2">\n                    <input type="color" data-coloris name="lex-block-border-right-color" id="lex-block-border-right-color" value="').concat(t,'" style="margin-top: 2px;" />\n                    <span class="body2">').concat(t,'</span>\n                  </div>\n                  <label class="checkbox mt-2">\n                    <input type="checkbox" class="primary" name="lex-block-border-right-color-transparent" id="lex-block-border-right-color-transparent" checked />\n                    Transparent\n                  </label>\n                </div>\n                <div class="grow-1">\n                  <div class="body1 bold" id="border-right-style-label">Border Right Style:</div>\n                   <div class="flex-row justify-center mt-1">\n                    <div class="select">\n                      <button type="button" role="combobox" aria-haspopup="listbox"\n                      aria-controls="border-style-dropdown"\n                      aria-labelledby="border-right-style-label" class="select" aria-label="Border Right Style Select" data-popover\n                      data-pelem="#border-right-style-dropdown" data-click aria-expanded="false"\n                      id="border-right-style-select-button"\n                      style="min-width: 100px;"\n                      >\n                        <span class="body1">None</span>\n                        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ArrowDropDown"><path d="m7 10 5 5 5-5z"></path></svg>\n                      </button>\n                      <div tabindex="0" id="border-right-style-dropdown" role="listbox" class="select-menu o-xs" data-placement="bottom">\n                        <input type="text" hidden="" value="none" name="border-right-style-value" id="border-right-style-value">\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="true" data-val="none">\n                          <span style="padding:2px;border: 3px none var(--text-primary);">None</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="dotted">\n                          <span style="padding:2px;border: 3px dotted var(--text-primary);">Dotted</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="dashed">\n                          <span style="padding:2px;border: 3px dashed var(--text-primary);">Dashed</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="solid">\n                          <span style="padding:2px;border: 3px solid var(--text-primary);">Solid</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="double">\n                          <span style="padding:2px;border: 3px double var(--text-primary);">Double</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="groove">\n                          <span style="padding:2px;border: 3px groove var(--text-primary);">Groove</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="ridge">\n                          <span style="padding:2px;border: 3px ridge var(--text-primary);">Ridge</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="inset">\n                          <span style="padding:2px;border: 3px inset var(--text-primary);">Inset</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="outset">\n                          <span style="padding:2px;border: 3px outset var(--text-primary);">Outset</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="hidden">\n                          <span style="padding:2px;border: 3px hidden var(--text-primary);">Hidden</span>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class="flex-row align-center w-100 justify-start gap-2 mt-2">\n               <div class="grow-1">\n                  <label for="lex-block-border-right-width">Border Right Width:</label>\n                  <div class="mt-1 number-input medium">\n                      <input type="number" min="0" max="15" value="0"\n                      name="lex-block-border-right-width"\n                      id="lex-block-border-right-width" autocomplete="off" spellcheck="false" autocapitalize="off">\n                      <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                          <svg focusable="false" inert viewBox="0 0 24 24">\n                              <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                              </path>\n                          </svg>\n                      </button>\n                      <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                          <svg focusable="false" inert viewBox="0 0 24 24">\n                              <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                              </path>\n                          </svg>\n                      </button>\n                  </div>\n               </div>\n               <div class="grow-1">\n                <label for="lex-block-border-right-radius">Border Top Right Radius:</label>\n                <div class="mt-1 number-input medium">\n                    <input type="number" min="0" max="50" value="0"\n                    name="lex-block-border-right-radius"\n                    id="lex-block-border-right-radius" autocomplete="off" spellcheck="false" autocapitalize="off">\n                    <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                    <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                </div>\n               </div>\n              </div>\n            </fieldset>\n            <fieldset class="block mt-2">\n              <legend class="h6 bold">Border Bottom</legend>\n              <div class="flex-row align-start justify-start w-100">\n                <div class="grow-1">\n                  <label class="body2" for="lex-block-border-bottom-color">Border Bottom Color:</label>\n                  <div class="flex-row justify-begin align-center gap-2">\n                    <input type="color" data-coloris name="lex-block-border-bottom-color" id="lex-block-border-bottom-color" value="').concat(t,'" style="margin-top: 2px;" />\n                    <span class="body2">').concat(t,'</span>\n                  </div>\n                  <label class="checkbox mt-2">\n                    <input type="checkbox" class="primary" name="lex-block-border-bottom-color-transparent" id="lex-block-border-bottom-color-transparent" checked />\n                    Transparent\n                  </label>\n                </div>\n                <div class="grow-1">\n                  <div class="body1 bold" id="border-bottom-style-label">Border Bottom Style:</div>\n                   <div class="flex-row justify-center mt-1">\n                    <div class="select">\n                      <button type="button" role="combobox" aria-haspopup="listbox"\n                      aria-controls="border-style-dropdown"\n                      aria-labelledby="border-bottom-style-label" class="select" aria-label="Border Bottom Style Select" data-popover\n                      data-pelem="#border-bottom-style-dropdown" data-click aria-expanded="false"\n                      id="border-bottom-style-select-button"\n                      style="min-width: 100px;"\n                      >\n                        <span class="body1">None</span>\n                        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ArrowDropDown"><path d="m7 10 5 5 5-5z"></path></svg>\n                      </button>\n                      <div tabindex="0" id="border-bottom-style-dropdown" role="listbox" class="select-menu o-xs" data-placement="bottom">\n                        <input type="text" hidden="" value="none" name="border-bottom-style-value" id="border-bottom-style-value">\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="true" data-val="none">\n                          <span style="padding:2px;border: 3px none var(--text-primary);">None</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="dotted">\n                          <span style="padding:2px;border: 3px dotted var(--text-primary);">Dotted</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="dashed">\n                          <span style="padding:2px;border: 3px dashed var(--text-primary);">Dashed</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="solid">\n                          <span style="padding:2px;border: 3px solid var(--text-primary);">Solid</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="double">\n                          <span style="padding:2px;border: 3px double var(--text-primary);">Double</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="groove">\n                          <span style="padding:2px;border: 3px groove var(--text-primary);">Groove</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="ridge">\n                          <span style="padding:2px;border: 3px ridge var(--text-primary);">Ridge</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="inset">\n                          <span style="padding:2px;border: 3px inset var(--text-primary);">Inset</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="outset">\n                          <span style="padding:2px;border: 3px outset var(--text-primary);">Outset</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="hidden">\n                          <span style="padding:2px;border: 3px hidden var(--text-primary);">Hidden</span>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class="flex-row align-center w-100 justify-start gap-2 mt-2">\n               <div class="grow-1">\n                  <label for="lex-block-border-bottom-width">Border Bottom Width:</label>\n                  <div class="mt-1 number-input medium">\n                      <input type="number" min="0" max="15" value="0"\n                      name="lex-block-border-bottom-width"\n                      id="lex-block-border-bottom-width" autocomplete="off" spellcheck="false" autocapitalize="off">\n                      <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                          <svg focusable="false" inert viewBox="0 0 24 24">\n                              <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                              </path>\n                          </svg>\n                      </button>\n                      <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                          <svg focusable="false" inert viewBox="0 0 24 24">\n                              <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                              </path>\n                          </svg>\n                      </button>\n                  </div>\n               </div>\n               <div class="grow-1">\n                <label for="lex-block-border-bottom-radius">Border Bottom Right Radius:</label>\n                <div class="mt-1 number-input medium">\n                    <input type="number" min="0" max="50" value="0"\n                    name="lex-block-border-bottom-radius"\n                    id="lex-block-border-bottom-radius" autocomplete="off" spellcheck="false" autocapitalize="off">\n                    <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                    <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                </div>\n               </div>\n              </div>\n            </fieldset>\n            <fieldset class="block mt-2">\n              <legend class="h6 bold">Border Left</legend>\n              <div class="flex-row align-start justify-start w-100">\n                <div class="grow-1">\n                  <label class="body2" for="lex-block-border-left-color">Border Left Color:</label>\n                  <div class="flex-row justify-begin align-center gap-2">\n                    <input type="color" data-coloris name="lex-block-border-left-color" id="lex-block-border-left-color" value="').concat(t,'" style="margin-top: 2px;" />\n                    <span class="body2">').concat(t,'</span>\n                  </div>\n                  <label class="checkbox mt-2">\n                    <input type="checkbox" class="primary" name="lex-block-border-left-color-transparent" id="lex-block-border-left-color-transparent" checked />\n                    Transparent\n                  </label>\n                </div>\n                <div class="grow-1">\n                  <div class="body1 bold" id="border-left-style-label">Border Left Style:</div>\n                   <div class="flex-row justify-center mt-1">\n                    <div class="select">\n                      <button type="button" role="combobox" aria-haspopup="listbox"\n                      aria-controls="border-style-dropdown"\n                      aria-labelledby="border-left-style-label" class="select" aria-label="Border Left Style Select" data-popover\n                      data-pelem="#border-left-style-dropdown" data-click aria-expanded="false"\n                      id="border-left-style-select-button"\n                      style="min-width: 100px;"\n                      >\n                        <span class="body1">None</span>\n                        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ArrowDropDown"><path d="m7 10 5 5 5-5z"></path></svg>\n                      </button>\n                      <div tabindex="0" id="border-left-style-dropdown" role="listbox" class="select-menu o-xs" data-placement="bottom">\n                        <input type="text" hidden="" value="none" name="border-left-style-value" id="border-left-style-value">\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="true" data-val="none">\n                          <span style="padding:2px;border: 3px none var(--text-primary);">None</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="dotted">\n                          <span style="padding:2px;border: 3px dotted var(--text-primary);">Dotted</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="dashed">\n                          <span style="padding:2px;border: 3px dashed var(--text-primary);">Dashed</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="solid">\n                          <span style="padding:2px;border: 3px solid var(--text-primary);">Solid</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="double">\n                          <span style="padding:2px;border: 3px double var(--text-primary);">Double</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="groove">\n                          <span style="padding:2px;border: 3px groove var(--text-primary);">Groove</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="ridge">\n                          <span style="padding:2px;border: 3px ridge var(--text-primary);">Ridge</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="inset">\n                          <span style="padding:2px;border: 3px inset var(--text-primary);">Inset</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="outset">\n                          <span style="padding:2px;border: 3px outset var(--text-primary);">Outset</span>\n                        </button>\n                        <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="hidden">\n                          <span style="padding:2px;border: 3px hidden var(--text-primary);">Hidden</span>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class="flex-row align-center w-100 justify-start gap-2 mt-2">\n               <div class="grow-1">\n                  <label for="lex-block-border-left-width">Border Left Width:</label>\n                  <div class="mt-1 number-input medium">\n                      <input type="number" min="0" max="15" value="0"\n                      name="lex-block-border-left-width"\n                      id="lex-block-border-left-width" autocomplete="off" spellcheck="false" autocapitalize="off">\n                      <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                          <svg focusable="false" inert viewBox="0 0 24 24">\n                              <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                              </path>\n                          </svg>\n                      </button>\n                      <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                          <svg focusable="false" inert viewBox="0 0 24 24">\n                              <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                              </path>\n                          </svg>\n                      </button>\n                  </div>\n               </div>\n               <div class="grow-1">\n                <label for="lex-block-border-left-radius">Border Bottom Left Radius:</label>\n                <div class="mt-1 number-input medium">\n                    <input type="number" min="0" max="50" value="0"\n                    name="lex-block-border-left-radius"\n                    id="lex-block-border-left-radius" autocomplete="off" spellcheck="false" autocapitalize="off">\n                    <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                    <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                </div>\n               </div>\n              </div>\n            </fieldset>\n          </div>\n          <div aria-labelledby="lex-block-box-shadow-styling" role="tabpanel" tabindex="0" class="mt-2" hidden>\n            <div class="flex-row justify-start align-start mt-3">\n              <div class="grow-1 align-center">\n                <label class="body2" for="lex-block-box-shadow-color">Box Shadow Color:</label>\n                <div class="flex-row justify-begin align-center gap-2">\n                  <input type="color" data-coloris name="lex-block-box-shadow-color" id="lex-block-box-shadow-color" value="').concat(t,'" style="margin-top: 2px;" />\n                  <span class="body2">').concat(t,'</span>\n                </div>\n                <label class="checkbox mt-2">\n                  <input type="checkbox" class="primary" name="lex-block-box-shadow-color-transparent" id="lex-block-box-shadow-color-transparent" checked />\n                  Transparent\n                </label>\n              </div>\n              <div class="grow-1 align-center">\n                <label class="checkbox medium">\n                  <input type="checkbox" class="primary" name="lex-block-box-shadow-inset" id="lex-block-box-shadow-inset" />\n                  Inset\n                </label>\n              </div>\n            </div>\n            <div class="flex-row justify-start align-center gap-2 mt-4">\n              <div class="grow-1">\n                <label for="lex-block-box-shadow-offset-x">Box Shadow Offset X:</label>\n                <div class="mt-1 number-input medium">\n                    <input type="number" min="-15" max="15" value="0"\n                    name="lex-block-box-shadow-offset-x"\n                    id="lex-block-box-shadow-offset-x" autocomplete="off" spellcheck="false" autocapitalize="off">\n                    <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                    <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                </div>\n             </div>\n             <div class="grow-1">\n                <label for="lex-block-box-shadow-offset-y">Box Shadow Offset Y:</label>\n                <div class="mt-1 number-input medium">\n                    <input type="number" min="-15" max="15" value="0"\n                    name="lex-block-box-shadow-offset-y"\n                    id="lex-block-box-shadow-offset-y" autocomplete="off" spellcheck="false" autocapitalize="off">\n                    <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                    <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                </div>\n              </div>\n            </div>\n            <div class="flex-row justify-start align-center gap-2 mt-4">\n              <div class="grow-1">\n                <label for="lex-block-box-shadow-blur-radius">Blur Radius:</label>\n                <div class="mt-1 number-input medium">\n                    <input type="number" min="0" max="15" value="0"\n                    name="lex-block-box-shadow-blur-radius"\n                    id="lex-block-box-shadow-blur-radius" autocomplete="off" spellcheck="false" autocapitalize="off">\n                    <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                    <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                </div>\n             </div>\n             <div class="grow-1">\n                <label for="lex-block-box-shadow-spread-radius">Spread Radius:</label>\n                <div class="mt-1 number-input medium">\n                    <input type="number" min="0" max="15" value="0"\n                    name="lex-block-box-shadow-spread-radius"\n                    id="lex-block-box-shadow-spread-radius" autocomplete="off" spellcheck="false" autocapitalize="off">\n                    <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                    <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                        <svg focusable="false" inert viewBox="0 0 24 24">\n                            <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                            </path>\n                        </svg>\n                    </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div style="margin-top: 2rem; padding: 20px; background-color: var(--background)!important;" class="block" role="presentation">\n          <div class="block h6 bold text-align-center" id="block-style-form-example">\n            Preview\n          </div>\n        </div>\n        \n\n        <div class="flex-row justify-between mt-2 align-center">\n          <input role="button" value="RESET"  type="reset" aria-label="Reset Form">\n          </input>\n          <div role="toolbar" class="flex-row gap-3">\n            <button id="randomize-block-style-btn" type="button" class="filled info icon-text medium" aria-label="Randomize Form">\n              <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Shuffle"><path d="M10.59 9.17 5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"></path></svg>\n              RANDOMIZE\n            </button>\n            <button type="submit" class="filled success icon-text medium" aria-label="Submit Changes to Block Node Styling">\n              <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n              SUBMIT\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n    <div class="dialog-footer" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>'),W=(e,t)=>'<div style="display: none;" hidden class="dialog-wrapper" id="lexical-table-cell-bg" data-close-backdrop data-esc>\n  <div class="dialog large" data-click-capture>\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Edit Selected Cells</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <p class="body1 mt-1">Change the background color, vertical align, and borders of the cells in the current selection.</p>\n      <form method="dialog" class="mt-2 p-md" id="lexical-edit-bg-color-form">\n        <label class="body1 bold" for="lexical-cell-bg-color-input">Cell(s) Background Color:</label>\n        <div class="flex-row justify-begin align-center gap-2">\n          <input type="color" data-coloris name="lexical-cell-bg-color-input" id="lexical-cell-bg-color-input" value="'.concat(e,'" style="margin-top: 4px;">\n          <span class="body2">').concat(e,'</span>\n        </div>\n        <label class="checkbox mt-2">\n          <input type="checkbox" class="primary" name="lexical-cell-bg-color-input-trans" id="lexical-cell-bg-color-input-trans" checked>\n          Transparent\n        </label>\n\n        <fieldset class="mt-3">\n          <legend class="h6 bold">Vertical Align:</legend>\n          <div class="flex-row align-center justify-start gap-3">\n            <label class="radio">\n              <input type="radio"  name="table-cell-vertical-align" value="top" class="secondary">\n              Top\n            </label>\n            <label class="radio">\n              <input type="radio"  name="table-cell-vertical-align" value="middle" class="secondary" checked>\n              Middle\n            </label>\n            <label class="radio">\n              <input type="radio"  name="table-cell-vertical-align" value="bottom" class="secondary" checked>\n                Bottom\n            </label>            \n          </div>\n        </fieldset>\n\n        <fieldset class="block mt-3">\n          <legend class="h6 bold">Border</legend>\n          <div class="flex-row align-start justify-start w-100">\n            <div class="grow-1">\n              <label class="body2" for="lex-cell-border-color">Border Color:</label>\n              <div class="flex-row justify-begin align-center gap-2"> \n                <input type="color" data-coloris name="lex-cell-border-color" id="lex-cell-border-color" value="').concat(t,'" style="margin-top: 2px;" />\n                <span class="body2">').concat(t,'</span>\n              </div>\n              <label class="checkbox mt-2">\n                <input type="checkbox" class="primary" name="lex-cell-border-color-transparent" id="lex-cell-border-color-transparent" checked />\n                Transparent\n              </label>\n            </div>\n            <div class="grow-1">\n              <div class="body1 bold" id="border-style-label">Border Style:</div>\n               <div class="flex-row justify-center mt-1">\n                <div class="select">\n                  <button type="button" role="combobox" aria-haspopup="listbox"\n                  aria-controls="cell-border-style-dropdown"\n                  aria-labelledby="border-style-label" class="select" aria-label="Border Style Select" data-popover\n                  data-pelem="#cell-border-style-dropdown" data-click  aria-expanded="false"\n                  id="cell-border-style-select-button"\n                  style="min-width: 100px;"\n                  >\n                    <span class="body1">None</span>\n                    <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ArrowDropDown"><path d="m7 10 5 5 5-5z"></path></svg>\n                  </button>\n                  <div tabindex="0" id="cell-border-style-dropdown" role="listbox" class="select-menu o-xs" data-placement="bottom">\n                    <input type="text" hidden="" value="none" name="cell-border-style-value" id="cell-border-style-value">\n                    <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="true" data-val="none">\n                      <span style="padding:2px;border: 3px none var(--text-primary);">None</span>\n                    </button>\n                    <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="dotted">\n                      <span style="padding:2px;border: 3px dotted var(--text-primary);">Dotted</span>\n                    </button>\n                    <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="dashed">\n                      <span style="padding:2px;border: 3px dashed var(--text-primary);">Dashed</span>\n                    </button>\n                    <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="solid">\n                      <span style="padding:2px;border: 3px solid var(--text-primary);">Solid</span>\n                    </button>\n                    <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="double">\n                      <span style="padding:2px;border: 3px double var(--text-primary);">Double</span>\n                    </button>\n                    <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="groove">\n                      <span style="padding:2px;border: 3px groove var(--text-primary);">Groove</span>\n                    </button>\n                    <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="ridge">\n                      <span style="padding:2px;border: 3px ridge var(--text-primary);">Ridge</span>\n                    </button>\n                    <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="inset">\n                      <span style="padding:2px;border: 3px inset var(--text-primary);">Inset</span>\n                    </button>\n                    <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="outset">\n                      <span style="padding:2px;border: 3px outset var(--text-primary);">Outset</span>\n                    </button>\n                    <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="hidden">\n                      <span style="padding:2px;border: 3px hidden var(--text-primary);">Hidden</span>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="flex-row align-center w-100 justify-start gap-2 mt-2">\n           <div class="grow-1">\n              <label for="lex-cell-border-width">Border Width:</label>\n              <div class="mt-1 number-input medium">\n                  <input type="number" min="0" max="5" value="0"\n                  name="lex-cell-border-width"\n                  id="lex-cell-border-width" autocomplete="off" spellcheck="false" autocapitalize="off">\n                  <button class="icon large" data-increase="" aria-label="Increase Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z">\n                          </path>\n                      </svg>\n                  </button>\n                  <button class="icon large" data-decrease="" aria-label="Decrease Input" type="button">\n                      <svg focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </button>\n              </div>\n           </div>\n          </div>\n        </fieldset>\n\n        <div class="flex-row align-center justify-between mt-3">\n          <input role="button" value="RESET"  type="reset" aria-label="Reset Form"></input>\n          <button type="submit" class="filled success medium" aria-label="Submit Form">SUBMIT</button>\n        </div>\n      </form>\n    </div>\n    <div class="dialog-footer" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>');var J='<div style="display: none;" hidden class="dialog-wrapper" id="edit-table-lexical" data-close-backdrop data-esc>\n  <div class="dialog large" style="min-height: 450px;" data-click-capture>\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Edit Table</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <form method="dialog" class="mt-2" id="lexical-edit-table-form">\n        <fieldset>\n          <legend class="h6 bold">Customization:</legend>\n          <label class="checkbox">\n            <input type="checkbox" class="primary" name="edit-table-banded-rows" id="edit-table-banded-rows">\n            Banded Rows\n          </label>\n          <label class="checkbox">\n            <input type="checkbox" class="primary" name="edit-table-banded-columns" id="edit-table-banded-columns">\n            Banded Columns\n          </label>\n          <label class="checkbox">\n            <input type="checkbox" class="primary" name="edit-table-include-caption" id="edit-table-include-caption">\n            Include Caption\n          </label>\n        </fieldset>\n        <fieldset class="mt-2">\n          <legend class="body1 bold">Align:</legend>\n          <div class="flex-row justify-between align-center w-100">\n            <label class="radio" style="width: auto;">\n              <input type="radio" name="lexical-edit-table-align" value="left" class="secondary">\n              Left\n            </label>\n            <label class="radio" style="width: auto;">\n              <input type="radio" name="lexical-edit-table-align" value="center" class="secondary" checked>\n              Center\n            </label>\n            <label class="radio" style="width: auto;">\n              <input type="radio" name="lexical-edit-table-align" value="right" class="secondary">\n              Right\n            </label>\n          </div>\n          \n        </fieldset>\n        <div class="input-group block mt-2" data-hover="false" data-focus="false" data-error="false" data-blurred="false">\n          <label for="edit-table-new-caption">New Table Caption:</label>\n          <div class="text-input block medium">\n              <input \n              type="text" \n              autocomplete="off" \n              name="edit-table-new-caption" \n              id="edit-table-new-caption" \n              class="medium icon-before mt-1" \n              placeholder="Enter the caption (title) for the table..." \n              maxlength="100"\n              minlength="1" \n              spellcheck="true" \n              autocapitalize="off"\n              >\n              <svg class="icon-before" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Title"><path d="M5 4v3h5.5v12h3V7H19V4z"></path></svg>\n          </div>\n        </div>\n\n        <div class="flex-row align-center justify-between mt-3">\n          <input role="button" value="RESET"  type="reset" aria-label="Reset Form"></input>\n          <button type="submit" class="filled success medium" aria-label="Submit Form">SUBMIT</button>\n        </div>\n      </form>\n    </div>\n    <div class="dialog-footer" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>',U='<div style="display: none;" hidden class="dialog-wrapper" id="lex-upload-file-dialog" data-close-backdrop data-esc>\n  <div class="dialog large" data-click-capture style="min-height: 350px !important; height: auto!important; max-height: 95vh!important;">\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Upload Files</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <div class="tabs mt-2">\n        <ul class="tabs" role="tablist">\n          <li role="presentation">\n            <button id="lexical-file-tab-btn" class="tab-button secondary" role="tab" type="button" aria-selected="true" data-tab="0" tabindex="-1">Lexical</button>\n          </li>\n          <li role="presentation">\n            <button id="markdown-file-tab-btn" class="tab-button t-secondary" role="tab" type="button" aria-selected="false" data-tab="1" tabindex="-1">Markdown</button>\n          </li>\n          <li role="presentation">\n            <button id="jupyter-notebook-file-tab-btn" class="tab-button t-secondary" role="tab" type="button" aria-selected="false" data-tab="2" tabindex="-1">Jupyter Notebook</button>\n          </li>\n          <li role="presentation">\n            <button id="tex-file-tab-btn" class="tab-button t-secondary" role="tab" type="button" aria-selected="false" data-tab="3" tabindex="-1">TeX\n            </button>\n          </li>\n          <li role="presentation">\n            <button id="ai-file-tab-btn" class="tab-button t-secondary" role="tab" type="button" aria-selected="false" data-tab="4" tabindex="-1">AI Chat</button>\n          </li>\n        </ul>\n      </div>\n      <div class="tab-panels">\n        <div aria-labelledby="lexical-file-tab-btn" role="tabpanel" tabindex="0">\n          <p class="body1 mt-1">\n            Upload a .lexical file. If the file type matches the type of the current editor, then a preview will be shown below the file input. \n          </p>\n          <form id="lexical-state-upload">\n            <input hidden type="text" id="current-lexical-editor-upload">\n            <label for="upload-lex-file-input" class="bold mt-2">Upload Lexical File:</label>\n            <input type="file" id="upload-lex-file-input" accept=".lexical" name="upload-lex-file-input" class="mt-1 info">\n            <output class="block mt-2" id="upload-lex-file-input-output">  \n              \n            </output>\n            <div class="flex-row justify-between w-100 mt-4">\n              <input role="button" value="RESET" type="reset" aria-label="Reset Form"></input>\n    \n              <button type="submit" aria-label="Submit" class="success filled icon-text medium">\n                <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n                SUBMIT\n              </button>\n            </div>\n          </form>\n        </div>\n        <div aria-labelledby="markdown-file-tab-btn" role="tabpanel" tabindex="0" hidden>\n          <p class="body1 mt-1">\n            Upload a markdown file, and it will converted to an appropriate format so that it can be inserted into the editor.\n          </p>\n          <form id="markdown-file-upload">\n            <input hidden type="text" id="markdown-file-upload">\n            <label for="upload-md-file-input" class="bold mt-2">Upload Markdown File:</label>\n            <input type="file" id="upload-md-file-input" accept=".md" name="upload-md-file-input" class="mt-1 secondary">\n            <output class="block mt-2" id="upload-md-file-input-output">  \n            </output>\n            <div class="flex-row justify-between w-100 mt-4">\n              <input role="button" value="RESET" type="reset" aria-label="Reset Form"></input>\n    \n              <button type="submit" aria-label="Submit" class="success filled icon-text medium">\n                <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n                SUBMIT\n              </button>\n            </div>\n          </form>\n          \n        </div>\n        <div aria-labelledby="jupyter-notebook-file-tab-btn" role="tabpanel" tabindex="0" hidden>\n          <p class="body1 mt-1">\n            Upload a Jupyter Notebook, and it will converted to an appropriate format so that it can be inserted into the editor.\n          </p>\n          <form id="notebook-file-upload">\n            <input hidden type="text" id="notebook-file-upload">\n            <label for="upload-ipynb-file-input" class="bold mt-2">Upload Jupyter Notebook:</label>\n            <input type="file" id="upload-ipynb-file-input" accept=".ipynb" name="upload-ipynb-file-input" class="mt-1 primary">\n            <output class="block mt-2" id="upload-ipynb-file-input-output">  \n            </output>\n            <div class="flex-row justify-between w-100 mt-4">\n              <input role="button" value="RESET" type="reset" aria-label="Reset Form"></input>\n    \n              <button type="submit" aria-label="Submit" class="success filled icon-text medium">\n                <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n                SUBMIT\n              </button>\n            </div>\n          </form>\n        </div>\n        <div aria-labelledby="tex-file-tab-btn" role="tabpanel" tabindex="0" hidden>\n          <p class="body1 mt-1">\n            Upload a .tex file, and it will be converted to an appropriate format so that it can be inserted into the editor.  \n          </p>\n          <form id="tex-file-upload">\n            <input hidden type="text" id="tex-file-upload">\n            <label for="upload-tex-file-input" class="bold mt-2">Upload TeX File:</label>\n            <input type="file" id="upload-tex-file-input" accept=".zip" name="upload-tex-file-input" class="mt-1 warning">\n            <output class="block mt-2" id="upload-tex-file-input-output">                \n            </output>\n            <div class="flex-row justify-between w-100 mt-4">\n              <input role="button" value="RESET" type="reset" aria-label="Reset Form"></input>\n    \n              <button type="submit" aria-label="Submit" class="success filled icon-text medium">\n                <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n                SUBMIT\n              </button>\n            </div>\n          </form>\n        </div>\n        <div aria-labelledby="ai-file-tab-btn" role="tabpanel" tabindex="0" hidden>\n          <p>\n            Search for an AI chat by name, select the chat to insert into the editor, and submit the form to insert the chat into the rich text editor.\n          </p>\n          <form id="insert-ai-chat-rte">\n            <div class="input-group block w-100 mt-1" data-hover="false" data-focus="false" data-error="false" data-blurred="false">\n              <label for="search-ai-chat-box">Search AI Chat:</label>\n              <div class="mt-1 text-input block medium">\n                <input \n                type="search" \n                class="icon-after" \n                name="search-ai-chat-box" \n                id="search-ai-chat-box" \n                placeholder="Enter the name of the AI chat..." \n                hx-trigger="input changed delay:200ms, search"\n                hx-target="#search-ai-chat-box-output"\n                hx-swap="innerHTML"\n                hx-indicator="#sea-ai-chat-ind"\n                hx-get="/ai-chat/search"\n                >\n                <svg class="icon-after" focusable="false" inert viewBox="0 0 24 24">\n                  <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z">\n                  </path>\n                </svg>\n              </div>\n            </div>\n            <div class="flex-row justify-center t-primary htmx-indicator" role="progressbar" aria-busy="false" aria-label="Searching AI Chat..." id="sea-ai-chat-ind">\n              <div class="lds-ring"><div></div><div></div><div></div><div></div></div>\n            </div>\n            <div id="search-ai-chat-box-output" class="mt-2 block" style="max-height: 400px; overflow-y: auto;">\n\n            </div>\n            <div class="flex-row justify-between w-100 mt-4">\n              <input role="button" value="RESET" type="reset" aria-label="Reset Form"></input>\n    \n              <button type="submit" aria-label="Submit" class="success filled icon-text medium">\n                <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n                SUBMIT\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n\n      \n    </div>\n    <div class="dialog-footer" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>';const V=e=>'<div style="display: none;" hidden class="dialog-wrapper" id="image-bg-color-dialog" data-close-backdrop data-esc>\n  <div class="dialog medium" data-click-capture style="min-height: 15rem;">\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Edit Image</p>\n        \n      \n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <form id="image-bg-color-form" class="mt-2">\n        <label class="body2" for="image-bg-color-lex">Background Color:</label>\n        <div class="flex-row justify-begin align-center gap-2">\n          <input type="color" data-coloris name="image-bg-color-lex" id="image-bg-color-lex" value="'.concat(e,'" style="margin-top: 2px;">\n          <span class="body2">').concat(e,'/span>\n        </div>\n        <label class="checkbox mt-2">\n        <input type="checkbox" class="info" name="image-bg-color-lex-transparent" id="image-bg-color-lex-transparent">\n        Transparent\n        </label>\n        <div class="input-group block mt-2" data-hover="false" data-focus="false" data-error="false" data-blurred="true">\n          <label for="img-short-description">Short Image Description:</label>\n          <div class="text-input block medium">\n              <input \n              type="text"\n              name="img-short-description" \n              id="img-short-description" \n              class="medium icon-before mt-1" \n              maxlength="100"\n              spellcheck="true" \n              autocapitalize="off"\n              placeholder="Enter a Short Description of the Image"\n              >\n              <svg class="icon-before" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Title"><path d="M5 4v3h5.5v12h3V7H19V4z"></path></svg>\n          </div>\n        </div>\n        <div class="input-group block mt-2" data-hover="false" data-focus="false" data-error="false" data-blurred="false"> \n          <label for="img-long-description">Long Image Description:</label>\n          <div class="mt-1 text-input block medium disabled">\n              <textarea \n              name="img-long-description" \n              id="img-long-description" \n              placeholder="Enter a longer description of the image..." \n              rows="5" \n              maxlength="200" \n              spellcheck="true"\n              autocomplete="off"\n              autocapitalize="off"\n              ></textarea>\n          </div>\n        </div>\n\n        <div class="flex-row justify-between mt-3">\n          <input role="button" value="RESET"  type="reset" aria-label="Reset Form"></input>\n          <button type="submit" aria-label="Submit" class="success filled icon-text medium">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n            SUBMIT\n          </button>\n        </div>\n      </form>\n    </div>\n    <div class="dialog-footer" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>');var G='<div style="display: none;" hidden class="dialog-wrapper" id="column-layout-lexical" data-close-backdrop data-esc>\n  <div class="dialog large" style="min-height: 300px!important;" data-click-capture>\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Insert Columns Layout</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <form  class="mt-2">\n        <div class="body1 bold" id="col-lex-dropdown-label">Column Type:</div>\n        <div class="mt-1 flex-row justify-center">\n          <div class="select">\n            <button type="button" role="combobox" aria-haspopup="listbox" aria-controls="col-lex-dropdown" aria-labelledby="col-lex-dropdown-label" class="select" aria-label="SELECT ARIA_LABEL" data-popover data-pelem="#col-lex-dropdown" data-click aria-expanded="false">\n              <span class="body1">2 columns (equal width)</span>\n              <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ArrowDropDown"><path d="m7 10 5 5 5-5z"></path></svg>\n            </button>\n            <div tabindex="0" id="col-lex-dropdown" role="listbox" class="select-menu o-xs" data-placement="bottom">\n              <input type="text" hidden value="2-1" name="ins-col-lex-input" id="ins-col-lex-input">\n              <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="true" data-val="2-1">\n                2 columns (equal width)\n              </button>\n              <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="2-2">\n                2 columns (25% - 75%)\n              </button>\n              <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="3-1">\n                3 columns (equal width)\n              </button>\n              <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="3-2">\n                3 columns (25% - 50% - 25%)\n              </button>\n              <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="false" data-val="4">\n                4 columns (equal width)\n              </button>\n            </div>\n          </div>\n        </div>\n        <dib class="mt-2 flex-row justify-end align-center">\n          <button type="submit" aria-label="Submit" class="success filled icon-text medium">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n            SUBMIT\n          </button>\n        </dib>\n      </form>\n    </div>\n    <div class="dialog-footer" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>',X='<div style="display: none;" hidden class="dialog-wrapper" id="coding-lang-lexical" data-close-backdrop data-esc>\n  <div class="dialog large" data-click-capture>\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Select Code Language</p>\n      \n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <form>\n        <fieldset class="mt-1">\n          <legend class="h6 bold"> Select Coding Language</legend>\n          <div class="flex-row align-center wrap" style="gap: 12px 6px;">\n            <label class="radio">\n              <input type="radio" name="coding_language" value="abap" class="primary">\n              abap\n              \x3c!-- <span class="flex-row align-center gap-2">\n                <span class="fw-regular">\n                  abap\n                </span>\n                <img src="https://image.storething.org/frankmbrown/3fe2c2aa-0f3c-4f9e-8e13-477f20db58ab.png" style="background-color: white; border-radius: 50%;" class="no-click" alt="abap programming language" style="width:30px;height:30px;" width="30" height="30" />\n              </span> --\x3e\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="actionscript" class="info">\n              actionscript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="ada" class="warning">\n              ada\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="apacheconf" class="info">\n              apacheconf\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="arduino" class="secondary">\n              arduino\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="arm-asm" class="warning">\n              arm-asm\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="armasm" class="success">\n              armasm\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="asm6502" class="info">\n              asm6502\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="aspnet" class="success">\n              aspnet\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="awk" class="primary">\n              awk\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="bash" class="secondary">\n              bash\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="basic" class="info">\n              basic\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="batch" class="warning">\n              batch\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="c" class="warning">\n              c\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="cil" class="secondary">\n              cil\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="cilk" class="info">\n              cilk\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="cilk-c" class="warning">\n              cilk-c\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="cilk-cpp" class="success">\n              cilk-cpp\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="clike" class="secondary">\n              clike\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="clojure" class="info">\n              clojure\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="cmake" class="warning">\n              cmake\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="cobol" class="success">\n              cobol\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="coffeescript" class="primary">\n              coffeescript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="cpp" class="primary">\n              cpp\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="csharp" class="warning">\n              csharp\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="css" class="primary">\n              css\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="csv" class="info">\n              csv\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="cue" class="warning">\n              cue\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="cypher" class="success">\n              cypher\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="d" class="error">\n              d\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="dart" class="primary">\n              dart\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="dataweave" class="secondary">\n              dataweave\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="dax" class="info">\n              dax\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="dhall" class="warning">\n              dhall\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="diff" class="success">\n              diff\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="django" class="error">\n              django\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="dns-zone" class="primary">\n              dns-zone\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="dns-zone-file" class="secondary">\n              dns-zone-file\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="docker" class="info">\n              docker\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="dockerfile" class="warning">\n              dockerfile\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="dot" class="success">\n              dot\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="dotnet" class="error">\n              dotnet\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="ebnf" class="primary">\n              ebnf\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="editorconfig" class="secondary">\n              editorconfig\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="eiffel" class="info">\n              eiffel\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="ejs" class="warning">\n              ejs\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="elisp" class="success">\n              elisp\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="elixir" class="error">\n              elixir\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="elm" class="primary">\n              elm\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="emacs" class="secondary">\n              emacs\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="emacs-lisp" class="info">\n              emacs-lisp\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="erb" class="warning">\n              erb\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="erlang" class="success">\n              erlang\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="eta" class="error">\n              eta\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="etlua" class="primary">\n              etlua\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="excel-formula" class="secondary">\n              excel-formula\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="factor" class="info">\n              factor\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="false" class="warning">\n              false\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="firestore-security-rules" class="success">\n              firestore-security-rules\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="flow" class="error">\n              flow\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="fortran" class="primary">\n              fortran\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="fsharp" class="secondary">\n              fsharp\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="ftl" class="info">\n              ftl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="g4" class="warning">\n              g4\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="gamemakerlanguage" class="success">\n              gamemakerlanguage\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="gap" class="error">\n              gap\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="gawk" class="primary">\n              gawk\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="gcode" class="secondary">\n              gcode\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="gdscript" class="info">\n              gdscript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="gedcom" class="warning">\n              gedcom\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="gettext" class="success">\n              gettext\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="gherkin" class="error">\n              gherkin\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="git" class="primary">\n              git\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="gitignore" class="secondary">\n              gitignore\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="glsl" class="info">\n              glsl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="gml" class="warning">\n              gml\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="gn" class="success">\n              gn\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="gni" class="error">\n              gni\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="go" class="primary">\n              go\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="go-mod" class="secondary">\n              go-mod\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="go-module" class="info">\n              go-module\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="gradle" class="warning">\n              gradle\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="graphql" class="success">\n              graphql\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="groovy" class="error">\n              groovy\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="gv" class="primary">\n              gv\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="haml" class="secondary">\n              haml\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="handlebars" class="info">\n              handlebars\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="haskell" class="warning">\n              haskell\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="haxe" class="success">\n              haxe\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="hbs" class="error">\n              hbs\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="hcl" class="primary">\n              hcl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="hgignore" class="secondary">\n              hgignore\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="hlsl" class="info">\n              hlsl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="hoon" class="warning">\n              hoon\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="hpkp" class="success">\n              hpkp\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="hs" class="error">\n              hs\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="hsts" class="primary">\n              hsts\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="html" class="secondary">\n              html\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="http" class="info">\n              http\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="ichigojam" class="warning">\n              ichigojam\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="icon" class="success">\n              icon\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="icu-message-format" class="error">\n              icu-message-format\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="idr" class="primary">\n              idr\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="idris" class="secondary">\n              idris\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="iecst" class="info">\n              iecst\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="ignore" class="warning">\n              ignore\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="inform7" class="success">\n              inform7\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="ini" class="error">\n              ini\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="ino" class="primary">\n              ino\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="io" class="secondary">\n              io\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="j" class="info">\n              j\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="java" class="warning">\n              java\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="javadoc" class="success">\n              javadoc\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="javadoclike" class="error">\n              javadoclike\n            </label>\n            <label class="radio">\n              <input type="radio" checked name="coding_language" value="javascript" class="primary">\n              javascript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="javastacktrace" class="secondary">\n              javastacktrace\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="jexl" class="info">\n              jexl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="jinja2" class="warning">\n              jinja2\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="jolie" class="success">\n              jolie\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="jq" class="error">\n              jq\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="js" class="primary">\n              js\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="js-extras" class="secondary">\n              js-extras\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="js-templates" class="info">\n              js-templates\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="jsdoc" class="warning">\n              jsdoc\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="json" class="success">\n              json\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="json5" class="error">\n              json5\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="jsonp" class="primary">\n              jsonp\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="jsstacktrace" class="secondary">\n              jsstacktrace\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="jsx" class="info">\n              jsx\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="julia" class="warning">\n              julia\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="keepalived" class="success">\n              keepalived\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="keyman" class="error">\n              keyman\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="kotlin" class="primary">\n              kotlin\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="kt" class="secondary">\n              kt\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="kts" class="info">\n              kts\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="kum" class="warning">\n              kum\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="kumir" class="success">\n              kumir\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="kusto" class="error">\n              kusto\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="latex" class="primary">\n              latex\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="latte" class="secondary">\n              latte\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="ld" class="info">\n              ld\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="less" class="warning">\n              less\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="lilypond" class="success">\n              lilypond\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="linker-script" class="error">\n              linker-script\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="liquid" class="primary">\n              liquid\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="lisp" class="secondary">\n              lisp\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="livescript" class="info">\n              livescript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="llvm" class="warning">\n              llvm\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="log" class="success">\n              log\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="lolcode" class="error">\n              lolcode\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="lua" class="primary">\n              lua\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="ly" class="secondary">\n              ly\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="magma" class="info">\n              magma\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="makefile" class="warning">\n              makefile\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="markdown" class="success">\n              markdown\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="markup" class="error">\n              markup\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="markup-templating" class="primary">\n              markup-templating\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="mata" class="secondary">\n              mata\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="mathematica" class="info">\n              mathematica\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="mathml" class="warning">\n              mathml\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="matlab" class="success">\n              matlab\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="maxscript" class="error">\n              maxscript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="md" class="primary">\n              md\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="mel" class="secondary">\n              mel\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="mermaid" class="info">\n              mermaid\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="metafont" class="warning">\n              metafont\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="mizar" class="success">\n              mizar\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="mongodb" class="error">\n              mongodb\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="monkey" class="primary">\n              monkey\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="moon" class="secondary">\n              moon\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="moonscript" class="info">\n              moonscript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="mscript" class="warning">\n              mscript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="mustache" class="success">\n              mustache\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="n1ql" class="error">\n              n1ql\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="n4js" class="primary">\n              n4js\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="n4jsd" class="secondary">\n              n4jsd\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="nand2tetris-hdl" class="info">\n              nand2tetris-hdl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="nani" class="warning">\n              nani\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="naniscript" class="success">\n              naniscript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="nasm" class="error">\n              nasm\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="nb" class="primary">\n              nb\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="neon" class="secondary">\n              neon\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="nevod" class="info">\n              nevod\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="nginx" class="warning">\n              nginx\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="nim" class="success">\n              nim\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="nix" class="error">\n              nix\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="npmignore" class="primary">\n              npmignore\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="nsis" class="secondary">\n              nsis\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="objc" class="info">\n              objc\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="objectivec" class="warning">\n              objectivec\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="objectpascal" class="success">\n              objectpascal\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="ocaml" class="error">\n              ocaml\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="odin" class="primary">\n              odin\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="opencl" class="secondary">\n              opencl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="openqasm" class="info">\n              openqasm\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="oscript" class="warning">\n              oscript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="oz" class="success">\n              oz\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="parigp" class="error">\n              parigp\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="parser" class="primary">\n              parser\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="pascal" class="secondary">\n              pascal\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="pascaligo" class="info">\n              pascaligo\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="pbfasm" class="warning">\n              pbfasm\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="pcaxis" class="success">\n              pcaxis\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="pcode" class="error">\n              pcode\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="peoplecode" class="primary">\n              peoplecode\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="perl" class="secondary">\n              perl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="php" class="info">\n              php\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="php-extras" class="warning">\n              php-extras\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="phpdoc" class="success">\n              phpdoc\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="plant-uml" class="error">\n              plant-uml\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="plantuml" class="primary">\n              plantuml\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="plsql" class="secondary">\n              plsql\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="po" class="info">\n              po\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="powerquery" class="warning">\n              powerquery\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="powershell" class="success">\n              powershell\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="pq" class="error">\n              pq\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="processing" class="primary">\n              processing\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="prolog" class="secondary">\n              prolog\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="promql" class="info">\n              promql\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="properties" class="warning">\n              properties\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="protobuf" class="success">\n              protobuf\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="psl" class="error">\n              psl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="pug" class="primary">\n              pug\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="puppet" class="secondary">\n              puppet\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="pure" class="info">\n              pure\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="purebasic" class="warning">\n              purebasic\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="purescript" class="success">\n              purescript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="purs" class="error">\n              purs\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="px" class="primary">\n              px\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="py" class="secondary">\n              py\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="python" class="info">\n              python\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="q" class="warning">\n              q\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="qasm" class="success">\n              qasm\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="qml" class="error">\n              qml\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="qore" class="primary">\n              qore\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="qs" class="secondary">\n              qs\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="qsharp" class="info">\n              qsharp\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="r" class="warning">\n              r\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="racket" class="success">\n              racket\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="razor" class="error">\n              razor\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="rb" class="primary">\n              rb\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="rbnf" class="secondary">\n              rbnf\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="reason" class="info">\n              reason\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="regex" class="warning">\n              regex\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="rego" class="success">\n              rego\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="renpy" class="error">\n              renpy\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="res" class="primary">\n              res\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="rescript" class="secondary">\n              rescript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="rest" class="info">\n              rest\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="rip" class="warning">\n              rip\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="rkt" class="success">\n              rkt\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="roboconf" class="error">\n              roboconf\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="robot" class="primary">\n              robot\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="robotframework" class="secondary">\n              robotframework\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="rpy" class="info">\n              rpy\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="rq" class="warning">\n              rq\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="rss" class="success">\n              rss\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="ruby" class="error">\n              ruby\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="rust" class="primary">\n              rust\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="sas" class="secondary">\n              sas\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="sass" class="info">\n              sass\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="scala" class="warning">\n              scala\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="scheme" class="success">\n              scheme\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="sclang" class="error">\n              sclang\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="scss" class="primary">\n              scss\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="sh" class="secondary">\n              sh\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="sh-session" class="info">\n              sh-session\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="shell" class="warning">\n              shell\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="shell-session" class="success">\n              shell-session\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="shellsession" class="error">\n              shellsession\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="shortcode" class="primary">\n              shortcode\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="sln" class="secondary">\n              sln\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="smali" class="info">\n              smali\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="smalltalk" class="warning">\n              smalltalk\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="smarty" class="success">\n              smarty\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="sml" class="error">\n              sml\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="smlnj" class="primary">\n              smlnj\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="sol" class="secondary">\n              sol\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="solidity" class="info">\n              solidity\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="solution-file" class="warning">\n              solution-file\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="soy" class="success">\n              soy\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="sparql" class="error">\n              sparql\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="splunk-spl" class="primary">\n              splunk-spl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="sqf" class="secondary">\n              sqf\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="sql" class="info">\n              sql\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="squirrel" class="warning">\n              squirrel\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="ssml" class="success">\n              ssml\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="stan" class="error">\n              stan\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="stata" class="primary">\n              stata\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="stylus" class="secondary">\n              stylus\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="supercollider" class="info">\n              supercollider\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="svg" class="warning">\n              svg\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="swift" class="success">\n              swift\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="systemd" class="error">\n              systemd\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="t4" class="primary">\n              t4\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="t4-cs" class="secondary">\n              t4-cs\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="t4-templating" class="info">\n              t4-templating\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="t4-vb" class="warning">\n              t4-vb\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="tap" class="success">\n              tap\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="tcl" class="error">\n              tcl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="tex" class="primary">\n              tex\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="textile" class="secondary">\n              textile\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="toml" class="info">\n              toml\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="tremor" class="warning">\n              tremor\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="trickle" class="success">\n              trickle\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="trig" class="error">\n              trig\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="troy" class="primary">\n              troy\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="ts" class="secondary">\n              ts\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="tsconfig" class="info">\n              tsconfig\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="tsx" class="warning">\n              tsx\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="tt2" class="success">\n              tt2\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="turtle" class="error">\n              turtle\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="twig" class="primary">\n              twig\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="typescript" class="secondary">\n              typescript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="typoscript" class="info">\n              typoscript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="uc" class="warning">\n              uc\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="unrealscript" class="success">\n              unrealscript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="uorazor" class="error">\n              uorazor\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="uri" class="primary">\n              uri\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="url" class="secondary">\n              url\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="uscript" class="info">\n              uscript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="v" class="warning">\n              v\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="vala" class="success">\n              vala\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="vb" class="error">\n              vb\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="vba" class="primary">\n              vba\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="vbnet" class="secondary">\n              vbnet\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="velocity" class="info">\n              velocity\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="verilog" class="warning">\n              verilog\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="vhdl" class="success">\n              vhdl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="vim" class="error">\n              vim\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="visual-basic" class="primary">\n              visual-basic\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="warpscript" class="secondary">\n              warpscript\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="wasm" class="info">\n              wasm\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="web-idl" class="warning">\n              web-idl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="webidl" class="success">\n              webidl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="webmanifest" class="error">\n              webmanifest\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="wgsl" class="primary">\n              wgsl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="wiki" class="secondary">\n              wiki\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="wl" class="info">\n              wl\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="wolfram" class="warning">\n              wolfram\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="wren" class="success">\n              wren\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="xeora" class="error">\n              xeora\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="xeoracube" class="primary">\n              xeoracube\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="xls" class="secondary">\n              xls\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="xlsx" class="info">\n              xlsx\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="xml" class="warning">\n              xml\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="xml-doc" class="success">\n              xml-doc\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="xojo" class="error">\n              xojo\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="xquery" class="primary">\n              xquery\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="yaml" class="secondary">\n              yaml\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="yang" class="info">\n              yang\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="yml" class="warning">\n              yml\n            </label>\n            <label class="radio">\n              <input type="radio" name="coding_language" value="zig" class="success">\n              zig\n            </label>\n          </div>\n\n        </fieldset>\n\n        <div class="flex-row mt-2 justify-between">\n          <input role="button" value="RESET"  type="reset" aria-label="Reset Form"></input>\n          <button type="submit" aria-label="Submit" class="success filled icon-text medium">\n              <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n              SUBMIT\n          </button>\n        </div>\n      </form>\n    </div>\n    <div class="dialog-footer" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>',Y='<div style="display: none;" hidden class="dialog-wrapper" id="insert-previous-lexical" data-close-backdrop data-esc>\n  <div class="dialog large" data-click-capture>\n    <div class="dialog-header">\n      <p class="grow-1 flex-row h3 bold">Upload Previous Version of Editor State</p>\n      <button class="icon medium close-dialog" type="button" aria-label="Close Dialog">\n        <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n      </button>\n    </div>\n    <div class="dialog-body">\n      <form>\n        <output class="block mt-2" id="upload-prev-lexical-state-out"></output>\n        <div class="flex-row justify-between align-center mt-3">\n            <button type="submit" aria-label="Submit" class="success filled icon-text medium">\n                <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>\n                SUBMIT\n            </button>\n          </div>\n        </form>\n        <div class="mt-2 flex-row justify-center t-primary htmx-indicator" role="progressbar" aria-busy="false" aria-label="" id="ind_fab069f0-3b63-4e8a-971e-c6f9519158ba">\n          <div class="lds-ring"><div></div><div></div><div></div><div></div></div>\n        </div>\n      \n    </div>\n    <div class="dialog-footer" role="toolbar">\n      <button class="filled error small close-dialog" type="button" aria-label="Close Dialog">\n        CLOSE DIALOG\n      </button>\n    </div>\n  </div>\n</div>';function Z(e){const t=!!e._rootElement&&e._rootElement.closest("div.lexical-wrapper");if(t){const e=t.querySelector("input[data-lexical-font-size-input]");return Boolean(e)}}function $(e){return Boolean("undefined"!=typeof HTMLElement||e instanceof HTMLElement)}function Q(){const e=window.navigator.userAgent;return te(e)?ee(e)?"mobile":"tablet":"desktop"}function ee(e){if(!e)return!1;let t=!1;var n;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n=e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)))&&(t=!0),t}function te(e){if(!e)return!1;let t=!1;var n;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n=e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)))&&(t=!0),t}var ne=!1,oe=!1;"undefined"!=typeof window&&(ne=ee(window.navigator.userAgent),oe=te(window.navigator.userAgent));var ae=Boolean(ne),ie=Boolean(!!oe&&!ae);Boolean(!ae&&!ie);const re=(0,i.gu)("SET_EDITOR_COMMAND"),le={};function se(){const e=document.getElementById("LEXICAL_EDITOR_CURRENT");return e&&e.value?e.value:null}function ce(e){const t=document.getElementById("LEXICAL_EDITOR_CURRENT");if(t){const n=structuredClone(t.value),o=document.getElementById(n);if(o&&o.setAttribute("data-current","false"),""===e)return t.value=e,!0;if(e&&le[e]){t.value=e;const n=document.getElementById(e);return n&&n.setAttribute("data-current","true"),!0}return console.error("Editor with id ".concat(e).concat(" does not exist.")),!1}console.error("Unable to find LEXICAL_EDITOR_CURRENT")}function de(){const e=se();return"string"==typeof e&&le[e]?le[e]:null}function ue(e){const t=this.classList.contains("lexical-wrapper")?this:this.closest("div.lexical-wrapper");if(!t)return;const n=t.id;"string"==typeof n&&se()!==n&&ce(n)&&le[n].dispatchCommand(re,n)}function pe(){return le}function ge(e,t){le[e]=t}function me(e){document.dispatchEvent(new CustomEvent("CLOSE_DIALOG",{detail:{dialog:e}}))}function he(e){document.dispatchEvent(new CustomEvent("OPEN_DIALOG",{detail:{dialog:e}}))}function fe(e){const t=document.getElementById("loading-dialog");if(t){const n=t.querySelector("div[data-indicator]");n&&n.setAttribute("aria-busy","true");const o=t.querySelector("p[data-text]");o&&e&&(o.innerText=e),he(t)}}function be(){const e=document.getElementById("loading-dialog");e&&me(e)}function ve(e){e&&e.setAttribute&&e.setAttribute("disabled","")}function ye(e){e&&e.removeAttribute&&e.removeAttribute("disabled")}function xe(e,t,n){t?ve(e):ye(e),n?function(e){e&&e.classList&&e.classList.add&&e.classList.add("selected")}(e):function(e){e&&e.classList&&e.classList.remove&&e.classList.remove("selected")}(e)}function _e(e,t,n){var o='button[data-dispatch="'.concat(t).concat('"]');return n&&(o=o.concat('[data-payload="').concat(n).concat('"]')),e.querySelector(o)}function we(){const e=document.querySelector("html");if(e){const t=e.getAttribute("data-mode");return"light"===t||"dark"===t?t:"dark"}return"dark"}function Ee(){const e=we(),t="background-".concat(e).concat("-settings-color"),n=document.getElementById(t);return n&&n.value&&i.zG.test(n.value)?n.value:"#000000"}function ke(){const e=we(),t="textColor-".concat(e).concat("-settings-color"),n=document.getElementById(t);return n&&n.value&&i.zG.test(n.value)?n.value:"#FFFFFF"}function Ce(e,t){if(e&&e.nextElementSibling){const n=Array.from(e.nextElementSibling.querySelectorAll('button[role="option"]'));Array.isArray(n)&&n.forEach((e=>{t===e.getAttribute("data-val")?e.setAttribute("aria-selected","true"):e.setAttribute("aria-selected","false")}))}}function Se(e,t){e&&"string"==typeof t&&Array.from(e.children).filter((e=>"SPAN"===e.nodeName)).map((e=>{e.innerText=t.trim()}))}function Ae(e,t){e&&Array.from(e.querySelectorAll('input[type="radio"]')).forEach((e=>{e.getAttribute("value")===t?e.checked=!0:t||"none"!==e.getAttribute("value")?e.checked=!1:e.checked=!0}))}function Te(e,t){Array.isArray(e)&&e.forEach((e=>{e.getAttribute("data-payload")===t?e.classList.add("selected"):e.classList.remove("selected")}))}function Ne(e,t){e&&(e.value=t),null!=e&&e.nextElementSibling&&"SPAN"===(null==e?void 0:e.nextElementSibling.nodeName)&&(e.nextElementSibling.innerText=t)}function Le(e,t,n){var o,a;if(e&&(e.value=t),e&&null!=e&&e.parentElement&&null!=e&&null!==(o=e.parentElement)&&void 0!==o&&o.previousElementSibling&&"BUTTON"===(null==e||null===(a=e.parentElement)||void 0===a||null===(a=a.previousElementSibling)||void 0===a?void 0:a.nodeName)){const o=e.parentElement.previousElementSibling;Se(o,n),Ce(o,t)}}function Ie(e,t){const n=e.getRangeAt(0);let o;if(e.anchorNode===t){let e=t;for(;null!=e.firstElementChild;)e=e.firstElementChild;o=e.getBoundingClientRect()}else o=n.getBoundingClientRect();return{top:o.top+window.scrollY,left:o.left,right:o.right,height:o.height}}function Me(e){return{fontButton:e.querySelector("button[data-lexical-font-button]"),headingButton:e.querySelector("button[data-lexical-heading-button]"),backgroundColorButton:e.querySelector("button[data-lexical-bg-color-button]"),backgroundColorInput:e.querySelector("input[data-lexical-background-color]"),backgroundColorTransparent:e.querySelector("input[data-lexical-background-transparent]"),textColorButton:e.querySelector("button[data-lexical-text-color-button]"),textColorInput:e.querySelector("input[data-lexical-text-color]"),textColorTransparent:e.querySelector("input[data-lexical-text-transparent]"),markButton:e.querySelector("button[data-lexical-mark-button]"),fontWeightButton:e.querySelector("button[data-lexical-font-weight-button]"),blockStyleButton:e.querySelector("button[data-lexical-block-style-button]"),fontSizeButton:e.querySelector("button[data-lexical-font-size-button]"),undoButton:e.querySelector('buttom[data-dispatch="UNDO_COMMAND"]'),redoButton:e.querySelector('buttom[data-dispatch="REDO_COMMAND"]'),clearContentButton:e.querySelector('buttom[data-dispatch="CLEAR_EDITOR_COMMAND"]'),indentContentButton:_e(e,"INDENT_CONTENT_COMMAND",void 0),outdentContentButton:_e(e,"OUTDENT_CONTENT_COMMAND",void 0),leftAlignButton:_e(e,"FORMAT_ELEMENT_COMMAND","left"),centerAlignButton:_e(e,"FORMAT_ELEMENT_COMMAND","center"),rightAlignButton:_e(e,"FORMAT_ELEMENT_COMMAND","right"),justifyAlignButton:_e(e,"FORMAT_ELEMENT_COMMAND","justify"),boldButton:_e(e,"FORMAT_TEXT_COMMAND","bold"),italicButton:_e(e,"FORMAT_TEXT_COMMAND","italic"),strikethroughButton:_e(e,"FORMAT_TEXT_COMMAND","strikethrough"),underlineButton:_e(e,"FORMAT_TEXT_COMMAND","underline"),kbdButton:_e(e,"FORMAT_TEXT_COMMAND","kbd"),inlineQuoteButtonToolbar:e.querySelector('button.toggle-button[data-dispatch="FORMAT_TEXT_COMMAND"][data-payload="quote"]'),clearFormattingButton:_e(e,"CLEAR_TEXT_FORMATTING",void 0),subscriptButton:_e(e,"FORMAT_TEXT_COMMAND","subscript"),superscriptButton:_e(e,"FORMAT_TEXT_COMMAND","superscript"),imageButton:e.querySelector("button[data-lexical-image-button]"),audioButton:e.querySelector("button[data-lexical-audio-button]"),videoButton:e.querySelector("button[data-lexical-video-button]"),linkButton:e.querySelector("button[data-lexical-link-button]"),removeLinkButton:e.querySelector("button[data-lexical-remove-link]"),embedMediaButton:e.querySelector("button[data-lexical-embed-media]"),embedNews:e.querySelector("button[data-embed-news]"),embedYoutube:e.querySelector("button[data-embed-youtube]"),embedX:e.querySelector("button[data-embed-x]"),embedTikTok:e.querySelector("button[data-embed-tiktok]"),embedInstagram:e.querySelector("button[data-embed-instagram]"),embedReddit:e.querySelector("button[data-embed-reddit]"),quoteButton:e.querySelector("button[data-lexical-insert-quote-button]"),blockQuoteButton:e.querySelector("button[data-lexical-quote-button]"),inlineQuoteButton:e.querySelector('button[data-dispatch="FORMAT_TEXT_COMMAND"][data-payload="quote"]'),listButton:e.querySelector("button[data-lexical-list-button]"),orderedListButton:_e(e,"INSERT_ORDERED_LIST_COMMAND",void 0),unorderedListButton:_e(e,"INSERT_UNORDERED_LIST_COMMAND",void 0),checkListButton:_e(e,"INSERT_CHECK_LIST_COMMAND",void 0),asideButton:e.querySelector("button[data-lexical-aside-button]"),leftAside:_e(e,"INSERT_ASIDE_COMMAND","left"),rightAside:_e(e,"INSERT_ASIDE_COMMAND","right"),detailsButton:e.querySelector("button[data-lexical-details-button]"),codeButton:e.querySelector("button[data-lexical-insert-code]"),codeBlockButton:_e(e,"INSERT_CODE_COMMAND",void 0),inlineCodeButton:_e(e,"FORMAT_TEXT_COMMAND","code"),mathButton:e.querySelector("button[data-lexical-math-button]"),tableButton:e.querySelector("button[data-lexical-table-button]"),chartButton:e.querySelector("button[data-lexical-chart-button]"),horizontalRuleButton:e.querySelector("button[data-lexical-hr-button]"),viewButton:e.querySelector("button[data-lexical-hr-button]"),downloadLexicalStateButton:e.querySelector("button[data-download-state]"),uploadLexicalStateButton:e.querySelector('button[data-dialog="lex-upload-file-dialog"]'),sectionHeadingButton:e.querySelector("button[data-lexical-section-button]"),paragraphButton:e.querySelector("button[data-insert-paragraph-button]"),htmlButton:e.querySelector("button[data-custom-html-btn]"),gifButton:e.querySelector("button[data-lexical-gif-button]"),speechToTextButton:e.querySelector("button[data-lexical-speech-to-text]"),copyContentButton:e.querySelector('buttom[data-dispatch="COPY_EDITOR_COMMAND"]'),abbreviationButton:e.querySelector("button[data-lexical-abbr-button]"),removeAbbreviationButton:e.querySelector("button[data-lexical-remove-abbr]"),columnLayoutButton:e.querySelector("button[data-lexical-column-button]")}}function Oe(){return"ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0}const Be=null!==(C=null===(S=Object.getOwnPropertyDescriptor(globalThis,"window"))||void 0===S||null===(S=S.get)||void 0===S?void 0:S.toString().includes("[native code]"))&&void 0!==C&&C,De=(0,i.gu)("MAKE_TRANSPARENT"),Re=(0,i.gu)("TEXT_COLOR_CHANGE"),ze=(0,i.gu)("BACKGROUND_COLOR_CHANGE"),Pe=(0,i.gu)("CLEAR_TEXT_FORMATTING"),Fe=(0,i.gu)("LAUNCH_TEXT_INSERTION_COMMAND"),He=(0,i.gu)("REGISTER_TOOLBAR_LISTENERS"),qe=(0,i.gu)("UPDATE_ON_SET_HTML");function je(){return(0,i.Ni)().getTextContent()}function Ke(e){const t=E();return e.insertBefore(t),t.append(e),t}function We(e){const t=e.getChildren(),n=t.length;for(let o=0;o<n;o++)e.insertBefore(t[o]);return e.remove(),n>0?t[n-1]:null}function Je(e){const t=e.getPreviousSibling();if(!k(t))return;const n=e.getFirstChild(),o=t.getChildren(),a=o.length;if(null===n)e.append(...o);else for(let e=0;e<a;e++)n.insertBefore(o[e]);const r=(0,i.vJ)();if((0,i.I2)(r)){const n=r.anchor,o=n.getNode(),i=r.focus,l=n.getNode();o.is(t)?n.set(e.getKey(),n.offset,"element"):o.is(e)&&n.set(e.getKey(),a+n.offset,"element"),l.is(t)?i.set(e.getKey(),i.offset,"element"):l.is(e)&&i.set(e.getKey(),a+i.offset,"element")}t.remove()}const Ue={},Ve={};function Ge(e,t){var n;let{min:o,max:a}=t,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=!isNaN(o);var l=!1;const s=document.getElementById(e._config.namespace)||(null===(n=e._rootElement)||void 0===n?void 0:n.closest("div.lexical-wrapper")),c=e._rootElement;if(s&&c){const t=c.innerText.length,n=Ue[e._config.namespace].lastLength,d=i?t:Number(n||0),u=e._config.namespace.concat("-char-counter");if(document.getElementById(u))return;const p=document.createElement("p");if(p.style.setProperty("padding-right","8px"),p.setAttribute("id",u),p.classList.add("char-counter"),r){const e=document.createElement("span");e.classList.add("min-counter","body2");const t=Number(o)-d;e.setAttribute("data-val",String(t)),t>0?(e.setAttribute("aria-hidden","false"),l=!0):e.setAttribute("aria-hidden","true"),e.innerText="more characters required",p.append(e)}if(a){const e=document.createElement("span");e.classList.add("max-counter","body2");const t=a-d;e.setAttribute("data-val",String(t)),l?e.setAttribute("aria-hidden","true"):e.setAttribute("aria-hidden","false"),e.innerText="Characters Remaining",p.append(e)}s.insertAdjacentElement("afterend",p)}}function Xe(e){const t=document.getElementById(e._config.namespace.concat("-char-counter"));t&&t.remove()}function Ye(e,t){let{min:n,max:o,showCounter:a=!0}=t;return Ue[e._config.namespace]={lastLength:null,text:e.getEditorState().read(je)},a&&Ge(e,{min:n,max:o},!0),Po(e.registerUpdateListener((t=>{var n;let{dirtyLeaves:a,dirtyElements:r}=t;const l=e.isComposing(),s=a.size>0||r.size>0;if(l||!s)return;const c=(null===(n=Ue[e._config.namespace])||void 0===n||null===(n=n.text)||void 0===n?void 0:n.length)||0,d=c>Number(o)||null!==Ue[e._config.namespace].lastLength&&Number(Ue[e._config.namespace].lastLength)>o;if(null===Ue[e._config.namespace].lastLength||d){var u;const t=function(e,t,n){const o=Intl.Segmenter;let a=0,i=0;if("function"==typeof o){const r=(new o).segment(e);for(const{segment:e}of r){const o=i+n(e);if(o>t)break;i=o,a+=e.length}}else{const o=Array.from(e),r=o.length;for(let e=0;e<r;e++){const r=o[e],l=i+n(r);if(l>t)break;i=l,a+=r.length}}return a}((null===(u=Ue[e._config.namespace])||void 0===u?void 0:u.text)||"",Number(o),(e=>e.length));e.update((()=>{!function(e){const t=function(){const e=[],t=(0,i.Ni)().getLatest(),n=(0,i.ff)(t)?t.getLastDescendant():t;let o=t,a=function(e){let t=e,n=0;for(;null!==(t=t.getParent());)n++;return n}(o);for(;null!==o&&!o.is(n);)if(e.push({depth:a,node:o}),(0,i.ff)(o)&&o.getChildrenSize()>0)o=o.getFirstChild(),a++;else{let e=null;for(;null===e&&null!==o;)e=o.getNextSibling(),null===e?(o=o.getParent(),a--):o=e}return null!==o&&o.is(n)&&e.push({depth:a,node:o}),e}(),n=t.length;let o=0;for(let a=0;a<n;a+=1){const{node:n}=t[a];if(k(n)){const t=o;if(o+n.getTextContentSize()<=e){const e=n.getParent(),t=n.getPreviousSibling(),o=n.getNextSibling();We(n);const a=(0,i.vJ)();!(0,i.I2)(a)||a.anchor.getNode().isAttached()&&a.focus.getNode().isAttached()||((0,i.kF)(t)?t.select():(0,i.kF)(o)?o.select():null!==e&&e.select())}else if(t<e){const o=n.getFirstDescendant(),a=t+(null!==o?o.getTextContentSize():0);((0,i.kF)(o)&&o.isSimpleText()||a<=e)&&We(n)}}else if((0,i.jG)(n)){const t=o;if(o+=n.getTextContentSize(),o>e&&!k(n.getParent())){const o=(0,i.vJ)();let a;if(t<e&&(0,i.kF)(n)&&n.isSimpleText()){const[,o]=n.splitText(e-t);a=Ke(o)}else a=Ke(n);null!==o&&(0,i.n1)(o),Je(a)}}}}(t)}),{tag:"history-merge"})}Ue[e._config.namespace].lastLength=c})),e.registerTextContentListener((t=>{Ue[e._config.namespace].text=t;const a=t.length,i=document.getElementById(e._config.namespace.concat("-char-counter"));var r=!1;if(i){const e=Array.from(i.children),t=e.filter((e=>e.classList.contains("min-counter")))[0],l=e.filter((e=>e.classList.contains("max-counter")))[0];if(t){const e=Number(n)-Number(a);t.setAttribute("data-val",String(e)),e>0?(t.setAttribute("aria-hidden","false"),r=!0):t.setAttribute("aria-hidden","true")}if(l){const e=o-Number(a);l.setAttribute("data-val",String(e)),r?l.setAttribute("aria-hidden","true"):l.setAttribute("aria-hidden","false")}}})),e.registerEditableListener((t=>{t?Ge(e,{min:n,max:o}):Xe(e)})),(function(){Xe(e),delete Ue[e._config.namespace]}),e.registerNodeTransform(i.h,(t=>{const n=(0,i.vJ)();if(!(0,i.I2)(n)||!n.isCollapsed())return;const a=e.getEditorState(),r=a.read((()=>t.getTextContentSize())),l=t.getTextContentSize();if(r!==l){const t=l-o,s=n.anchor;t>0&&(r===o&&Ve[e._config.namespace]!==a?(Ve[e._config.namespace]=a,function(e,t){const n=new Map,o=e._pendingEditorState;for(const[e,o]of t._nodeMap){const t=c(o);(0,i.kF)(t)&&(t.__text=o.__text),n.set(e,t)}o&&(o._nodeMap=n),e._dirtyType=2;const a=t._selection;(0,i.n1)(null===a?null:a.clone())}(e,a)):function(e,t,n){let o=t.getNode(),a=n;if((0,i.ff)(o)){const e=o.getDescendantByIndex(t.offset);null!==e&&(o=e)}for(;a>0&&null!==o;){if((0,i.ff)(o)){const e=o.getLastDescendant();null!==e&&(o=e)}let n=o.getPreviousSibling(),r=0;if(null===n){let e=o.getParentOrThrow(),t=e.getPreviousSibling();for(;null===t;){if(e=e.getParent(),null===e){n=null;break}t=e.getPreviousSibling()}null!==e&&(r=e.isInline()?0:2,n=t)}let l=o.getTextContent();""===l&&(0,i.ff)(o)&&!o.isInline()&&(l="\n\n");const s=l.length;if(!(0,i.kF)(o)||a>=s){const e=o.getParent();o.remove(),null==e||0!==e.getChildrenSize()||(0,i.hV)(e)||e.remove(),a-=s+r,o=n}else{const n=o.getKey(),r=e.getEditorState().read((()=>{const e=(0,i.ns)(n);return(0,i.kF)(e)&&e.isSimpleText()?e.getTextContent():null})),c=s-a,d=l.slice(0,c);if(null!==r&&r!==l){const e=(0,i.S1)();let t=o;if(o.isSimpleText())o.setTextContent(r);else{const e=(0,i.sT)(r);o.replace(e),t=e}if((0,i.I2)(e)&&e.isCollapsed()){const n=e.anchor.offset;t.select(n,n)}}else if(o.isSimpleText()){const e=t.key===n;let i=t.offset;i<a&&(i=s);const r=e?i-a:0,l=e?i:c;if(e&&0===r){const[e]=o.splitText(r,l);e.remove()}else{const[,e]=o.splitText(r,l);e.remove()}}else{const e=(0,i.sT)(d);o.replace(e)}a=0}}}(e,s,t))}})))}function Ze(){const e=document.getElementById("csrf_token");return e?e.value:"csrf-not-found"}function $e(e){const t=new DataTransfer;for(let n of e)t.items.add(n);return t.files}function Qe(e){return Boolean(e._rootElement&&e._rootElement.hasAttribute("data-no-color"))}const et=new Set(["math-markup-lexical","lex-embed-news","lex-embed-youtube","lex-embed-tiktok","lex-embed-twitter","lex-embed-instagram","details-content-lexical","tables-lexical","horizontal-rule-lexical","view-content-lexical","lexical-block-edit-dialog","lexical-table-cell-bg","edit-table-lexical","lex-upload-file-dialog","lex-insert-custom-html","image-bg-color-dialog","column-layout-lexical","coding-lang-lexical","insert-previous-lexical"]);function tt(e){const t=e.detail.dialogID,n=document.getElementById("insert-after-lexical-layout");if(n&&et.has(t)){switch(t){case"coding-lang-lexical":{const e=X;n.insertAdjacentHTML("afterbegin",e);break}case"column-layout-lexical":{const e=G;n.insertAdjacentHTML("afterbegin",e);break}case"details-content-lexical":{const e=F;n.insertAdjacentHTML("afterbegin",e);break}case"edit-table-lexical":{const e=J;n.insertAdjacentHTML("afterbegin",e);break}case"lexical-table-cell-bg":{const e=W(Ee(),ke());n.insertAdjacentHTML("afterbegin",e);break}case"tables-lexical":{const e=H;n.insertAdjacentHTML("afterbegin",e);break}case"horizontal-rule-lexical":{const e=q(ke());n.insertAdjacentHTML("afterbegin",e);break}case"image-bg-color-dialog":{const e=V(Ee());n.insertAdjacentHTML("afterbegin",e);break}case"insert-previous-lexical":{const e=Y;n.insertAdjacentHTML("afterbegin",e);break}case"lex-embed-instagram":{const e=P;n.insertAdjacentHTML("afterbegin",e);break}case"lex-embed-news":{const e=B;n.insertAdjacentHTML("afterbegin",e);break}case"lex-embed-youtube":{const e=D;n.insertAdjacentHTML("afterbegin",e);break}case"lex-embed-tiktok":{const e=R;n.insertAdjacentHTML("afterbegin",e);break}case"lex-embed-twitter":{const e=z;n.insertAdjacentHTML("afterbegin",e);break}case"lex-upload-file-dialog":{const e=U;n.insertAdjacentHTML("afterbegin",e);break}case"lexical-block-edit-dialog":{const e=K(Ee(),ke());n.insertAdjacentHTML("afterbegin",e);break}case"math-markup-lexical":{const e=O;n.insertAdjacentHTML("afterbegin",e);break}case"view-content-lexical":{const e=j;n.insertAdjacentHTML("afterbegin",e);break}default:return void console.error(t+" is not a valid lexical dialog ID.")}const e=document.getElementById(t);e&&(document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:n}})),document.dispatchEvent(new CustomEvent("OPEN_LEXICAL_DIALOG_FINAL",{detail:{el:e}})),"insert-previous-lexical"===t&&setTimeout((()=>{document.dispatchEvent(new CustomEvent("ON_AFTER_RELOAD_HISTORY"))}),250))}}function nt(e){e.detail.dialog.setAttribute("hidden",""),e.detail.dialog.style.setProperty("display","none"),window.unloadCodeEditorsBeforeSwap&&window.unloadCodeEditorsBeforeSwap(e.detail.dialog),window.unloadLexicalEditorsBeforeSwap&&window.unloadLexicalEditorsBeforeSwap(e.detail.dialog),e.detail.dialog.remove()}function ot(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const at=new Set(["left","center","right","justify"]);class it extends i.Kp{constructor(e,t){super(t),ot(this,"__version",1),this.__format=e||"left"}exportJSON(){return{format:this.__format||"",type:"decorator-block",version:1,first_element:this.getFirstElement()}}createDOM(){const e=document.createElement("div");return e.style.textAlign=this.__format,e.style.whiteSpace="normal",e.setAttribute("data-v",String(1)),this.getFirstElement()&&e.classList.add("first-rte-element"),this.getLastElement()&&e.classList.add("last-rte-element"),e}updateDOM(e,t,n){return!1}exportDOM(e){const t=document.createElement("div");return t.setAttribute("data-frank-decorator-block",""),t.setAttribute("data-text-align",this.getFormat()),t.style.setProperty("text-align",this.getFormat()),this.getFirstElement()&&!Be&&t.classList.add("first-rte-element"),this.getLastElement()&&!Be&&t.classList.add("last-rte-element"),{element:t}}static importDOM(){return{div:e=>e.hasAttribute("data-frank-decorator-block")?{conversion:rt,priority:3}:null}}getFormat(){return this.getLatest().__format}setFormat(e){this.getWritable().__format=e}isInline(){return!1}canAlign(){return!0}isKeyboardSelectable(){return!0}}function rt(e){const t=e.getAttribute("data-text-align"),n=e.classList.contains("first-rte-element"),o=e.classList.contains("last-rte-element");if(a=t,Boolean("left"===a||"center"===a||"right"===a||"justify"===a)){const e=lt(t);return e.setFirstElement(n),e.setLastElement(o),{node:e}}{const e=lt();return e.setFirstElement(n),e.setLastElement(o),{node:e}}var a}function lt(e){return e?new it(e):new it}function st(e){return e instanceof it}class ct extends it{static getType(){return"news"}static clone(e){return new ct({url:e.getURL(),title:e.getTitle(),description:e.getDescription(),imageURL:e.getImageURL(),host:e.getHost()},e.__format,e.__key)}static importJSON(e){const{url:t,title:n,description:o,imageURL:a,host:i,format:r}=e,l=ut({url:t,title:n,description:o,imageURL:a,host:i,format:r});return l.setFirstElement(null==e?void 0:e.first_element),l}exportJSON(){return{...super.exportJSON(),url:this.getURL(),title:this.getTitle(),description:this.getDescription(),imageURL:this.getImageURL(),host:this.getHost(),type:"news",first_element:this.getFirstElement(),version:1}}static importDOM(){return{div:e=>e.hasAttribute("data-href")&&e.hasAttribute("data-news-title")&&e.hasAttribute("data-news-description")&&e.hasAttribute("data-news-image-url")&&e.hasAttribute("data-host")?{conversion:dt,priority:3}:null}}exportDOM(){const e=document.createElement("div");return e.setAttribute("data-href",this.getURL()),e.setAttribute("data-news-title",this.getTitle()),e.setAttribute("data-news-description",this.getDescription()),e.setAttribute("data-news-image-url",this.getImageURL()),e.setAttribute("data-host",this.getHost()),e.setAttribute("data-v",String(1)),e.style.textAlign=this.getFormat(),this.getFirstElement()&&!Be&&e.classList.add("first-rte-element"),this.getLastElement()&&!Be&&e.classList.add("last-rte-element"),{element:e}}constructor(e,t,n){super(t||"center",n),ot(this,"__version",1),this.__url=e.url,this.__title=e.title,this.__description=e.description,this.__imageURL=e.imageURL,this.__host=e.host}getURL(){return this.getLatest().__url}getTitle(){return this.getLatest().__title}getDescription(){return this.getLatest().__description}getImageURL(){return this.getLatest().__imageURL}getHost(){return this.getLatest().__host}decorate(e,t){const n=e.getElementByKey(this.__key),o=function(e){const t=document.createElement("a");t.setAttribute("href",e.url),t.classList.add("lexical-news-article"),t.setAttribute("target","_blank"),t.setAttribute("title",e.url);const n=document.createElement("img");n.setAttribute("src",e.imageURL),n.setAttribute("width","325"),n.setAttribute("height","160"),n.setAttribute("alt",e.title),n.setAttribute("data-text",e.description),n.setAttribute("loading","lazy");const o=document.createElement("p");o.classList.add("body1"),o.innerText=e.title;const a=document.createElement("span");return a.innerText=e.host,t.append(n),t.append(o),t.append(a),t}({url:this.getURL(),title:this.getTitle(),description:this.getDescription(),imageURL:this.getImageURL(),host:this.getHost()});return this.getFirstElement()&&o.classList.add("first-rte-element"),this.getLastElement()&&o.classList.add("last-rte-element"),n&&0===n.children.length&&n.insertAdjacentElement("afterbegin",o),o}}function dt(e){const t=String(e.getAttribute("data-href")),n=String(e.getAttribute("data-news-title")),o=String(e.getAttribute("data-news-description")),a=String(e.getAttribute("data-news-image-url")),i=String(e.getAttribute("data-host")),r=at.has(e.style.textAlign)?e.style.textAlign:"center",l=e.classList.contains("first-rte-element"),s=e.classList.contains("last-rte-element"),c=ut({url:t,title:n,description:o,imageURL:a,host:i,format:r});return c.setFirstElement(l),c.setLastElement(s),{node:c}}function ut(e){return new ct(e,e.format)}(0,i.gu)("INSERT_NEWS_NODE");class pt extends it{constructor(e,t,n){super(t,n),ot(this,"__version",1),this.__id=e}static getType(){return"youtube"}static clone(e){return new pt(e.__id,e.__format,e.__key)}static importJSON(e){const t=ht(e.videoID);return t.setFormat(e.format),t.setFirstElement(null==e?void 0:e.first_element),t}exportJSON(){return{...super.exportJSON(),type:"youtube",version:1,videoID:this.__id,first_element:this.getFirstElement()}}exportDOM(){const e=gt(document.createElement("iframe"),this.getId(),this.__format);return e.setAttribute("loading","lazy"),e.setAttribute("data-text-align",this.__format),e.setAttribute("data-v",String(1)),this.getFirstElement()&&!Be&&e.classList.add("first-rte-element"),this.getLastElement()&&!Be&&e.classList.add("last-rte-element"),{element:e}}static importDOM(){return{iframe:e=>e.hasAttribute("data-frank-youtube")?{conversion:mt,priority:1}:null}}updateDOM(){return!1}getId(){return this.__id}getTextContent(e,t){return"https://www.youtube.com/watch?v=".concat(this.__id)}decorate(e,t){const n=gt(document.createElement("iframe"),this.getId(),this.__format);this.getFirstElement()&&n.classList.add("first-rte-element"),this.getLastElement()&&n.classList.add("last-rte-element");const o=e.getElementByKey(this.__key);return o&&(0===o.children.length?o.append(n):o.style.textAlign=this.__format),n}}function gt(e,t,n){return e.classList.add("youtube-embed"),e.setAttribute("width","560"),e.setAttribute("height","315"),e.setAttribute("src","https://www.youtube-nocookie.com/embed/".concat(t)),e.setAttribute("frameborder","0"),e.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),e.setAttribute("allowfullscreen","true"),e.setAttribute("data-frank-youtube",""),e.setAttribute("loading","lazy"),e.style.textAlign=n,e}function mt(e){const t=e.getAttribute("src");if(t){const n=ht(t.replace("https://www.youtube-nocookie.com/embed/","")),o=e.getAttribute("data-text-align");"left"!==o&&"center"!==o&&"right"!==o&&"justify"!==o||n.setFormat(o);const a=e.classList.contains("first-rte-element"),i=e.classList.contains("last-rte-element");return n.setFirstElement(a),n.setLastElement(i),{node:n}}return null}function ht(e){return new pt(e)}const ft=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;(0,i.gu)("INSERT_YOUTUBE_COMMAND");const bt=e=>Math.min(Math.max(1,e),10);class vt extends it{constructor(e,t,n){super(n,t),ot(this,"__version",1),e?(i.zG.test(String(e.color))?this.__color=e.color:this.__color="var(--divider)",this.__width=bt(e.width)):(this.__color="var(--divider)",this.__width=1)}static clone(e){return new vt({color:e.getColor(),width:e.getWidth()})}static getType(){return"horizontal-rule"}getColor(){return this.getLatest().__color}getWidth(){return this.getLatest().__width}getTextContent(){return"\n-----\n"}setFormat(e){this.getWritable().__format="center"}getHorizontalRuleStyle(){const e=this.getLatest();return{color:e.__color,width:e.__width}}setHorizontalRuleStyle(e){let{color:t,width:n}=e;const o=this.getWritable();return o.__color=i.zG.test(t)?t:"var(--divider)",o.__width=bt(n),o}static importJSON(e){const t=_t({color:e.color,width:e.width});return t.setFormat(e.format),t.setFirstElement(e.first_element),t}exportJSON(){return{...super.exportJSON(),type:this.getType(),version:1,color:this.getColor(),width:this.getWidth()}}exportDOM(){const e=yt(this.getHorizontalRuleStyle());return e.setAttribute("data-color",this.__color),e.setAttribute("data-width",this.__width.toString()),e.setAttribute("data-v",String(1)),this.getFirstElement()&&!Be&&e.classList.add("first-rte-element"),this.getLastElement()&&!Be&&e.classList.add("last-rte-element"),{element:e}}static importDOM(){return{hr:e=>({conversion:xt,priority:1})}}decorate(e,t){const n=yt(this.getHorizontalRuleStyle()),o=e.getElementByKey(this.__key);return this.getFirstElement()&&n.classList.add("first-rte-element"),this.getLastElement()&&n.classList.add("last-rte-element"),o&&(0===o.children.length?o.append(n):(o.style.borderBottomWidth=String(this.__width).concat("px"),"var(--divider)"===this.__color?(o.style.removeProperty("border-bottom-color"),o.classList.add("divider-color")):(o.classList.contains("divider-color")&&o.classList.remove("divider-color"),o.style.borderBottomColor=this.__color))),n}}function yt(e){const t=document.createElement("hr");t.classList.add("lexical");var n="border-bottom-width: ".concat(String(e.width)).concat("px !important;");return"var(--divider)"!==e.color&&e.color?i.zG.test(e.color)&&(t.classList.remove("divider-color"),n+="border-bottom-color: ".concat(e.color," !important;")):(t.style.removeProperty("border-bottom-color"),t.classList.add("divider-color")),t.style.cssText=n,t}function xt(e){var t=e.getAttribute("data-color")||"",n=parseInt(e.getAttribute("data-width")||"");const o=e.classList.contains("first-rte-element"),a=e.classList.contains("last-rte-element");i.zG.test(t)||(t="var(--divider)"),(isNaN(n)||n<1||n>10)&&(n=1);const r=_t({color:t,width:n});return r.setFirstElement(o),r.setLastElement(a),{node:r}}function _t(e){return new vt(e)}function wt(e){return e instanceof vt}(0,i.gu)("INSERT_HORIZONTAL_RULE_COMMAND"),(0,i.gu)("FORMAT_HORIZONTAL_RULE_COMMAND");class Et extends it{constructor(e,t,n){super(n,t),ot(this,"__version",1),ot(this,"__text",void 0),this.__src=e.src,this.__title=e.title,this.__text=e.text}static getType(){return"audio-node"}static clone(e){return new Et({src:e.getSrc(),title:e.getTitle()})}getTitle(){return this.getLatest().__title}setTitle(e){const t=this.getWritable();return t.__title=e,t}getSrc(){return this.getLatest().__src}setSrc(e){const t=this.getWritable();e.startsWith("https://audio.storething.org/")&&(t.__src=e)}getText(){return this.getLatest().__text}setText(e){return this.getWritable().__text=e,e}getTextContent(){const e=this.getLatest(),t=e.getTitle(),n=e.getText(),o=e.getSrc();return"[Audio](".concat(o,")\nTitle: ").concat(t,"\nTranscription: ").concat(n?'"""'.concat(n,'"""'):"N/A")}setFormat(e){this.getWritable().__format="left"}static importJSON(e){const t=St({src:e.src,title:e.title});return t.setFormat(e.format),t}exportJSON(){return{...super.exportJSON(),type:"audio-node",version:1,src:this.getSrc(),title:this.getTitle(),first_element:this.getFirstElement()}}exportDOM(){const e=document.createElement("audio");return e.setAttribute("data-src",this.getSrc()),e.setAttribute("data-title",this.getTitle()),e.setAttribute("data-v",String(1)),this.getFirstElement()&&!Be&&e.classList.add("first-rte-element"),this.getLastElement()&&!Be&&e.classList.add("last-rte-element"),{element:e}}static importDOM(){return{audio:e=>({conversion:kt,priority:1})}}updateDOM(){return!1}decorate(e,t){const n=function(e,t){const n=!Oe(),o="iN_"+window.crypto.randomUUID(),a="audio-input-src-".concat(o),i="audio-input-title-".concat(o),r="audio_rand_id_".concat(window.crypto.randomUUID()),l="audio_rand_id_".concat(window.crypto.randomUUID()),s="audio_rand_id_".concat(window.crypto.randomUUID()),c="audio_rand_id_".concat(window.crypto.randomUUID()),d="audio_rand_id_".concat(window.crypto.randomUUID()),u="audio_rand_id_".concat(window.crypto.randomUUID()),p="audio_rand_id_".concat(window.crypto.randomUUID());var g;t?"boolean"==typeof t?((g=document.createElement("p")).classList.add("body1","bold"),g.innerText="Placeholder Audio Title"):"string"==typeof t?((g=document.createElement("p")).classList.add("body1","bold"),g.innerText=t):g=document.createElement("p"):((g=document.createElement("input")).setAttribute("type","text"),g.setAttribute("hidden",""),g.setAttribute("name",a),g.setAttribute("id",a),g.setAttribute("value",String(e)));const m=document.createElement("audio");if(m.setAttribute("controls",""),m.setAttribute("hidden",""),m.setAttribute("data-resume","false"),m.setAttribute("data-play-through","true"),m.setAttribute("data-src",e),m.setAttribute("preload","metadata"),"boolean"==typeof t&&!0===t){const t=document.createElement("source");t.setAttribute("src",e),m.append(t)}else{const{audioSources:t,key:n,name:o}=function(e){const t=[],n=e.replace("https://audio.storething.org/frankmbrown/",""),o=n.slice(0,n.lastIndexOf(".")),a=n.slice(n.lastIndexOf(".")+1);for(let e of Ct)t.push({src:"https://audio.storething.org/frankmbrown/".concat(o,".").concat(e.audioCodec,".").concat(e.extension),type:e.type});return t.push({src:e,type:"audio/".concat(a)}),{audioSources:t,name:o,key:n}}(e),a=document.createElement("track");a.setAttribute("default",""),a.setAttribute("kind","captions"),a.setAttribute("src","/vtt/audio/".concat(o)),a.setAttribute("srclang","en"),m.append(a);for(let e of t){const t=document.createElement("source");t.setAttribute("src",e.src),t.setAttribute("type",e.type),m.append(t)}}const h=Boolean(!Oe());return'\n  <div class="audio mt-3" data-audio-wrapper style="margin: 10px 0px;">\n    '.concat(m.outerHTML,'\n    <div class="audio-header align-center gap-2" style="margin-bottom: 4px;">\n      ').concat(g.outerHTML,"\n      ").concat(Boolean(t)?"":'\n      <div class="input-group grow-1" data-hover="false" data-focus="false" data-error="false" data-blurred="false">\n        <label for="'.concat(i,'" class="caption bold">Audio Title*:</label>\n        <div class="text-input block medium">\n            <input \n            type="text" \n            autocomplete="off" \n            name="').concat(i,'" \n            id="').concat(i,'" \n            class="medium icon-before mt-1" \n            required\n            placeholder="Enter the Audio Title..." \n            maxlength="50"\n            minlength="1" \n            spellcheck="false" \n            autocapitalize="off"\n            >\n            <svg class="icon-before"  focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Title"><path d="M5 4v3h5.5v12h3V7H19V4z"></path></svg>\n        </div>\n      </div>\n      '),'\n      <div class="audio-time-left">\n        <span data-ellapsed="">0:00</span>\n        /\n        <span data-remaining="">0:00</span>\n      </div>\n    </div>\n    <p data-error-text class="caption w-100 t-error" hidden>There was an error loading this audio file. Try reloading the page.</p>\n    <p data-warn-text class="caption w-100 t-warning" hidden>There was an error loading the rest of the audio file. Try reloading the page.</p>\n    <div class="flex-row justify-start align-center">\n      <div class="flex-row align-center justify-center grow-0" data-main-controls>\n        <button data-play data-type="audio" class="icon large" type="button" aria-label="Play Audio">\n          <svg focusable="false" inert viewBox="0 0 24 24"><path d="M8 5v14l11-7L8 5z"></path></svg>\n        </button>\n        <button data-pause data-type="audio" hidden class="icon large" type="button" aria-label="Pause Audio">\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Pause"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>                  \n        </button>\n        <button data-replay data-type="audio" hidden class="icon large" type="button" aria-label="Replay Audio">\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Replay"><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"></path></svg>                  \n        </button>\n        <div data-load data-type="audio" hidden class="t-tsecondary">\n          <div class="lds-ring"><div></div><div></div><div></div><div></div></div>\n        </div>\n        <svg data-error hidden class="h6 t-error p-md" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Report">\n          <path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z">\n          </path>\n        </svg>\n      </div>\n      <input data-time data-type="audio" id="').concat(r,'" name="').concat(r,'" type="range" value="0" min="0" max="29" data-time-set="true" step="1" style="background-size: 0% 100%;">\n      <output hidden for="').concat(r,'">0</output>\n    </div>\n    <div class="flex-row align-center justify-start gap-2" style="max-width: 100%;">\n      <div ').concat(h?'data-popover data-mouse data-pelem="#'.concat(l,'" aria-describedby="').concat(l,'"'):"",'>\n        <button data-mute-button data-type="audio" class="icon medium" aria-label="Mute / Unmute Audio" title="Mute / Unmute Audio" type="button">\n          <svg data-type="sound-up" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="VolumeUp"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path></svg>\n          <svg hidden data-type="sound-down" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="VolumeDown"><path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"></path></svg>\n          <svg hidden data-type="muted" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="VolumeOff"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4 9.91 6.09 12 8.18V4z"></path></svg>\n        </button>\n      </div>\n      ').concat(n?'\n      <input data-sound data-type="audio" type="range" value="100" min="0" max="100" class="small primary" id="'.concat(c,'" name="').concat(c,'" style="background-size: 100% 100%;">\n      <output hidden for="').concat(c,'">100</output>\n      '):'<div class="grow-1"></div>','\n\n      <button data-closed-captions type="button" class="icon medium" aria-label="Closed Captioning" ').concat(h?'data-popover data-pelem="#'.concat(p,'" data-mouse'):"",'>\n        <svg data-on hidden focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ClosedCaption"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z"></path></svg>\n        <svg data-off focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ClosedCaptionOff"><path d="M19.5 5.5v13h-15v-13h15zM19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z"></path></svg>\n      </button>\n      <div ').concat(h?'data-popover data-mouse data-pelem="#'.concat(s,'" aria-describedby="').concat(s,'"'):"",'>\n        <div class="select" aria-label="Sound Playback Speed Select">\n          <button  ').concat(Boolean(n)?"":"data-force-close",' class="icon medium select auto-w" aria-label="Playback Speed" title="Playback Speed" data-popover data-click data-pelem="#').concat(d,'" aria-controls="').concat(d,'" aria-haspopup="listbox" aria-expanded="false" role="combobox" type="button">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Speed"><path d="m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"></path></svg>\n          </button>\n          <div ').concat(Boolean(n)?"":"data-click-capture",' tabindex="0" id="').concat(d,'" role="listbox" class="select-menu o-sm" style="width: 50px;" data-placement="bottom">\n            <input data-playback data-type="audio" type="text" hidden value="1" name="').concat(u,'" id="').concat(u,'">\n            <button tabindex="-1" class="select-option body2" role="option" aria-selected="false" data-val="0.25" type="button">\n              0.25\n            </button>\n            <button tabindex="-1" class="select-option body2" role="option" aria-selected="false" data-val="0.5" type="button">\n              0.5\n            </button>\n            <button tabindex="-1" class="select-option body2" role="option" aria-selected="false" data-val="0.75" type="button">\n              0.75\n            </button>\n            <button tabindex="-1" class="select-option body2" role="option" aria-selected="true" data-val="1" type="button">\n              1\n            </button>\n            <button tabindex="-1" class="select-option body2" role="option" aria-selected="false" data-val="1.25" type="button">\n              1.25\n            </button>\n            <button tabindex="-1" class="select-option body2" role="option" aria-selected="false" data-val="1.5" type="button">\n              1.5\n            </button>\n            <button tabindex="-1" class="select-option body2" role="option" aria-selected="false" data-val="1.75" type="button">\n              1.75\n            </button>\n            <button tabindex="-1" class="select-option body2" role="option" aria-selected="false" data-val="2" type="button">\n              2\n            </button>\n          </div>\n  \n        </div>\n      </div>\n      ').concat(h?'\n      <div data-placement="left-start" class="tooltip caption" id="'.concat(s,'" role="tooltip"> \n        Playback Speed\n      </div>\n      <div data-placement="top" class="tooltip caption" id="').concat(l,'" role="tooltip">\n        Mute / Unmute Audio\n      </div>\n      <div data-placement="top" class="tooltip caption" id="').concat(p,'" role="tooltip">\n        Closed Captioning\n      </div>\n      '):"","\n    </div>\n  </div>")}(this.getSrc(),String(this.getTitle())),o=e.getElementByKey(this.__key);o&&0===o.children.length&&o.insertAdjacentHTML("afterbegin",n);const a=document.createElement("audio");return a.setAttribute("src",this.getSrc()),a.setAttribute("data-title",this.getTitle()),a}}function kt(e){const t=St({src:e.getAttribute("src")||e.getAttribute("data-src")||"https://audio.storething.org/frankmbrown/default-audio.mp3",title:e.getAttribute("data-title")||"No Title Added"}),n=e.classList.contains("first-rte-element");t.setFirstElement(n);const o=e.classList.contains("last-rte-element");return t.setLastElement(o),{node:t}}const Ct=[{audioCodec:"aac",extension:"mp4",type:"audio/mp4"},{audioCodec:"flac",extension:"flac",type:"audio/flac"},{audioCodec:"opus",extension:"webm",type:"audio/mp3"}];function St(e){return new Et(e)}(0,i.gu)("INSERT_AUDIO_NODE"),(0,i.gu)("INSERT_AUDIO_NODES");class At extends it{constructor(e,t,n){super(n,t),ot(this,"__version",1),ot(this,"__text",void 0),this.__src=e.src,this.__title=e.title,this.__description=e.description,e.height?this.__height=Math.min(Math.max(100,e.height),400):this.__height=400,e.width&&(this.__width=e.width)}static getType(){return"video-node"}static clone(e){return new At({src:e.getSrc(),title:e.getTitle(),description:e.getDescription(),height:e.getHeight(),text:e.getText(),width:e.getWidth()})}getDescription(){return this.getLatest().__description}setDescription(e){const t=this.getWritable();return t.__description=e,t}getTitle(){return this.getLatest().__title}setTitle(e){const t=this.getWritable();return t.__title=e,t}getSrc(){return this.getLatest().__src}setSrc(e){const t=this.getWritable();e.startsWith("https://video.storething.org/")&&(t.__src=e)}setFormat(e){this.getWritable().__format="left"}getHeight(){return this.getLatest().__height}setHeight(e){this.getWritable().__height=Math.max(Math.min(400,e),100)}getWidth(){return this.getLatest().__width}setWidth(e){const t=this.getWritable();return t.__width=e,t}getText(){return this.getLatest().__test}setText(e){const t=this.getWritable();return t.__text=e,t}getTextContent(){const e=this.getLatest(),t=e.getTitle(),n=e.getDescription(),o=e.getText(),a=e.getSrc();return"[Video](".concat(a,")\nTitle: ").concat(t,"\nDescription: ").concat(n,"\nTranscription: ").concat(o?'"""'.concat(o,'"""'):"N/A")}static importJSON(e){const t=Lt({src:e.src,title:e.title,description:e.description,height:e.height,text:e.text,width:e.width});return t.setFormat(e.format),t.setFirstElement(null==e?void 0:e.first_element),t}exportJSON(){return{...super.exportJSON(),type:"video-node",version:1,src:this.getSrc(),title:this.getTitle(),description:this.getDescription(),height:this.getHeight(),text:this.getText(),width:this.getWidth(),first_element:this.getFirstElement()}}exportDOM(){const e=document.createElement("video");e.setAttribute("data-src",this.getSrc()),e.setAttribute("data-title",this.getTitle()),e.setAttribute("data-description",this.getDescription());const t=this.getHeight();return t?e.setAttribute("height",String(t)):e.setAttribute("height","400"),e.setAttribute("data-width","width"),e.setAttribute("data-v",String(1)),this.getFirstElement()&&!Be&&e.classList.add("first-rte-element"),this.getLastElement()&&!Be&&e.classList.add("last-rte-element"),{element:e}}static importDOM(){return{video:e=>({conversion:Tt,priority:2})}}updateDOM(){return!1}decorate(e,t){const n=function(e,t,n){const o=!Oe(),a="iN_"+window.crypto.randomUUID(),i="video-input-src-".concat(a),r="video-input-title-".concat(a),l="video-input-description-".concat(a),s="video_rand_id_".concat(window.crypto.randomUUID()),c="video_rand_id_".concat(window.crypto.randomUUID()),d="video_rand_id_".concat(window.crypto.randomUUID()),u="video_rand_id_".concat(window.crypto.randomUUID()),p="video_rand_id_".concat(window.crypto.randomUUID()),g="video_rand_id_".concat(window.crypto.randomUUID()),m="video_rand_id_".concat(window.crypto.randomUUID()),h=document.createElement("video");h.setAttribute("data-play-through","true"),h.setAttribute("playsinline",""),h.setAttribute("webkit-playsinline",""),h.setAttribute("data-src",e),h.setAttribute("preload","metadata"),n&&(h.setAttribute("height",String(n)),h.setAttribute("data-height",String(n)));{const{videoSources:t,key:n,name:o}=function(e){const t=[],n=e.replace("https://video.storething.org/frankmbrown/",""),o=n.slice(0,n.lastIndexOf(".")),a=n.slice(n.lastIndexOf(".")+1);for(let e of Nt)t.push({src:"https://video.storething.org/frankmbrown/".concat(o,".").concat(e.videoCodec,".").concat(e.extension),type:e.type});return t.push({src:e,type:"video/".concat(a)}),{videoSources:t,name:o,key:n}}(e);h.setAttribute("poster","https://image.storething.org/frankmbrown/".concat(o,"-thumbnail.png"));const a=document.createElement("track");a.setAttribute("default",""),a.setAttribute("kind","captions"),a.setAttribute("src","/vtt/video/".concat(o)),a.setAttribute("srclang","en"),h.append(a);for(let e of t){const t=document.createElement("source");t.setAttribute("src",e.src),t.setAttribute("type",e.type),h.append(t)}}const f=document.createElement("input");f.setAttribute("value",e),f.setAttribute("hidden",""),f.setAttribute("type","text"),f.setAttribute("id",i),f.setAttribute("name",i);var b="";if(void 0!==t){const e=document.createElement("div");e.className="video-info";const n=document.createElement("p");n.className="bold h4",n.innerText=t.title;const o=document.createElement("p");o.className="body1",o.innerText=t.description,e.append(n,o),b=e.outerHTML}const v=Boolean(!Oe());return'<div class="video-wrapper" data-video-wrapper style="margin: 10px 0px;">\n  <div class="video" data-fullscreen="false" data-focus="false" data-hover="false">\n    '.concat(h.outerHTML,'\n    <div class="video-controls">\n      <div class="block">\n        <input data-time data-type="video" type="range" id="').concat(s,'" name="').concat(s,'" class="video small primary" min="0" value="0" max="422" data-time-set="true" step="1" style="background-size: 0% 100%;">\n      </div>\n      <div class="flex-row justify-begin align-center gap-2 p-sm" style="padding-top:0px;" data-row-2>\n        <div class="flex-row align-center justify-center grow-0" data-main-controls>\n          <button data-play data-type="video" class="icon large" type="button" aria-label="Play Audio">\n            <svg focusable="false" inert viewBox="0 0 24 24"><path d="M8 5v14l11-7L8 5z"></path></svg>\n          </button>\n          <button data-pause data-type="video" hidden class="icon large" type="button" aria-label="Pause Audio">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Pause"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>                  \n          </button>\n          <button data-replay data-type="video" hidden class="icon large" type="button" aria-label="Replay Audio">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Replay"><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"></path></svg>                  \n          </button>\n          <div data-load data-type="video" hidden class="t-tsecondary">\n            <div class="lds-ring"><div></div><div></div><div></div><div></div></div>\n          </div>\n          <svg data-error data-type="video" hidden class="h6 t-error p-md" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"></path></svg>\n        </div>\n        <div ').concat(v?'data-popover data-mouse data-pelem="#'.concat(c,'" aria-describedby="').concat(c,'"'):"",'>\n          <button data-mute-button data-type="video" class="icon medium" aria-label="Mute / Unmute Audio" title="Mute / Unmute Audio" type="button">\n            <svg data-type="sound-up" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="VolumeUp"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path></svg>\n            <svg hidden data-type="sound-down" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="VolumeDown"><path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"></path></svg>\n            <svg hidden data-type="muted" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="VolumeOff"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4 9.91 6.09 12 8.18V4z"></path></svg>\n          </button>\n        </div>\n        ').concat(v?'\n        <input class="small secondary" data-sound data-type="video" id="'.concat(d,'" name="').concat(d,'" type="range" value="100" min="0" max="100" step="1" style="background-size: 100% 100%;">\n        <output for="').concat(d,'" hidden>100</output>\n        '):'<div class="grow-1"></div>','\n        <div class="video-time-left">\n          <span data-ellapsed>0:00</span>\n          /\n          <span data-remaining>0:00</span>\n        </div>\n        <button data-closed-captions type="button" class="icon medium" aria-label="Closed Captioning" ').concat(v?'data-popover data-pelem="#'.concat(m,'" data-mouse'):"",'>\n          <svg data-on hidden focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ClosedCaption"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z"></path></svg>\n          <svg data-off focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ClosedCaptionOff"><path d="M19.5 5.5v13h-15v-13h15zM19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z"></path></svg>\n        </button>\n        <div ').concat(v?'data-popover data-mouse data-pelem="#'.concat(g,'" aria-describedby="').concat(g,'"'):"",'>\n          <div class="select" aria-label="Sound Playback Speed Select">\n            <button ').concat(Boolean(o)?"":"data-force-close",' class="icon medium select auto-w" aria-label="Playback Speed" title="Playback Speed" data-popover data-click data-pelem="#').concat(u,'" aria-controls="').concat(u,'" aria-haspopup="listbox" aria-expanded="false" role="combobox" type="button">\n              <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Speed"><path d="m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"></path></svg>\n            </button>\n            <div ').concat(Boolean(o)?"":"data-click-capture",' tabindex="0" id="').concat(u,'" role="listbox" class="select-menu o-sm" style="width: 50px;" data-placement="top">\n              <input data-playback data-type="video" type="text" hidden value="1" name="').concat(p,'" id="').concat(p,'">\n              <button tabindex="-1" class="select-option body2" role="option" aria-selected="false" data-val="0.25" type="button">\n                0.25\n              </button>\n              <button tabindex="-1" class="select-option body2" role="option" aria-selected="false" data-val="0.5" type="button">\n                0.5\n              </button>\n              <button tabindex="-1" class="select-option body2" role="option" aria-selected="false" data-val="0.75" type="button">\n                0.75\n              </button>\n              <button tabindex="-1" class="select-option body2" role="option" aria-selected="true" data-val="1" type="button">\n                1\n              </button>\n              <button tabindex="-1" class="select-option body2" role="option" aria-selected="false" data-val="1.25" type="button">\n                1.25\n              </button>\n              <button tabindex="-1" class="select-option body2" role="option" aria-selected="false" data-val="1.5" type="button">\n                1.5\n              </button>\n              <button tabindex="-1" class="select-option body2" role="option" aria-selected="false" data-val="1.75" type="button">\n                1.75\n              </button>\n              <button tabindex="-1" class="select-option body2" role="option" aria-selected="false" data-val="2" type="button">\n                2\n              </button>\n            </div>\n            ').concat(v?'\n            <div data-placement="top" class="tooltip caption" id="'.concat(c,'" role="tooltip">\n              Mute / Unmute Audio\n            </div>\n            <div data-placement="left-start" class="tooltip caption" id="').concat(g,'" role="tooltip">\n              Playback Speed\n            </div>\n            <div data-placement="top" class="tooltip caption" id="').concat(m,'" role="tooltip">\n              Closed Captions\n            </div>\n            '):"",'\n          </div>\n        </div>\n        <button class="icon medium" data-fullscreen type="button">\n          <svg data-type="fullscreen" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="FullscreenSharp"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path></svg>\n          <svg data-type="no-fullscreen" hidden focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="FullscreenExit"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"></path></svg>\n        </button>\n      </div>\n    </div>\n  </div>\n  ').concat(t?b:'\n  <div class="video-info">\n    '.concat(f.outerHTML,'\n    <div class="input-group block" data-hover="false" data-focus="false" data-error="false" data-blurred="false">\n      <label for="').concat(r,'" class="caption bold">Video Title*:</label>\n      <div class="text-input block medium">\n          <input \n          type="text" \n          name="').concat(r,'" \n          id="').concat(r,'" \n          class="medium icon-before mt-1" \n          required\n          placeholder="Enter Video Title..." \n          maxlength="50"\n          minlength="1" \n          spellcheck="false" \n          autocapitalize="off"\n          autocomplete="off"\n          >\n          <svg class="icon-before"  focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Title"><path d="M5 4v3h5.5v12h3V7H19V4z"></path></svg>\n          \x3c!-- Buttons and SVGs --\x3e\n      </div>\n    </div>\n    <div class="input-group block mt-1" data-hover="false" data-focus="false" data-error="false" data-blurred="false"> \n      <label for="').concat(l,'" class="caption bold">Video Description:</label>\n      <div class="mt-1 text-input block medium disabled">\n          <textarea \n          name="').concat(l,'" \n          id="').concat(l,'" \n          placeholder="Enter a description of the video..." \n          rows="5" \n          maxlength="200" \n          spellcheck="false"\n          autocomplete="off"\n          autocapitalize="off"\n          style=""\n          ></textarea>\n      </div>\n      <p class="char-counter" data-input="').concat(l,'">\n          <span class="max-counter body2" data-val="200" aria-hidden="false">Characters Remaining</span>\n      </p>\n    </div>\n  </div>\n  '),"\n</div>")}(this.getSrc(),{title:this.getTitle(),description:this.getDescription()},String(this.getHeight()||400)),o=e.getElementByKey(this.__key);o&&0===o.children.length&&o.insertAdjacentHTML("afterbegin",n);const a=document.createElement("video");return a.setAttribute("src",this.getSrc()),a.setAttribute("data-title",this.getTitle()),a}}function Tt(e){const t=e.getAttribute("src")||e.getAttribute("data-src"),n=e.getAttribute("data-title"),o=e.getAttribute("data-description"),a=e.getAttribute("height"),i=a&&Number.isInteger(parseInt(a))?parseInt(a):400,r=e.getAttribute("data-width"),l=r&&Number.isInteger(parseInt(r))?parseInt(r):void 0,s=e.classList.contains("first-rte-element"),c=e.classList.contains("last-rte-element"),d=Lt({src:t||"https://video.storething.org/frankmbrown/default-video.mp4",title:n||"No Title Added",description:o||"",height:i,width:l});return d.setFirstElement(s),d.setLastElement(c),{node:d}}const Nt=[{videoCodec:"libvpx",extension:"webm",type:"video/webm"},{videoCodec:"libx264",extension:"mp4",type:"video/mp4"}];function Lt(e){return new At(e)}const It={behavior:"smooth",block:"start",inline:"center",block:"end"};var Mt=void 0,Ot=void 0;const Bt=(0,i.gu)("INSERT_AUDIO_NODE"),Dt=(0,i.gu)("INSERT_HORIZONTAL_RULE_COMMAND"),Rt=(0,i.gu)("FORMAT_HORIZONTAL_RULE_COMMAND"),zt=(0,i.gu)("INSERT_IMAGE_COMMAND"),Pt=(0,i.gu)("INSERT_IMAGES_COMMAND"),Ft=(0,i.gu)("INSERT_NEWS_NODE"),Ht=(0,i.gu)("INSERT_VIDEO_NODE"),qt=(0,i.gu)("INSERT_YOUTUBE_COMMAND"),jt=(0,i.gu)("CAROUSEL_CLICK"),Kt=e=>Math.min(Math.max(1,e),10);function Wt(e){const t=e.getRootElement(),n=new Set;return Array.isArray(Mt)&&t&&Mt.forEach((e=>{const o='div[data-node-key="'.concat(String(e)).concat('"]'),a=t.querySelector(o),r=(0,i.ns)(e);!a||"math"===(null==r?void 0:r.getType())&&r.getEditable()||a.classList.add("selected-decorator-block"),r&&n.add(r.getType())})),n}var Jt=void 0,Ut={priority:"",value:"default"},Vt=void 0;function Gt(e){const t=e instanceof MouseEvent,n=t?e.clientX:e.touches[0].clientX,o=t?e.clientY:e.touches[0].clientY;if(Ot&&Vt&&!isNaN(n)&&!isNaN(o)){const e=Vt.direction;if("n"===e||"s"===e){const t=Boolean("n"===e)?-1:1;let n=Math.floor(Vt.startY-o);const a=Math.max(Math.min(Mn(Vt.editorType),Vt.startHeight-t*n),Nn);Ot.style.height="".concat(a,"px"),Vt.currentHeight=a}else if("w"===e||"e"===e){const t=Boolean("w"===e)?-1:1;let o=Math.floor(Vt.startX-n);const a=Math.max(Math.min(In(Vt.editorType),Vt.startWidth-t*o),Nn);Ot.style.width="".concat(a,"px"),Vt.currentWidth=a}else{const t=Boolean("nw"===e||"sw"===e)?-1:1;let o=Math.floor(Vt.startX-n);const a=Math.max(Math.min(In(Vt.editorType),Vt.startWidth-t*o),Nn),i=a/Vt.ratio;Ot.style.width="".concat(a,"px"),Ot.style.height="".concat(i,"px"),Vt.currentWidth=a,Vt.currentHeight=i}}}function Xt(){const e=de();if(Ot&&Vt&&e){const t=Ot.closest('span[data-frank-decorator="true"]');if(t){const n=t.getAttribute("data-node-key");if(n){e.update((()=>{const t=(0,i.ns)(n);if(t&&Pn(t)){const n=Vt.currentWidth,o=Vt.currentHeight;if(Vt.editorType=e._editorType,"number"==typeof n&&"number"==typeof o){const e=Math.round(n),a=Math.round(o);Ot&&Ot.style.removeProperty("height"),t.setWidth(Number(e.toFixed(2))),t.setHeight(Number(a.toFixed(2))),t.setOriginalDevice(Q())}}}));const t=Ot.nextElementSibling;t&&t.classList.remove("image-control-wrapper--resizing");const o=e.getRootElement();o&&(o.style.setProperty("cursor","text"),document.body.style.setProperty("cursor","default"),document.body.style.setProperty("-webkit-user-select",Ut.value,Ut.priority)),Vt=void 0}}}Oe()?(document.addEventListener("touchmove",Gt),document.addEventListener("touchend",Xt)):(document.removeEventListener("mousemove",Gt),document.removeEventListener("mouseup",Xt))}function Yt(e){const t=e instanceof MouseEvent,n=t?e.clientX:e.touches[0].clientX,o=t?e.clientY:e.touches[0].clientY,a=this.getAttribute("data-dir"),i=de(),r=this.parentElement;if(Ot&&i&&r&&a&&!isNaN(n)&&!isNaN(o)){e.preventDefault();const t=i.getRootElement();if(t){"e"===a||"w"===a?(t.style.setProperty("cursor","ew-resize","important"),document.body.style.setProperty("cursor","ew-resize","important")):"n"===a||"s"===a?(t.style.setProperty("cursor","ns-resize","important"),document.body.style.setProperty("cursor","ns-resize","important")):"ne"===a||"sw"===a?(t.style.setProperty("cursor","nesw-resize","important"),document.body.style.setProperty("cursor","nesw-resize","important")):"nw"!==a&&"se"!==a||(t.style.setProperty("cursor","nwse-resize","important"),document.body.style.setProperty("cursor","nwse-resize","important")),Ut.value=document.body.style.getPropertyValue("-webkit-user-select"),Ut.priority=document.body.style.getPropertyPriority("-webkit-user-select"),document.body.style.setProperty("-webkit-user-select","none","important");const{width:e,height:l}=Ot.getBoundingClientRect(),s=Ot.style.height,c=Ot.style.width;Vt={currentHeight:s?l:"auto",currentWidth:c?e:"auto",direction:a,isResizing:!0,ratio:e/l,startHeight:l,startWidth:e,startX:n,startY:o,editorType:i._editorType},r.classList.add("image-control-wrapper--resizing")}}isNaN(n)||isNaN(o)||(Oe()?(document.addEventListener("touchmove",Gt),document.addEventListener("touchend",Xt)):(document.addEventListener("mousemove",Gt),document.addEventListener("mouseup",Xt)))}function Zt(e,t){const n=(0,i.vJ)();var o=null;if((0,i.RT)(n)){const r=n.getNodes();for(let e of r){const t=Ko(e,(e=>{var t;return Boolean(e.getParent()&&"root"===(null===(t=e.getParent())||void 0===t?void 0:t.__type))}));if(t){const e=t.getPreviousSiblings(),n=t.getNextSiblings();var a=null;for(let t=0;t<Math.max(e.length,n.length);t++){if(e[t]&&(0,i.ff)(e[t])){a=e[t];break}if(n[t]&&(0,i.ff)(n[t])){a=n[t];break}}if(a){o=a;break}}}if(!0===n.dirty)return!1;t.preventDefault(),r.forEach((t=>{if(!(t&&t.getType&&"math"===t.getType()&&t.getEditable()&&t.getTextContent().length>0||t&&t.getType&&"math"===t.getType()&&t.getTextContent().length>0))if(t&&t.getType&&"html"===t.getType()){const n=e.getElementByKey(t.getKey());if(n){const e=n.querySelector("div[data-custom-code]");if(!e||"false"!==e.getAttribute("data-editing"))return;t.remove()}}else t.remove()}));const l=(0,i.Ni)(),s=(0,i.uT)();return o?(s.anchor.set(o.__key,0,"element"),s.anchor.set(o.__key,0,"element")):(s.anchor.set(l.__key,0,"element"),s.focus.set(l.__key,0,"element")),(0,i.n1)(s),!0}return!1}function $t(){var e;Ot&&(null===(e=Ot.nextElementSibling)||void 0===e||e.remove(),Ot.classList.remove("focused","draggable"),Ot.parentElement&&Ot.parentElement.setAttribute("draggable","false"))}function Qt(e){if(e.preventDefault(),e.stopPropagation(),Jt){const e=this.closest("div.dialog-wrapper"),t=document.getElementById("image-bg-color-lex"),n=document.getElementById("image-bg-color-lex-transparent"),o=document.getElementById("img-short-description"),a=document.getElementById("img-long-description"),r=pe()[Jt.editorNamespace];if(r&&t&&n&&e&&o&&a){const l=n.checked,s=t.value;l||!i.zG.test(s)?r.update((()=>{var t;const n=(0,i.ns)(String(null===(t=Jt)||void 0===t?void 0:t.nodeKey));Pn(n)&&(n.setBackgroundColor(void 0),n.setShort(o.value),n.setLong(a.value)),Jt=void 0,me(e)})):r.update((()=>{var t;const n=(0,i.ns)(String(null===(t=Jt)||void 0===t?void 0:t.nodeKey));Pn(n)&&(n.setBackgroundColor(s),n.setShort(o.value),n.setLong(a.value)),Jt=void 0,me(e)}))}}}function en(){const e=document.getElementById("horizontal-rule-lexical");if(e){const t=e.querySelector("form"),n=e.querySelector("p[data-title]");return{form:t,checkbox:e.querySelector('input[type="checkbox"]'),title:n,color:e.querySelector('input[type="color"]'),width:e.querySelector('input[type="number"]'),example:e.querySelector("hr[data-example]"),dialog:e}}return null}function tn(e,t){const n=e.closest("div.lexical-wrapper");if(n){const e=Array.from(n.querySelectorAll("div[data-insert-media]"));var o=void 0;e.forEach((e=>{if(e){const n=e.getAttribute("data-type");t===n?o=e:(e.setAttribute("hidden",""),e.className="")}})),o&&(o.removeAttribute("hidden"),o.className="block")}}function nn(e){tn(this,"image")}function on(e){tn(this,"audio")}function an(e){tn(this,"video")}function rn(e,t){const n=e.closest("div[data-insert-media]");if(n){n.className="",n.setAttribute("hidden",""),n.closest("div.lexical-wrapper");const e=n.querySelector("div[data-error]");e&&e.setAttribute("hidden","")}}function ln(e){rn(this)}function sn(e){const t=e.closest("div[data-form]");if(t){const e=t.querySelector("div[data-error-alert]");e&&e.removeAttribute("hidden")}}function cn(e){const t=this.closest("div[data-form]"),n=de();if(t&&n){const e=()=>{document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:this}}))},o=100,a=t.getAttribute("data-type"),i=t.getAttribute("data-count"),r=t.querySelector('input[type="file"]');if(!r)return;const l=r.getAttribute("name");if(!l)return;switch(a){case"image":const a=t.querySelector('input[type="text"][name="'.concat(l,'-text"]'));if("single"===i&&a){const i=a.value;if(!i.startsWith("https://image.storething.org/frankmbrown/"))return;const r=t.querySelector('input[name="'.concat(l,'-short-description"]')),s=t.querySelector('textarea[name="'.concat(l,'-long-description"]'));r&&s&&xn(i).then((t=>{let{width:a,height:l}=t;const c={src:i,short:r.value,long:s.value,width:a,height:l};n.dispatchCommand(zt,c),dn(this),rn(this),setTimeout(e,o)})).catch((e=>{console.error(e)}))}else if("multiple"===i&&a){const i=t.querySelector('input[name="multi-image-type"]:checked'),r=a.value.split("|").filter((e=>e.startsWith("https://image.storething.org/frankmbrown/"))).map((e=>{const n=t.querySelector('input[name="'.concat(e,'-short-description"]')),o=t.querySelector('textarea[name="'.concat(e,'-long-description"]'));return n&&o?{src:e,short:n.value,long:o.value}:null})).filter((e=>null!==e));r.length&&i&&("carousel"===i.value?Promise.all(r.map((e=>xn(e.src)))).then((t=>{const a=r.map(((e,n)=>({...e,width:t[n].width,height:t[n].height})));n.dispatchCommand(Vn,a),dn(this),rn(this),setTimeout(e,o)})).catch((e=>{console.error(e)})):"single"===i.value&&Promise.all(r.map((e=>xn(e.src)))).then((t=>{const a=r.map(((e,n)=>({...e,width:t[n].width,height:t[n].height})));n.dispatchCommand(Pt,a),dn(this),rn(this),setTimeout(e,o)})).catch((e=>{console.error(e)})))}return;case"audio":if("single"===i){const a=t.querySelector('input[type="text"][name^="audio-input-src-"]');if(a){const i=a.getAttribute("name").replace("audio-input-src-",""),r=t.querySelector('input[name="audio-input-title-'.concat(String(i)).concat('"]'));if(!r||!r.value.length)return void sn(this);const l={src:a.value,title:null!=r&&r.value?r.value:""};n.dispatchCommand(Bt,l),dn(this),rn(this),setTimeout(e,o)}}return;case"video":if("single"===i){const a=t.querySelector('input[type="text"][name^="video-input-src-"]');if(a){const i=a.getAttribute("name").replace("video-input-src-",""),r=t.querySelector('input[name="video-input-title-'.concat(String(i)).concat('"]')),l=t.querySelector('textarea[name="video-input-description-'.concat(String(i)).concat('"]')),s=a.closest("div.video-wrapper");if(s){const e=s.querySelector("video");if(e){const t=e.videoHeight,o=e.videoWidth;if(!r||!r.value.length)return void sn(this);const i={src:a.value,title:null!=r&&r.value?r.value:"",description:null!=l&&l.value?l.value:"",height:t,width:o};n.dispatchCommand(Ht,i)}}dn(this),rn(this),setTimeout(e,o)}}return;default:return}}}function dn(e,t){const n=e.closest("div[data-form]");n&&(Array.from(n.querySelectorAll("output")).forEach((e=>function(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}(e))),Array.from(n.querySelectorAll('input[type="file"]')).forEach((e=>{const t=e.className,o=e.getAttribute("type"),a=e.id,i=e.getAttribute("name"),r=e.getAttribute("accept");e.hasAttribute("data-image-input")&&e.dispatchEvent(new CustomEvent("delete-image",{detail:{inputName:i}}));const l=e.hasAttribute("multiple"),s=document.createElement("input");if(s.className=t,o&&s.setAttribute("type",o),r&&s.setAttribute("accept",r),a&&s.setAttribute("id",a),i){const e=n.querySelector('input[name="'.concat(i,'-text"]'));e&&e.remove(),s.setAttribute("name",i)}l&&s.setAttribute("multiple",""),e.hasAttribute("data-image-input")&&s.setAttribute("data-image-input",""),e.hasAttribute("data-audio-input")&&s.setAttribute("data-audio-input",""),e.hasAttribute("data-video-input")&&s.setAttribute("data-video-input","");const c=e.parentElement;c&&c.replaceChild(s,e),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:n}}))})),n.scrollIntoView(It))}function un(e){dn(this)}function pn(e){e.preventDefault();const t=en(),n=null==t?void 0:t.color,o=null==t?void 0:t.width,a=null==t?void 0:t.checkbox,r=null==t?void 0:t.dialog;if(t&&r&&a&&n&&o){const e=de();e&&Mt&&Mt.length>=1?e.update((()=>{var t=!1;Mt&&Mt.length>=1&&(Mt.forEach((r=>{var l=(0,i.ns)(r);if(l&&wt(l)){l.setHorizontalRuleStyle({color:a.checked?"var(--divider)":n.value,width:Number(o.value)}),t=!0;const i=e._rootElement;if(i){const e=i.querySelector('div[data-node-key="'.concat(r,'"]>hr'));e&&(e.style.setProperty("border-bottom-width",String(o.value).concat("px")),a.checked?(e.classList.add("divider-color"),e.style.removeProperty("border-bottom-color")):(e.classList.contains("divider-color")&&e.classList.remove("divider-color"),e.style.setProperty("border-bottom-color",n.value)))}}})),t||e.dispatchCommand(Dt,{color:a.checked?"var(--divider)":n.value,width:Number(o.value)}))})):e&&e.dispatchCommand(Dt,{color:a.checked?"var(--divider)":n.value,width:Number(o.value)}),me(t.dialog)}}function gn(e){const t=en();if(t&&t.checkbox&&t.color&&t.width&&t.example){const e=t.width.value,n=t.checkbox.checked,o=i.zG.test(t.color.value)?t.color.value:"var(--divider)",a=n?"var(--divider)":o;t.example.style.borderBottomWidth=String(e).concat("px"),t.example.style.borderBottomColor=a}}function mn(e,t){const n=t.querySelector("div[data-embed-error]");n&&n.setAttribute("hidden",""),e.reset(),me(t)}function hn(e){const t=e.querySelector("div[data-embed-error]");t&&t.removeAttribute("hidden")}const fn=/[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/;function bn(e){if("lex-embed-news"===e.detail.el.id){const e=document.getElementById("lex-embed-news");if(e){const t=e.querySelector("form");t&&t.addEventListener("submit",function(e,t){return function(n){!async function(e,t,n){try{const t=e.querySelector('input[id="lex-embed-news-input"]');if(!t)throw new Error("Please enter a valid url.");if(!fn.test(t.value))throw new Error("Please enter a valid url.");const o={embed_type:"news",url:t.value};fe("Generating News Article Embed...");const a=await fetch("/api/embed",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json","X-CSRF-Token":Ze()}});if(200!==a.status)throw new Error("Something went wrong embedding news.");const i=await a.json(),r=de();if(r&&r.dispatchCommand(Ft,i),be(),200!==a.status)throw new Error("Something went wrong embedding news content.");mn(e,n)}catch(e){be(),hn(n)}}(t,0,e)}}(e,t))}document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:e}}))}}function vn(e){if("lex-embed-youtube"===e.detail.el.id){const e=document.getElementById("lex-embed-youtube");if(e){const t=e.querySelector("form");t&&t.addEventListener("submit",function(e,t){return function(n){!function(e,t,n){try{const t=e.querySelector('input[type="url"]');if(!t)throw new Error("Can't find url for youtube video.");const o=function(e){try{if("https:"!==new URL(e).protocol)return!1;var t=e.match(ft);return!(!t||11!=t[2].length)&&String(t[2])}catch(e){return!1}}(t.value);if(!o)throw new Error("Invalid Youtube url.");{const t=de();t&&(t.dispatchCommand(qt,String(o)),mn(e,n))}}catch(e){be(),hn(n)}}(t,0,e)}}(e,t))}document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:e}}))}}const yn=e=>Boolean("math"===e.getType());function xn(e){return new Promise(((t,n)=>{const o=new Image;o.src=e,o.decode().then((()=>{t({width:Math.max(o.naturalWidth,50),height:Math.max(o.naturalHeight,25)})})).catch((e=>{console.error(e),t({width:50,height:25})}))}))}function _n(e){const t=this.parentElement;if(t){const e=t.querySelector("input");e&&(e&&e.addEventListener("gif-upload",wn),e.click())}}async function wn(e){try{const t=this.closest("div.lexical-wrapper");if(t&&t.id){const n=t.id,o=e.detail.urls,a=pe()[n];if(a){const e=await Promise.all(o.map((e=>xn(e))));a.dispatchCommand(Pt,o.map(((t,n)=>({src:t,short:"",long:"",width:e[n].width,height:e[n].height}))))}}}catch(e){console.error(e)}}function En(e){var t;const n=document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));if(n){const e=Array.from(n.querySelectorAll("button.close-insert-media-section")),t=Array.from(n.querySelectorAll("div[data-insert-media] button[data-submit]")),o=Array.from(n.querySelectorAll("div[data-insert-media] button[data-reset]")),a=n.querySelector("button[data-lexical-image-button]");a&&a.addEventListener("click",nn);const i=n.querySelector("button[data-lexical-audio-button]");i&&i.addEventListener("click",on);const r=n.querySelector("button[data-lexical-video-button]");r&&r.addEventListener("click",an),Array.isArray(e)&&e.forEach((e=>e.addEventListener("click",ln))),Array.isArray(t)&&t.forEach((e=>e.addEventListener("click",cn))),Array.isArray(o)&&o.forEach((e=>e.addEventListener("click",un)));const l=n.querySelector("button[data-lexical-gif-button]");l&&l.addEventListener("click",_n)}}function kn(e){if("horizontal-rule-lexical"===e.detail.el.id){const e=en();if(e&&e.form){e.form.addEventListener("submit",pn),e.form.addEventListener("change",gn);const t=de();t&&Mt&&Mt.length&&t.getEditorState().read((()=>{if(Mt&&Mt.length>=1){const e=(0,i.ns)(Mt[0]);if(wt(e)){const t=e.getWidth(),n=e.getColor(),o=document.getElementById("lex-horizontal-rule-width"),a=document.getElementById("lex-horizontal-rule-color"),i=document.getElementById("horizontal-rule-default");o&&(o.value=String(t)),a&&(a.value=String("var(--divider)"===n?ke():n)),i&&(i.checked=Boolean("var(--divider)"===n))}}})),document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:e.dialog}}))}}}function Cn(e){if("image-bg-color-dialog"===e.detail.el.id){const e=document.getElementById("image-bg-color-form");e&&e.addEventListener("submit",Qt);const t=document.getElementById("image-bg-color-dialog");t&&document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:t}}))}}function Sn(e){var t;En(e);const n=document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper")),o=[];return e.hasNode(vt)&&(document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",kn),o.push(e.registerCommand(Dt,(e=>(Wo(_t({color:String(e.color),width:e.width})),!0)),i.jZ)),o.push(e.registerCommand(Rt,(e=>{const t=i.zG.test(String(e.color))?String(e.color):"var(--divider)",n=Kt(e.width),o=(0,i.vJ)();if((0,i.RT)(o)||(0,i.I2)(o)){const e=o.getNodes();for(let o of e)wt(o)&&o.setHorizontalRuleStyle({color:t,width:n})}return!0}),i.jZ))),e.hasNode(Et)&&o.push(e.registerCommand(Bt,(t=>{if(t.src.startsWith("https://audio.storething.org/frankmbrown/",0)&&t.title.length){const n=St(t);Wo(n);const o=n.getKey();try{const t=e.getElementByKey(o);t&&t.scrollIntoView()}catch(e){}}return!0}),i.jZ),e.registerMutationListener(Et,(t=>{for(const[n,o]of t)if("created"===o){const t=e._config.namespace;setTimeout((()=>{const e=document.getElementById(t);e&&document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:e}}))}),500)}}))),e.hasNode(At)&&o.push(e.registerCommand(Ht,(t=>{if(t.src.startsWith("https://video.storething.org/frankmbrown/",0)&&t.title.length){const n=Lt(t);Wo(n);const o=n.getKey();try{const t=e.getElementByKey(o);t&&t.scrollIntoView()}catch(e){}}return!0}),i.jZ),e.registerMutationListener(At,(t=>{for(const[n,o]of t)if("created"===o){const t=e._config.namespace;setTimeout((()=>{const e=document.getElementById(t);e&&document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:e}}))}),500)}}))),e.hasNode(Dn)&&(document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",Cn),o.push(e.registerCommand(zt,(t=>{const n=Q(),o=zn({...t,width:t.width,height:t.height,originalDevice:n,backgroundColor:void 0});if((0,i.H2)([o]),(0,i.bS)(o.getParentOrThrow()))(0,i.bS)(o.getParentOrThrow())&&o.getParentOrThrow().setFormat("center");else{Jo(o,i.lJ).selectEnd();const e=o.getParent();(0,i.bS)(e)&&e.setFormat("center")}const a=o.getKey();try{const t=e.getElementByKey(a);t&&t.scrollIntoView()}catch(e){}return!0}),i.jZ),e.registerCommand(Pt,(e=>{const t=Q(),n=e.map((e=>zn({...e,width:e.width,height:e.height,originalDevice:t,backgroundColor:void 0})));return(0,i.H2)(n),(0,i.bS)(n[0].getParentOrThrow())||Jo(n[0],i.lJ).selectEnd(),!0}),i.jZ)),o.push(An(e,!1))),e.hasNode(Wn)&&o.push(e.registerCommand(Vn,(t=>{const n=Un(t);Wo(n);const o=e._config.namespace;setTimeout((()=>{const e=document.getElementById(o);e&&document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:e}}))}),500);const a=n.getKey();try{const t=e.getElementByKey(a);t&&t.scrollIntoView()}catch(e){}return!0}),i.jZ),e.registerCommand(jt,(t=>{const n=(0,i.rU)();return n.add(t),(0,i.n1)(n),Mt=[t],Wt(e),!0}),i.jZ),e.registerMutationListener(Wn,(t=>{for(const[n,o]of t)if("created"===o){const t=e._config.namespace;setTimeout((()=>{const e=document.getElementById(t);e&&document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:e}}))}),500)}}))),e.hasNode(ct)&&(document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",bn),o.push(e.registerCommand(Ft,(e=>{const{url:t,title:n,description:o,imageURL:a,host:i}=e;return Wo(ut({url:t,title:n,description:o,imageURL:a,host:i,format:"center"})),!0}),i.jZ))),e.hasNode(pt)&&(document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",vn),o.push(e.registerCommand(qt,(e=>{const t=ht(e);return t.setFormat("center"),Wo(t),!0}),i.jZ))),e.hasNode(ro)&&o.push(function(e){return e.hasNode(ro)?(document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",po),Po(e.registerCommand(co,(e=>(Wo(so(e)),setTimeout((()=>{document.dispatchEvent(new CustomEvent("EMBED_INSTAGRAM"))}),500),!0)),i.jZ),e.registerMutationListener(ro,(e=>{for(const[t,n]of e)"created"===n&&setTimeout((()=>{document.dispatchEvent(new CustomEvent("EMBED_INSTAGRAM"))}),500)})),e.registerCommand(qe,(()=>((0,i.zl)(ro).length&&setTimeout((()=>{document.dispatchEvent(new CustomEvent("EMBED_INSTAGRAM"))}),1e3),!1)),i.jZ))):(console.error("Editor does not have InstagramNode registered."),()=>{})}(e)),e.hasNode(bo)&&o.push(function(e){return e.hasNode(bo)?(document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",Eo),Po(e.registerCommand(_o,(e=>(Wo(yo({html:e})),setTimeout((()=>{document.dispatchEvent(new CustomEvent("EMBED_TWITTER"))}),500),!0)),i.jZ),e.registerMutationListener(bo,(e=>{for(const[t,n]of e)"created"===n&&setTimeout((()=>{document.dispatchEvent(new CustomEvent("EMBED_TWITTER"))}),500)})),e.registerCommand(qe,(()=>((0,i.zl)(bo).length&&setTimeout((()=>{document.dispatchEvent(new CustomEvent("EMBED_TWITTER"))}),1e3),!1)),i.jZ))):(console.error("Editor does not have TwitterNode registered."),()=>{})}(e)),e.hasNode(ko)&&o.push(function(e){return e.hasNode(ko)?(document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",No),Po(e.registerCommand(Ao,(e=>(Wo(So(e)),setTimeout((()=>{document.dispatchEvent(new CustomEvent("EMBED_TIKTOK"))}),500),!0)),i.jZ),e.registerMutationListener(ko,(e=>{for(const[t,n]of e)"created"===n&&setTimeout((()=>{document.dispatchEvent(new CustomEvent("EMBED_TIKTOK"))}),500)})),e.registerCommand(qe,(()=>((0,i.zl)(ko).length&&setTimeout((()=>{document.dispatchEvent(new CustomEvent("EMBED_TIKTOK"))}),1e3),!1)),i.jZ))):(console.error("Editor does not have TikTokNode registered."),()=>{})}(e)),Po(...o,e.registerCommand(i.fU,(e=>{const t=(0,i.vJ)();if((0,i.RT)(t)||(0,i.I2)(t)){const n=t.getNodes();for(let t of n)if((0,i.Cy)(t))if(Pn(t)){const n=t.getParentOrThrow();n&&n.setFormat(e)}else st(t)&&t.setFormat(e);else jo(t).setFormat(e);return!0}return!1}),i.Ac),e.registerCommand(i.d8,(e=>{var t=!0;if(e.target){for(var o=e.target,a=0;a<10&&!o.hasAttribute("data-frank-decorator")&&(o=o.parentElement);)a+=1;if(o&&"true"===o.getAttribute("data-frank-decorator")){if(e.preventDefault(),e.stopPropagation(),"SPAN"===o.nodeName||"lexical-math"===o.className||o.classList.contains("splide")||o.classList.add("selected-decorator-block"),o.classList.contains("rte-image")){t=!1,Ot&&o.getAttribute("src")!==Ot.getAttribute("src")&&$t();const e=o.querySelector("img"),a=o.querySelector('div[data-image-wrapper="true"]');if(e){e.classList.add("focused","draggable");const t=document.createElement("div");["n","ne","e","se","s","sw","w","nw"].forEach((e=>{const n=document.createElement("div");n.className="image-resizer image-resizer-".concat(e),n.setAttribute("data-dir",e),Oe()?n.addEventListener("touchstart",Yt):n.addEventListener("mousedown",Yt),t.append(n)})),e.insertAdjacentElement("afterend",t),e.setAttribute("draggable","false"),Ot=e,n&&function(e){const t=Me(e);Object.values(t).forEach((e=>{if(e&&"BUTTON"===e.nodeName)if(e.hasAttribute("data-lexical-image-button"))e.classList.add("selected");else{if("FORMAT_ELEMENT_COMMAND"===e.getAttribute("data-dispatch"))return;e.setAttribute("disabled","")}}))}(n)}a&&a.setAttribute("draggable","true")}const a=o.getAttribute("data-node-key");if(a){Mt=[a];const e=(0,i.rU)();e.add(a),(0,i.n1)(e)}return t&&$t(),!0}}return t&&$t(),!1}),i.Ac),e.registerCommand(i.w$,(t=>{const n=Zt(e,t);return window.closeFloatingContextMenu&&window.closeFloatingContextMenu(),n}),i.Ac),e.registerCommand(i.gC,(t=>{const n=Zt(e,t);return window.closeFloatingContextMenu&&window.closeFloatingContextMenu(),n}),i.Ac),e.registerCommand(i.Mv,(()=>{var t=new Set,o=void 0;!function(e){const t=e.getDecorators(),n=e.getRootElement();t&&n&&Object.keys(t).forEach((e=>{const t='div[data-node-key="'.concat(String(e)).concat('"]'),o=n.querySelector(t);o&&o.classList.remove("selected-decorator-block")})),Mt=void 0}(e);const a=(0,i.vJ)();if((0,i.RT)(a)){const n=a.getNodes();if(yn(n[0])){var r;const t=n[0].getKey(),o=e.getDecorators();Object.keys(o).forEach((e=>{e!==t&&(0,i.ns)(e)&&yn((0,i.ns)(e))&&(0,i.ns)(e).setEditable(!1)})),n[0].setEditable(!0);const a=document.getElementById(e._config.namespace)||(null===(r=e._rootElement)||void 0===r?void 0:r.closest("div.lexical-wrapper"));if(a){const e=Me(a);Object.values(e).forEach((e=>{if(e&&"BUTTON"===e.nodeName){const t=e.getAttribute("data-dispatch");if("UNDO_COMMAND"===t||"REDO_COMMAND"===t||"CLEAR_EDITOR_COMMAND"===t)return;e.setAttribute("disabled","")}}))}return!0}const l=[];n.forEach((t=>{if(st(t)){const e=t.getKey();if(l.push(e),null!==o){const e=t.getFormat();if(void 0===o)o=e;else{if(o===e)return;if(o!==e)return void(o=null)}}}if(wt(t)&&e.isEditable()){const e=t.getWidth(),n=t.getColor(),o=document.getElementById("lex-horizontal-rule-color");o&&Ne(o,"var(--divider)"===n?ke():n);const a=document.getElementById("lex-horizontal-rule-width");a&&(a.value=String(e),a.dispatchEvent(new Event("change")))}})),Mt=l,t=Wt(e)}else if((0,i.zq)(a))Mt=void 0,t=Wt(e);else{const t=e.getDecorators();for(let e of Object.keys(t)){const t=(0,i.ns)(e);t&&yn(t)&&t.getEditable()&&t.setEditable(!1)}}if(n){var l;const n=document.getElementById(e._config.namespace)||(null===(l=e._rootElement)||void 0===l?void 0:l.closest("div.lexical-wrapper"));if(n){Ot&&t.add("image");const e=Me(n);Object.values(e).forEach((e=>{if(e&&"BUTTON"===e.nodeName){if(e.hasAttribute("data-lexical-image-button"))return void(t.has("image")?(e.classList.add("selected"),e.removeAttribute("disabled")):t.size>0?(e.setAttribute("disabled",""),e.classList.remove("selected")):(e.removeAttribute("disabled"),e.classList.remove("selected")));if(e.hasAttribute("data-lexical-audio-button"))return void(t.has("audio-node")?(e.classList.add("selected"),e.removeAttribute("disabled")):t.size>0?(e.setAttribute("disabled",""),e.classList.remove("selected")):(e.removeAttribute("disabled"),e.classList.remove("selected")));if(e.hasAttribute("data-lexical-video-button"))return void(t.has("video-node")?(e.classList.add("selected"),e.removeAttribute("disabled")):t.size>0?(e.setAttribute("disabled",""),e.classList.remove("selected")):(e.removeAttribute("disabled"),e.classList.remove("selected")));if(e.hasAttribute("data-lexical-embed-media"))return void(t.has("news")||t.has("youtube")?(e.classList.add("selected"),e.removeAttribute("disabled")):t.size>0?(e.setAttribute("disabled",""),e.classList.remove("selected")):(e.removeAttribute("disabled"),e.classList.remove("selected")));if(e.hasAttribute("data-lexical-math-button"))return void(t.has("math")?(e.classList.add("selected"),e.removeAttribute("disabled")):t.size>0?(e.setAttribute("disabled",""),e.classList.remove("selected")):(e.removeAttribute("disabled"),e.classList.remove("selected")));if(e.hasAttribute("data-lexical-hr-button"))return void(t.has("horizontal-rule")?(e.classList.add("selected"),e.removeAttribute("disabled")):t.size>0?(e.setAttribute("disabled",""),e.classList.remove("selected")):(e.removeAttribute("disabled"),e.classList.remove("selected")));if("FORMAT_ELEMENT_COMMAND"===e.getAttribute("data-dispatch"))return void(t.has("image")||t.has("youtube")?(e.getAttribute("data-payload")===o?e.classList.add("selected"):e.classList.remove("selected"),e.removeAttribute("disabled")):t.size>0?(e.setAttribute("disabled",""),e.classList.remove("selected")):(e.removeAttribute("disabled"),e.classList.remove("selected")));const n=e.getAttribute("data-dispatch");if("UNDO_COMMAND"===n||"REDO_COMMAND"===n||"CLEAR_EDITOR_COMMAND"===n)return;t.size>0?e.setAttribute("disabled",""):e.removeAttribute("disabled")}}))}}return!1}),i.Wg),e.registerCommand(i.if,(t=>{const n=(0,i.vJ)();if((0,i.I2)(n)&&n.isCollapsed()){const t=n.getNodes();if(t.length){const n=t[0];if((0,i.kF)(n)){const t=n.getParent();if((0,i.bS)(t)){const n=t.getTextContent();if(/^-----(\[#[a-fA-F0-9]{6}])?(\[\d+\])?$/.test(n)){var o="",a=0;const i=n.indexOf("[");if(-1!==i){const e=n.indexOf("]");if(-1!==e){const t=n.slice(i+1,e);t.startsWith("#")?o=t:a=parseInt(t);const r=n.slice(e+1);if(r.length){const e=r.slice(1,r.length-1);e.startsWith("#")?o=e:a=parseInt(e)}}}t.remove(),e.dispatchCommand(Dt,{color:o.length?o:"var(--divider)",width:0===a?1:a})}}}}}return!1}),i.Wg),e.registerCommand(Ta,(t=>{var n;const o=document.getElementById(e._config.namespace)||(null===(n=e._rootElement)||void 0===n?void 0:n.closest("div.lexical-wrapper"));if(t.length&&o){const n=t[0];if("image/gif"===n.type&&e.hasNode(Dn)){const e=o.querySelector("input[data-lexical-gif-input]");if(e)return e.files=$e([n]),e.dispatchEvent(new Event("change")),!0}else if(n.type.startsWith("image/")&&e.hasNode(Dn)){const e=o.querySelector("button[data-lexical-image-button]");if(e)if(e.dispatchEvent(new Event("click")),t.length>1){const e=t.filter((e=>e.type.startsWith("image/"))),n=o.querySelector('button[id^="lexical-upload-multiple-images"]');n&&n.dispatchEvent(new Event("click"));const a=o.querySelector("input[data-image-input][multiple]");if(a)return a.files=$e(e),a.dispatchEvent(new Event("change")),!0}else{const e=o.querySelector('button[id^="lexical-upload-single-image"]');e&&e.dispatchEvent(new Event("click"));const t=o.querySelector("input[data-image-input]:not([multiple])");if(t)return t.files=$e([n]),t.dispatchEvent(new Event("change")),!0}}else if(n.type.startsWith("audio/")&&e.hasNode(Et)){const e=o.querySelector("button[data-lexical-audio-button]");if(e){e.dispatchEvent(new Event("click"));const t=o.querySelector("input[data-audio-input]");if(t)return t.files=$e([n]),t.dispatchEvent(new Event("change")),!0}}else if(n.type.startsWith("video/")&&e.hasNode(At)){const e=o.querySelector("button[data-lexical-video-button]");if(e){e.dispatchEvent(new Event("click"));const t=o.querySelector("input[data-video-input]");if(t)return t.files=$e([n]),t.dispatchEvent(new Event("change")),!0}}}return!1}),i.Wg),e.registerCommand(i.Tg,(e=>function(e){const t=Kn();if(!t)return!1;const n=e.dataTransfer;return!!n&&(n.setData("text/plain","_"),n.setDragImage(Hn(),0,0),n.setData("application/x-lexical-drag",JSON.stringify({data:{short:t.getShort(),long:t.getLong(),height:t.getHeight(),key:t.getKey(),src:t.getSrc(),width:t.getWidth(),version:t.__version},type:"image"})),!0)}(e)),i.Wg),e.registerCommand(i.ri,(e=>function(e){return!!Kn()&&(jn(e)||e.preventDefault(),!0)}(e)),i.Ac),e.registerCommand(i.Sr,(t=>function(e,t){const n=Kn();if(!n)return!1;const o=function(e){var t;const n=null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("application/x-lexical-drag");if(!n)return null;const{type:o,data:a}=JSON.parse(n);return"image"!==o?null:a}(e);if(!o)return!1;if(e.preventDefault(),jn(e)){const a=function(e){let t;const n=e.target,o=null==n?null:9===n.nodeType?n.defaultView:n.ownerDocument.defaultView,a=qn(o);if(document.caretRangeFromPoint)t=document.caretRangeFromPoint(e.clientX,e.clientY);else{if(!e.rangeParent||null===a)throw Error("Cannot get the selection when dragging");a.collapse(e.rangeParent,e.rangeOffset||0),t=a.getRangeAt(0)}return t}(e);n.remove();const r=(0,i.uT)();null!=a&&r.applyDOMRange(a),(0,i.n1)(r),t.dispatchCommand(Fn,o)}return!0}(t,e)),i.Wg),e.registerCommand(He,(()=>(En(e),!1)),i.jZ))}function An(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.hasNode(Dn)?(t&&e.update((()=>{const e=(0,i.zl)(Dn);for(let t of e)t.setDialogOnClick(!0)})),Po(e.registerEditableListener((t=>{t?e.update((()=>{(0,i.zl)(Dn).forEach((e=>{e.setDialogOnClick(!1)}))})):e.update((()=>{(0,i.zl)(Dn).forEach((e=>{e.setDialogOnClick(!0)}))}))})),e.registerCommand(qe,(()=>((0,i.zl)(Dn).forEach((e=>{e.getDialogOnClick()||e.setDialogOnClick(!0)})),!1)),i.jZ))):(console.error("Image Not Not registered."),()=>{})}const Tn=380,Nn=50,Ln=()=>{var e;return(null===(e=window)||void 0===e||null===(e=e.navigator)||void 0===e?void 0:e.userAgent)||n.g.userAgent},In=e=>"comment"===e||"survey-question"===e||"survey-short-blog"===e||"survey-option"===e||"range-description"===e?ee(Ln())?150:270:ee(Ln())?Tn:680,Mn=e=>"comment"===e||"survey-question"===e||"survey-short-blog"===e||"survey-option"===e||"range-description"===e?ee(Ln())?80:150:ee(Ln())?400:700;function On(e){e.stopPropagation(),document.dispatchEvent(new CustomEvent("IMAGE_CLICK",{detail:{image:this}}))}function Bn(e,t){var n=e,o=t;const a=e/t;e>=t?e>Tn?o=(n=Tn)/a:(n=e,o=t):t>400?n=a*(o=400):(n=e,o=t),n=Math.round(n),o=Math.round(o);const i="(max-width: 500px) ".concat(n,"px, (min-width:500px) ").concat(e,"px"),r=function(e,t){for(;0!==t;){let n=t;t=e%t,e=n}return e}(n=n%2==0?n:n+1,o=o%2==0?o:o+1),l=o/r;return{sizes:i,aspectRatio:"".concat(n/r," / ").concat(l)}}class Dn extends i.Kp{constructor(e,t){super(t),ot(this,"__originalDevice","mobile"),ot(this,"__version",1),ot(this,"__dialogOnClick",!1),this.__src=e.src,this.__short=e.short,this.__long=e.long,this.__width=e.width,this.__height=e.height,this.__dialogOnClick=!1,e.originalDevice?this.__originalDevice=e.originalDevice:this.__originalDevice=Q(),e.backgroundColor&&(this.__backgroundColor=e.backgroundColor)}static getType(){return"image"}static clone(e){return new Dn({src:e.getSrc(),short:e.getShort(),long:e.getLong(),width:e.getWidth(),height:e.getHeight(),originalDevice:e.getOriginalDevice(),backgroundColor:e.getBackgroundColor()})}static importJSON(e){const t=zn({src:e.src,short:e.short,long:e.long,width:e.width,height:e.height,originalDevice:e.originalDevice||"mobile",backgroundColor:e.backgroundColor});return t.setFirstElement(null==e?void 0:e.first_element),t}exportJSON(){return{type:"image",version:1,src:this.getSrc(),short:this.getShort(),long:this.getLong(),width:this.getWidth(),height:this.getHeight(),originalDevice:this.getOriginalDevice(),backgroundColor:this.getBackgroundColor(),first_element:this.getFirstElement()}}exportDOM(e){const t=document.createElement("img");t.setAttribute("loading","lazy"),t.setAttribute("data-v",String(1)),t.setAttribute("src",this.getSrc()),t.setAttribute("alt",this.getShort()),t.setAttribute("data-text",this.getLong()),t.setAttribute("data-original-device",this.getOriginalDevice());const n=this.getBackgroundColor();n&&(t.setAttribute("data-bg-color",n),t.style.setProperty("background-color",n));const o=this.getWidth(),a=this.getHeight(),i=o/a,r=Q();var l,s;const c="comment"===e._editorType?150:Tn,d="comment"===e._editorType?270:680,u="comment"===e._editorType?150:Tn,p="comment"===e._editorType?270:680;"mobile"===r&&"mobile"!==this.getOriginalDevice()?o>=a?o>c?s=(l=Math.max(Nn,o*c/d))/i:(l=o,s=a):a>u?l=i*(s=Math.max(Nn,a*u/p)):(l=o,s=a):"mobile"!==r&&"mobile"===this.getOriginalDevice()?i>1.05?s=(l=d*(o/c))/i:l=(s=p*(a/u))*i:(l=o,s=a),a>o&&s<Nn?s=(l=Nn)*(a/o):o>a&&l<Nn&&(s=Nn),l=Math.round(l),s=Math.round(s),t.setAttribute("width",String(l));const{sizes:g,aspectRatio:m}=Bn(this.getWidth(),this.getHeight());return t.setAttribute("sizes",g),t.style.setProperty("aspect-ratio",m,"important"),t.style.setProperty("width",String(l).concat("px")),t.style.setProperty("max-width","100%","important"),t.setAttribute("data-width",String(l)),t.setAttribute("data-height",String(s)),t.classList.add("img-node"),this.getFirstElement()&&!Be&&t.classList.add("first-rte-element"),this.getLastElement()&&!Be&&t.classList.add("last-rte-element"),{element:t}}static importDOM(){return{img:e=>({conversion:Rn,priority:0})}}getSrc(){return this.getLatest().__src}getShort(){return this.getLatest().__short}getLong(){return this.getLatest().__long}setShort(e){const t=this.getWritable();return t.__short=e,t}setLong(e){const t=this.getWritable();return t.__long=e,t}setDialogOnClick(e){const t=this.getWritable();return t.__dialogOnClick=e,t}getDialogOnClick(){return this.getLatest().__dialogOnClick}updateDOM(e,t){return Boolean(e.__dialogOnClick!==Boolean("true"===t.getAttribute("data-dialog-click"))||e.__backgroundColor!==t.getAttribute("data-bg-color")||e.__short!==t.getAttribute("alt")||e.__long!==t.getAttribute("data-text"))}getHeight(){return this.getLatest().__height}setHeight(e){const t=this.getWritable();return t.__height=e,t}getWidth(){return this.getLatest().__width}setWidth(e){const t=this.getWritable();return t.__width=e,t}getOriginalDevice(){return this.getLatest().__originalDevice}setOriginalDevice(e){const t=this.getWritable();return t.__originalDevice=e,t}setSrc(e){const t=this.getWritable();e.startsWith("https://image.storething.org/")&&(t.__src=e)}getTextContent(){const e=this.getLatest(),t=e.getShort(),n=e.getLong(),o=e.getSrc();return"[".concat(t||"Image","](").concat(o,")\nDescription: ").concat(n||"N/A")}createDOM(e){const t=document.createElement("span");return t.className="rte-image",this.getDialogOnClick()&&t.setAttribute("data-dialog-click","true"),this.getBackgroundColor()&&t.setAttribute("data-bg-color",String(this.getBackgroundColor())),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){const t=this.getWritable();return t.__backgroundColor=e,t}decorate(e,t){const n=e.getElementByKey(this.__key);if(n&&0===n.children.length){const t=document.createElement("div");t.setAttribute("draggable","false"),t.setAttribute("data-image-wrapper","true"),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element");const c=document.createElement("img");this.getFirstElement()&&c.classList.add("first-rte-element"),this.getLastElement()&&c.classList.add("last-rte-element");const d=this.getBackgroundColor();d&&(c.style.setProperty("background-color",d),c.setAttribute("data-bg-color",d)),this.getDialogOnClick()||(Oe(),c.addEventListener("dblclick",(o=this.__key,a=e._config.namespace,r=this.getBackgroundColor(),l=this.getShort(),s=this.getLong(),function(){Jt={nodeKey:o,editorNamespace:a};const e=document.getElementById("insert-after-lexical-layout");if(e){const t=V(Ee());e.insertAdjacentHTML("afterbegin",t),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:e}}));const n=document.getElementById("image-bg-color-dialog"),o=document.getElementById("image-bg-color-lex"),a=document.getElementById("image-bg-color-lex-transparent"),c=document.getElementById("img-short-description"),d=document.getElementById("img-long-description"),u=document.getElementById("image-bg-color-form");u&&u.addEventListener("submit",Qt),o&&a&&c&&d&&(void 0!==r&&i.zG.test(r)?(o.value=r,a.checked=!1,c.value=l,d.value=s):(o.value=Ee(),a.checked=!0,c.value=l,d.value=s)),n&&document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:n}}))}}),!0)),c.setAttribute("src",this.getSrc()),c.setAttribute("alt",this.getShort()),c.setAttribute("data-text",this.getLong()),c.setAttribute("loading","lazy");const u=this.getWidth(),p=this.getHeight();if(isNaN(u)||c.setAttribute("width",String(u.toFixed(0))),isNaN(u)||c.style.setProperty("width",String(u.toFixed(0)).concat("px")),c.style.setProperty("max-width","100%","important"),"desktop"!==Q()||isNaN(u)||isNaN(p))c.setAttribute("height",String(p.toFixed(0))),c.style.setProperty("height",String(p.toFixed(0)).concat("px"));else{const{sizes:e,aspectRatio:t}=Bn(this.getWidth(),this.getHeight());c.setAttribute("sizes",e),c.style.setProperty("aspect-ratio",t,"important")}return this.getDialogOnClick()?c.addEventListener("click",On,!0):c.classList.add("no-click"),c.classList.add("img-node"),t.append(c),n.append(t),t}var o,a,r,l,s;return document.createElement("div")}isKeyboardSelectable(){return!0}}function Rn(e){const t=e.getAttribute("data-bg-color");var n;"string"==typeof t&&i.zG.test(t)&&(n=t);const o=String(e.getAttribute("src")),a=String(e.getAttribute("alt")),r=String(e.getAttribute("data-text")),l=String(e.getAttribute("data-width")),s=String(e.getAttribute("data-height")),c=parseInt(l),d=parseInt(s);var u="mobile";const p=e.getAttribute("data-original-device");var g,m;"mobile"!==p&&"tablet"!==p&&"desktop"!==p||(u=p),g=isNaN(c)?Number.NaN:c,m=isNaN(d)?Number.NaN:d;const h=new Dn({src:o,short:a,long:r,width:g,height:m,originalDevice:u,backgroundColor:n}),f=e.classList.contains("first-rte-element");h.setFirstElement(f);const b=e.classList.contains("last-rte-element");return h.setLastElement(b),{node:h}}function zn(e){"string"!=typeof e.backgroundColor||i.zG.test(e.backgroundColor)||(e.backgroundColor=void 0);const t=de(),n=t?t._editorType:"";if(e.height>Mn(n)&&e.width>In(n)){const t=e.width/e.height;if(t>1.05){const o=In(n),a=In(n)/t;return new Dn({...e,width:o,height:a})}{const o=Mn(n),a=Mn(n)*t;return new Dn({...e,width:a,height:o})}}if(e.height>Mn(n)){const t=e.width/e.height,o=Mn(n),a=Mn(n)*t;return new Dn({...e,width:a,height:o})}if(e.width>In(n)){const t=e.width/e.height,o=In(n),a=In(n)/t;return new Dn({...e,width:o,height:a})}return new Dn(e)}function Pn(e){return e instanceof Dn}const Fn=(0,i.gu)("INSERT_IMAGE_COMMAND"),Hn=((0,i.gu)("INSERT_IMAGES_COMMAND"),()=>{const e=document.createElement("img");return e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e}),qn=e=>{var t;return null===(t=e||window)||void 0===t?void 0:t.getSelection()};function jn(e){const t=e.target;return!!(t&&$(t)&&!t.closest("code")&&t.parentElement&&t.parentElement.closest("div[data-rich-text-editor]"))}function Kn(){const e=(0,i.vJ)();if(!(0,i.RT)(e))return null;const t=e.getNodes()[0];return Pn(t)?t:null}class Wn extends i.Kp{constructor(e,t){super(t),ot(this,"__version",1),this.__imageList=e}static clone(e){return new Wn(e.__imageList)}static getType(){return"image-carousel"}exportJSON(){return{type:this.getType(),version:1,imageList:this.getImageList()}}static importJSON(e){return Un(e.imageList)}getImageList(){return this.getLatest().__imageList}setImageList(e){const t=this.getWritable();return t.__imageList=e,t}getMaxHeight(){return this.getImageList().sort(((e,t)=>t.height-e.height))[0].height}createDOM(){const e=document.createElement("div");return e.style.whiteSpace="normal",e.setAttribute("data-image-carousel","true"),e.setAttribute("data-v",String(1)),this.getFirstElement()&&e.classList.add("first-rte-element"),this.getLastElement()&&e.classList.add("last-rte-element"),e}getTextContent(){const e=this.getLatest().getImageList();var t="";return e.forEach((e=>{t+="[".concat(e.short||"N/A","](").concat(e.src,")\nDescription: ").concat(e.long||"N/A","\n\n")})),t}updateDOM(){return!1}exportDOM(e){const t=document.createElement("div");t.setAttribute("data-image-list",JSON.stringify(this.getImageList())),t.setAttribute("data-image-carousel","true");const n=this.getMaxHeight(),o=Math.min(n,Mn(e._editorType));return t.style.setProperty("min-height",o.toFixed(0).concat("px")),t.style.setProperty("max-height",o.toFixed(0).concat("px")),t.style.setProperty("height",o.toFixed(0).concat("px")),t.classList.add("block"),{element:t}}static importDOM(){return{div:e=>"true"!==e.getAttribute("data-image-carousel")?null:{conversion:Jn,priority:i.d}}}isInline(){return!1}decorate(e,t){const n=e.getElementByKey(this.__key);if(n&&0===n.children.length){const t=function(e,t,n){const o=document.createElement("div");o.addEventListener("click",function(e){return function(){const t=this.closest("div.lexical-wrapper");if(t){const n=t.id;if(n){const t=pe()[n];t&&t.dispatchCommand(jt,e)}}}}(n)),o.className="splide__track",o.style.setProperty("padding-bottom","1rem","important");const a=document.createElement("ul");a.className="splide__list";const i=t.map((t=>{const{width:n,height:o}=function(e,t){const n=t.width/t.height,o=In(e._editorType),a=Mn(e._editorType);if(n>1.2){if(t.width>o){const e=o/n;return{width:Number(o.toFixed(1)),height:Number(e.toFixed(1))}}return{width:Number(t.width.toFixed(1)),height:Number(t.height.toFixed(1))}}if(t.height>a){const e=a;return{width:Number((e*n).toFixed(1)),height:Number(e.toFixed(1))}}return{width:Number(t.width.toFixed(1)),height:Number(t.height.toFixed(1))}}(e,t);return{...t,width:n,height:o}})),r=i.sort(((e,t)=>t.height-e.height))[0].height;for(let e of t){const t=document.createElement("li");t.className="splide__slide";const n=document.createElement("img");n.className="carousel-image",n.setAttribute("src",e.src),n.setAttribute("alt",e.short),n.setAttribute("data-text",e.long),n.setAttribute("width",String(e.width)),n.setAttribute("height",String(e.height)),n.style.setProperty("width",String(e.width).concat("px")),n.style.setProperty("height",String(e.height).concat("px")),n.style.setProperty("max-height",String(r).concat("px"),"important"),n.style.setProperty("max-width","100%","important"),t.append(n),a.append(t)}o.append(a);const l=document.createElement("div");return l.className="splide rich-text-editor",l.setAttribute("role","group"),l.setAttribute("aria-label","Image List"),l.append(o),l}(e,this.getImageList(),this.__key);n.append(t)}return document.createElement("div")}}function Jn(e){try{const n=e.getAttribute("data-image-list");var t=JSON.parse(n);if(!(t=t.filter((e=>Boolean(e&&"string"==typeof e.src&&"string"==typeof e.short&&"string"==typeof e.long&&"number"==typeof e.width&&"number"==typeof e.height)))).length)throw new Error("No Valid Images in ImageType array.");return{node:Un(t)}}catch(e){return null}}function Un(e){return new Wn(e)}const Vn=(0,i.gu)("INSERT_CAROUSEL_COMMAND"),Gn=new Set(["abcdef","abyss","androidstudio","andromeda","atomone","aura","bbedit","basic light","basic dark","bespin","copilot","dracula","darcula","duotone light","duotone dark","eclipse","github light","github dark","gruvbox dark","gruvbox light","material light","material dark","monokai","monokai dimmed","kimbie","noctis-lilac","nord","okaidia","quietlight","red","solarized light","solarized dark","sublime","tokyo-night","tokyo-night-storm","tokyo-night-day","tomorrow-night-blue","white dark","white light","vscode","xcode light","xcode dark"]);function Xn(e){(e.ctrlKey&&"c"===e.key.toLowerCase()||e.ctrlKey&&"x"===e.key.toLowerCase())&&e.stopPropagation()}function Yn(e){(e.ctrlKey&&"c"===e.key.toLowerCase()||e.ctrlKey&&"x"===e.key.toLowerCase())&&e.stopPropagation()}class Zn extends it{constructor(e,t){super(void 0,t),ot(this,"__version",1),ot(this,"__editable",!0),this.__html=e||'<p class=\'body1 custom\'>\nDouble click inside the custom HTML to edit the html.\nLearn about the basics of HTML using the <a class="secondary link" target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/HTML">mdn web docs on HTML</a>. \n</p>'}static clone(e){return new Zn(e.getHtml())}static getType(){return"html"}getEditable(){return this.__editable}setEditable(e){const t=this.getWritable();return t.__editable=e,t}getHtml(){return this.getLatest().__html}setHtml(e){this.getWritable().__html=e}getTextContent(){const e=document.createElement("div");return e.innerHTML=this.getHtml(),String(e.textContent||"")}setFormat(e){this.getWritable().__format="left"}static importJSON(e){const t=to(e.html);return t.setFormat(e.format),t.setFirstElement(null==e?void 0:e.first_element),t}updateDOM(e,t,n){return e.getEditable()!==this.getEditable()}exportJSON(){return{...super.exportJSON(),type:this.getType(),version:1,html:this.getHtml(),first_element:this.getFirstElement()}}exportDOM(){const e=Qn(this.getHtml());return this.getFirstElement()&&!Be&&e.classList.add("first-rte-element"),this.getLastElement()&&!Be&&e.classList.add("last-rte-element"),{element:e}}static importDOM(){return{div:e=>e.hasAttribute("data-custom-code")?{conversion:eo,priority:4}:null}}decorate(e,t){const n=Qn(this.getHtml());this.getFirstElement()&&n.classList.add("first-rte-element"),this.getLastElement()&&n.classList.add("last-rte-element"),this.getEditable()&&(n.addEventListener("dblclick",(t=>{e.isEditable()&&(document.dispatchEvent(new CustomEvent("REGISTER_LEXICAL_CODE_EDITOR",{detail:n})),"false"===n.getAttribute("data-editing")&&e.getEditorState().read((()=>{const e=function(e){const t=window.crypto.randomUUID(),n=document.getElementById("code-editor-theme-main"),o=n&&Gn.has(n.value)?n.value:"vscode";return'<div data-editor-wrapper id="html_wrapper_'.concat(t,'" aria-labelledby="html_tab_button_').concat(t,'" role="tabpanel" tabindex="0">\n  <div hidden id="html_ed"  data-theme="').concat(o,'" data-type="auto"  data-codemirror="html" class="mt-2">').concat(e,"</div>\n</div>")}(this.getHtml());n.innerHTML="",n.innerHTML=e,n.dispatchEvent(new CustomEvent("INSERT_LEXICAL_CODE_EDITORS")),n.setAttribute("data-editing","true"),n.addEventListener("keydown",Xn),n.addEventListener("keydown",Yn)})))})),n.addEventListener("focusout",(e=>{"true"===n.getAttribute("data-editing")&&n.dispatchEvent(new CustomEvent("GET_LEXICAL_EDITORS_CODE")),n.removeEventListener("keydown",Xn),n.removeEventListener("keydown",Yn)})),n.addEventListener("GOT_LEXICAL_EDITORS_CODE",(t=>{t&&t.detail&&"string"==typeof t.detail.html&&e.update((()=>{n.setAttribute("data-editing","false"),this.setHtml(t.detail.html),n.dispatchEvent(new CustomEvent("REMOVE_LEXICAL_CODE_EDITORS")),n.innerHTML="";const{htmlDiv:e}=$n(t.detail.html);n.append(e)}))})));const o=e.getElementByKey(this.__key);return o&&0===o.children.length&&o.append(n),n}}function $n(e){const t=document.createElement("div");return t.setAttribute("data-html",""),t.insertAdjacentHTML("beforeend",e),{htmlDiv:t}}function Qn(e){const t=document.createElement("div");t.setAttribute("data-custom-code",""),t.setAttribute("data-editing","false");const{htmlDiv:n}=$n(e);return t.append(n),t}function eo(e){const t=Array.from(e.children).filter((e=>"DIV"===e.nodeName&&e.hasAttribute("data-html")));const n=to(t.length?t[0].innerHTML:""),o=e.classList.contains("first-rte-element");n.setFirstElement(o);const a=e.classList.contains("last-rte-element");return n.setLastElement(a),{node:n}}function to(e){return new Zn(e)}const no=(0,i.gu)("INSERT_HTML_COMMAND");function oo(){const e=de();e&&e.dispatchCommand(no,'<h1 style="padding: 6px; border-radius: 6px; background: linear-gradient(217deg, rgba(255, 0, 0, 0.8), rgba(255, 0, 0, 0) 70.71%), linear-gradient(127deg, rgba(0, 255, 0, 0.8), rgba(0, 255, 0, 0) 70.71%), linear-gradient(336deg, rgba(0, 0, 255, 0.8), rgba(0, 0, 255, 0) 70.71%); color: black; border: 3px dotted blue;" class="bold">Double click to edit the HTML node.</h1>\n<p>You can learn more about what is allowed in custom HTML nodes <a href="https://frankmbrown.net/blog/22/Rich%20Text%20Editor%20Implementation?version=1" target="_blank">Here</a>.</p>')}function ao(e){if(e.hasNode(Zn)){var t;if(document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"))){const e=document.querySelector("button[data-custom-html-btn]");e&&e.addEventListener("click",oo)}return Po(e.registerCommand(no,(e=>("string"==typeof e&&Wo(to(e)),!0)),i.jZ))}return console.error("HtmlNode not registered on editor."),()=>{}}function io(e){return Po(e.registerEditableListener((t=>{e.update((()=>{const e=(0,i.zl)(Zn);t?e.forEach((e=>{e.setEditable(!1)})):e.forEach((e=>{e.setEditable(!0)}))}))})),e.registerCommand(qe,(()=>((0,i.zl)(Zn).forEach((e=>{e.getEditable()&&e.setEditable(!1)})),!1)),i.jZ))}class ro extends it{static getType(){return"instagram"}static clone(e){return new ro(e.getHTML(),e.__format,e.__key)}static importJSON(e){const{html:t}=e,n=so(t);return n.setFormat("center"),n.setFirstElement(null==e?void 0:e.first_element),n}exportJSON(){return{...super.exportJSON(),html:this.getHTML(),type:this.getType(),first_element:this.getFirstElement(),version:1}}static importDOM(){return{div:e=>!e.hasAttribute("data-instagram")||Boolean(0===e.innerHTML.length)?null:{conversion:lo,priority:3}}}exportDOM(){const e=document.createElement("div");return e.insertAdjacentHTML("afterbegin",this.getHTML()),e.setAttribute("data-instagram",""),e.classList.add("instagram-wrapper"),this.getFirstElement()&&!Be&&e.classList.add("first-rte-element"),this.getLastElement()&&!Be&&e.classList.add("last-rte-element"),{element:e}}constructor(e,t,n){super("center",n),this.__html=e}getHTML(){return this.getLatest().__html}decorate(e,t){const n=e.getElementByKey(this.__key),o=document.createElement("div");return this.getFirstElement()&&o.classList.add("first-rte-element"),this.getLastElement()&&o.classList.add("last-rte-element"),o.setAttribute("data-instagram",""),o.classList.add("instagram-wrapper"),o.insertAdjacentHTML("afterbegin",this.getHTML()),n&&0===n.children.length&&n.append(o),o}}function lo(e){const t=so(e.innerHTML);return e.classList.contains("first-rte-element")&&t.setFirstElement(!0),e.classList.contains("last-rte-element")&&t.setLastElement(!0),{node:t}}function so(e){return new ro(e)}const co=(0,i.gu)("EMBED_INSTA_COMMAND");function uo(e){e.preventDefault(),e.stopPropagation();const t=this.closest("div.dialog-wrapper");try{const e=this.querySelector("textarea");if(!e)throw new Error("Unable to find textarea to embed instagram post.");const o=e.value;o&&o.length&&Promise.resolve().then(n.bind(n,17800)).then((n=>{const a=n.validateInstagramEmbed(o),i=de();if(i&&(i.dispatchCommand(co,a),e.value="",t&&me(t),t)){const e=t.querySelector("div[data-embed-error]");e&&e.setAttribute("hidden","")}})).catch((e=>{if(console.error(e),t){const e=t.querySelector("div[data-embed-error]");e&&e.removeAttribute("hidden")}}))}catch(e){if(console.error(e),t){const e=t.querySelector("div[data-embed-error]");e&&e.removeAttribute("hidden")}}}function po(e){if("lex-embed-instagram"===e.detail.el.id){const e=document.getElementById("lex-embed-instagram");if(e){const t=e.querySelector("form");t&&t.addEventListener("submit",uo)}document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:e}}))}}const go="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;var mo=null;function ho(e,t){if(t){const n=t.deviceDetected;"desktop"===n?"mobile"!==t.deviceDetected?e.style.setProperty("min-height",String(t.height).concat("px")):t.height>700?e.style.setProperty("min-height","550px"):e.style.setProperty("min-height",String(t.height).concat("px")):"mobile"===n&&("mobile"===t.deviceDetected?e.style.setProperty("min-height",String(t.height).concat("px")):t.height>500?e.style.setProperty("min-height","700px"):e.style.setProperty("min-height",String(t.height).concat("px")))}else e.style.setProperty("min-height","300px")}go&&void 0!==typeof window.MutationObserver&&(mo=new window.MutationObserver((function(e,t){for(let t of e)if("IFRAME"===t.target.nodeName){const e=t.target,n=e.getBoundingClientRect();if(n){const t=n.height;if(t>300){const n=e.closest('div[data-frank-decorator="true"]'),o=e.closest("div.lexical-wrapper");if(n&&o){const e=n.getAttribute("data-node-key"),a=o.id,r=pe();r[a]&&/\d+/.test(String(e))&&r[a].update((()=>{const n=(0,i.ns)(String(e));xo(n)&&n.setCalculatedHeight({height:t,deviceDetected:Q()})}))}}}}})));const fo={childList:!0,subtree:!0,attributes:!0};class bo extends it{static getType(){return"twitter"}static clone(e){return new bo({html:e.getHTML(),calculatedHeight:e.getCalculatedHeight()},e.__format,e.__key)}static importJSON(e){const{html:t,calculatedHeight:n}=e,o=yo({html:t,calculatedHeight:n});return o.setFormat("center"),o.setFirstElement(null==e?void 0:e.first_element),o}exportJSON(){return{...super.exportJSON(),html:this.getHTML(),calculatedHeight:this.getCalculatedHeight(),type:this.getType(),version:1,first_element:this.getFirstElement()}}static importDOM(){return{div:e=>!e.hasAttribute("data-twitter")||Boolean(0===e.innerHTML.length)?null:{conversion:vo,priority:3}}}exportDOM(){const e=document.createElement("div");e.insertAdjacentHTML("afterbegin",this.getHTML()),e.setAttribute("data-twitter",""),e.classList.add("twitter-wrapper");const t=this.getCalculatedHeight();return t&&(e.setAttribute("data-calculated-height-num",String(t.height)),e.setAttribute("data-calculated-height-device",String(t.deviceDetected))),this.getFirstElement()&&!Be&&e.classList.add("first-rte-element"),this.getLastElement()&&!Be&&e.classList.add("last-rte-element"),ho(e,t),{element:e}}constructor(e,t,n){super("center",n),this.__html=e.html,e.calculatedHeight&&(this.__calculatedHeight=e.calculatedHeight)}getHTML(){return this.getLatest().__html}setCalculatedHeight(e){const t=this.getWritable();return t.__calculatedHeight=e,t}getCalculatedHeight(){return this.getLatest().__calculatedHeight}decorate(e,t){const n=e.getElementByKey(this.__key),o=document.createElement("div");return o.setAttribute("data-twitter",""),o.insertAdjacentHTML("afterbegin",this.getHTML()),o.classList.add("twitter-wrapper"),this.getFirstElement()&&o.classList.add("first-rte-element"),this.getLastElement()&&o.classList.add("last-rte-element"),n&&0===n.children.length&&(mo&&e.isEditable()&&!this.getCalculatedHeight()&&mo.observe(o,fo),ho(o,this.getCalculatedHeight()),n.append(o)),o}}function vo(e){const t=e.innerHTML,n=e.getAttribute("data-calculated-height-num"),o=e.getAttribute("data-calculated-height-device"),a=parseInt(String(n)),i=e.classList.contains("first-rte-element"),r=e.classList.contains("last-rte-element");if(!Number.isInteger(a)||"desktop"!==o&&"tablet"!==o&&"mobile"!==o){const e=yo({html:t});return e.setFirstElement(i),e.setLastElement(r),{node:e}}{const e=yo({html:t,calculatedHeight:{height:a,deviceDetected:o}});return e.setFirstElement(i),e.setLastElement(r),{node:e}}}function yo(e){return new bo(e)}function xo(e){return e instanceof bo}const _o=(0,i.gu)("EMBED_TWEET_COMMAND");function wo(e){e.preventDefault(),e.stopPropagation();const t=this.closest("div.dialog-wrapper");try{const e=this.querySelector("textarea");if(!e)throw new Error("Unable to find textarea to embed tweet.");const o=e.value;o&&o.length&&Promise.resolve().then(n.bind(n,17800)).then((n=>{const a=n.validateTwitterEmbed(o),i=de();if(i&&(i.dispatchCommand(_o,a),e.value="",t&&me(t),t)){const e=t.querySelector("div[data-embed-error]");e&&e.setAttribute("hidden","")}})).catch((e=>{if(console.error(e),t){const e=t.querySelector("div[data-embed-error]");e&&e.removeAttribute("hidden")}}))}catch(e){if(console.error(e),t){const e=t.querySelector("div[data-embed-error]");e&&e.removeAttribute("hidden")}}}function Eo(e){if("lex-embed-twitter"===e.detail.el.id){const e=document.getElementById("lex-embed-twitter");if(e){const t=e.querySelector("form");t&&t.addEventListener("submit",wo),document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:e}}))}}}(0,i.gu)("EMBED_REDDIT_COMMAND");class ko extends it{static getType(){return"tiktok"}static clone(e){return new ko(e.getHTML(),e.__format,e.__key)}static importJSON(e){const{html:t}=e,n=So(t);return n.setFormat("center"),n.setFirstElement(null==e?void 0:e.first_element),n}exportJSON(){return{...super.exportJSON(),html:this.getHTML(),type:this.getType(),version:1}}static importDOM(){return{div:e=>!e.hasAttribute("data-tiktok")||Boolean(0===e.innerHTML.length)?null:{conversion:Co,priority:3}}}exportDOM(){const e=document.createElement("div");return e.insertAdjacentHTML("afterbegin",this.getHTML()),e.setAttribute("data-tiktok",""),e.classList.add("tiktok-wrapper"),this.getFirstElement()&&!Be&&e.classList.add("first-rte-element"),this.getLastElement()&&!Be&&e.classList.add("last-rte-element"),{element:e}}constructor(e,t,n){super("center",n),this.__html=e}getHTML(){return this.getLatest().__html}decorate(e,t){const n=e.getElementByKey(this.__key),o=document.createElement("div");return this.getFirstElement()&&o.classList.add("first-rte-element"),this.getLastElement()&&o.classList.add("last-rte-element"),o.setAttribute("data-tiktok",""),o.insertAdjacentHTML("afterbegin",this.getHTML()),o.classList.add("tiktok-wrapper"),o.addEventListener("load",(()=>{setTimeout((()=>{document.dispatchEvent(new CustomEvent("EMBED_TIKTOK"))}),500)})),n&&0===n.children.length&&n.append(o),o}}function Co(e){const t=So(e.innerHTML);return e.classList.contains("first-rte-element")&&t.setFirstElement(!0),e.classList.contains("last-rte-element")&&t.setLastElement(!0),{node:t}}function So(e){return new ko(e)}const Ao=(0,i.gu)("EMBED_TikTok_COMMAND");function To(e){e.preventDefault(),e.stopPropagation();const t=this.closest("div.dialog-wrapper");try{const e=this.querySelector('input[type="url"]');if(!e)throw new Error("Unable to find textarea to embed tweet.");const o=e.value,a=new URL("https://www.tiktok.com/oembed");a.searchParams.append("url",o),fetch(a).then((e=>{if(200!==e.status)throw new Error("Something went wrong handling TikTok embed.");return e.json()})).then((o=>{const{html:a}=o;"string"==typeof a&&a.length&&Promise.resolve().then(n.bind(n,17800)).then((n=>{const o=n.validateTikTokEmbed(a),i=de();if(i&&(i.dispatchCommand(Ao,o),e.value="",t&&me(t),t)){const e=t.querySelector("div[data-embed-error]");e&&e.setAttribute("hidden","")}})).catch((e=>{if(console.error(e),t){const e=t.querySelector("div[data-embed-error]");e&&e.removeAttribute("hidden")}}))})).catch((e=>{}))}catch(e){if(console.error(e),t){const e=t.querySelector("div[data-embed-error]");e&&e.removeAttribute("hidden")}}}function No(e){if("lex-embed-tiktok"===e.detail.el.id){const e=document.getElementById("lex-embed-tiktok");if(e){const t=e.querySelector("form");t&&t.addEventListener("submit",To),document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:e}}))}}}class Lo extends i.Kp{constructor(e,t){super(t),ot(this,"__version",1),e&&e.size?this.__size=e.size:this.__size="medium",e&&"boolean"==typeof e.inline?this.__inline=e.inline:this.__inline=!0}static clone(e){return new Lo({size:e.__size,inline:e.__inline})}static getType(){return"loading-node"}exportJSON(){return{type:this.getType(),version:1,size:this.getSize(),inline:this.getInline()}}static importJSON(e){const{size:t,inline:n}=e;return Oo({size:t,inline:n})}getSize(){return this.getLatest().__size}setSize(e){const t=this.getWritable();return t.__size=e,t}getInline(){return this.getLatest().__inline}setInline(e){const t=this.getWritable();return t.__inline=e,t}createDOM(){const e=document.createElement("span");return e.setAttribute("data-lex-loader","true"),e.setAttribute("data-v",String(1)),this.getFirstElement()&&e.classList.add("first-rte-element"),this.getLastElement()&&e.classList.add("last-rte-element"),e}getTextContent(){return"Loading..."}updateDOM(){return!1}exportDOM(e){const t=document.createElement("span");t.setAttribute("data-lex-loader","true");const n=this.getInline(),o=this.getSize();return t.classList.add("css-loader"),n?t.classList.add("primary"):(t.classList.add("block","secondary"),t.style.setProperty("margin","3px auto","important")),t.classList.add(o),{element:t}}static importDOM(){return{span:e=>"true"!==e.getAttribute("data-lex-loader")?null:{conversion:Io,priority:i.d}}}isInline(){return this.__inline}decorate(e,t){const n=e.getElementByKey(this.__key);if(n&&0===n.children.length){const e=document.createElement("span");this.getInline()?e.classList.add("primary"):(e.classList.add("block","secondary"),e.style.setProperty("margin","3px auto"));const t=this.getSize();e.classList.add("css-loader",t),n.append(e)}return document.createElement("span")}}function Io(e){return{node:Oo({size:e.classList.contains("small")?"small":e.classList.contains("large")?"large":"medium",inline:!e.classList.contains("block")})}}function Mo(e){return e instanceof Lo}function Oo(e){let{size:t,inline:n}=e;return new Lo({size:t,inline:n})}class Bo extends i.Kp{constructor(e,t){super(t),ot(this,"__version",1),this.__chat_id=e.chat_id,this.__html=e.html,this.__chat_name=e.chat_name}static clone(e){return new Bo({chat_id:e.__chat_id,chat_name:e.__chat_name,html:e.__html})}static getType(){return"ai-chat-node"}exportJSON(){return{type:this.getType(),version:1,html:this.getHTML(),chat_id:this.getChatID(),chat_name:this.getChatName()}}static importJSON(e){let{chat_id:t,chat_name:n,html:o}=e;return Ro({chat_id:t,chat_name:n,html:o})}getHTML(){return this.getLatest().__html}setHTML(e){const t=this.getWritable();return t.__html=e,t}getChatID(){return this.getLatest().__chat_id}setChatID(e){const t=this.getWritable();return t.__chat_id=e,t}getChatName(){return this.getLatest().__chat_name}setChatName(e){const t=this.getWritable();return t.__chat_name=e,t}createDOM(){const e=document.createElement("div");return e.setAttribute("data-ai-chat","true"),e.setAttribute("data-chat-name",this.getChatName()),e.setAttribute("data-chat-id",this.getChatID()),e.classList.add("ai-chat-lexical"),this.getFirstElement()&&e.classList.add("first-rte-element"),this.getLastElement()&&e.classList.add("last-rte-element"),e}getTextContent(){return this.getHTML()}updateDOM(){return!1}exportDOM(e){const t=document.createElement("div");return t.setAttribute("data-ai-chat","true"),t.setAttribute("data-chat-name",this.getChatName()),t.setAttribute("data-chat-id",this.getChatID()),t.insertAdjacentHTML("afterbegin",this.getHTML()),t.classList.add("ai-chat-lexical"),this.getFirstElement()&&!Be&&t.classList.add("first-rte-element"),this.getLastElement()&&!Be&&t.classList.add("last-rte-element"),{element:t}}static importDOM(){return{div:e=>"true"===e.getAttribute("data-ai-chat")&&e.getAttribute("data-chat-name")&&e.getAttribute("data-chat-id")?{conversion:Do,priority:i.d}:null}}isInline(){return!1}decorate(e,t){const n=e.getElementByKey(this.__key);return n&&0===n.children.length&&(n.innerHTML=this.getHTML()),document.createElement("div")}}function Do(e){try{const t=e.getAttribute("data-chat-name"),n=e.getAttribute("data-chat-id"),o=e.innerHTML;return n&&t?{node:Ro({chat_name:t,chat_id:n,html:o})}:null}catch(e){return null}}function Ro(e){let{chat_id:t,chat_name:n,html:o}=e;return new Bo({chat_id:t,chat_name:n,html:o})}const zo=(0,i.gu)("INSERT_AI_CHAT_NODE");function Po(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return()=>{t.forEach((e=>e()))}}function Fo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];n.forEach((t=>{if("string"==typeof t){const n=t.split(" ").filter((e=>""!==e));e.classList.add(...n)}}))}function Ho(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];n.forEach((t=>{"string"==typeof t&&e.classList.remove(...t.split(" "))}))}function qo(e,t){let n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent()}return null}function jo(e){const t=Ko(e,(e=>(0,i.ff)(e)&&!e.isInline()));if(!(0,i.ff)(t))throw Error("Expected node ".concat(e.__key," to have closest block element node."));return t}function Ko(e,t){let n=e;for(;n!==(0,i.Ni)()&&null!=n;){if(t(n))return n;n=n.getParent()}return null}function Wo(e){const t=(0,i.vJ)()||(0,i.S1)();if((0,i.I2)(t)){const{focus:n}=t,o=n.getNode(),a=n.offset;if((0,i.Iq)(o)){const t=o.getChildAtIndex(a);null==t?o.append(e):t.insertBefore(e),e.selectNext()}else{let t,n;(0,i.kF)(o)?(t=o.getParentOrThrow(),n=o.getIndexWithinParent(),a>0&&(n+=1,o.splitText(a))):(t=o,n=a);const[,r]=(0,i.hc)(t,n);r.insertBefore(e),r.selectStart()}}else{if((0,i.RT)(t)||(0,i.zq)(t)){const n=t.getNodes();n[n.length-1].getTopLevelElementOrThrow().insertAfter(e)}else(0,i.Ni)().append(e);const n=(0,i.lJ)();e.insertAfter(n),n.select()}return e.getLatest()}function Jo(e,t){const n=t();return e.replace(n),n.append(e),n}function Uo(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name}const Vo=e=>Boolean("tablecell"===e.getType()),Go=e=>Boolean("listitem"===e.getType()),Xo=e=>Boolean("list"===e.getType());function Yo(e,t){const n=t.body?t.body.childNodes:[];let o=[];for(let t=0;t<n.length;t++){const a=n[t];if(!Qo.has(a.nodeName)){const t=ea(a,e);null!==t&&(o=o.concat(t))}}return o}function Zo(e,t){if("undefined"==typeof document||"undefined"==typeof window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),o=(0,i.Ni)().getChildren();for(let a=0;a<o.length;a++)$o(e,o[a],n,t);return n.innerHTML}function $o(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null==o||t.isSelected(o);const r=(0,i.ff)(t)&&t.excludeFromCopy("html");let l=t;if(null!==o){let e=c(t);e=(0,i.kF)(e)&&null!=o?d(o,e):e,l=e}const s=(0,i.ff)(l)?l.getChildren():[],u=e._nodes.get(l.getType());let p;p=u&&void 0!==u.exportDOM?u.exportDOM(e,l):l.exportDOM(e);const{element:g,after:m}=p;if(!g)return!1;const h=document.createDocumentFragment();for(let n=0;n<s.length;n++){const r=s[n],l=$o(e,r,h,o);!a&&(0,i.ff)(t)&&l&&t.extractWithChild(r,o,"html")&&(a=!0)}if(a&&!r){if((0,i.sb)(g)&&g.append(h),n.append(g),m){const e=m.call(l,g);e&&g.replaceWith(e)}}else n.append(h);return a}const Qo=new Set(["STYLE","SCRIPT"]);function ea(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,o=arguments.length>3?arguments[3]:void 0,a=[];if(Qo.has(e.nodeName))return a;let r=null;const l=function(e,t){const{nodeName:n}=e,o=t._htmlConversions.get(n.toLowerCase());let a=null;if(void 0!==o)for(const t of o){const n=t(e);null!==n&&(null===a||a.priority<n.priority)&&(a=n)}return null!==a?a.conversion:null}(e,t),s=l?l(e):null;let c=null;if(null!==s){c=s.after;const t=s.node;if(r=Array.isArray(t)?t[t.length-1]:t,null!==r){for(const[,e]of n)if(r=e(r,o),!r)break;r&&a.push(...Array.isArray(t)?t:[r])}null!=s.forChild&&n.set(e.nodeName,s.forChild)}const d=e.childNodes;let u=[];for(let e=0;e<d.length;e++)u.push(...ea(d[e],t,new Map(n),r));return null!=c&&(u=c(u)),null==r?a=a.concat(u):(0,i.ff)(r)&&r.append(...u),a}const ta="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,na=e=>ta?(e||window).getSelection():null;function oa(e){const t=(0,i.vJ)();if(null==t)throw Error("Expected valid LexicalSelection");return(0,i.I2)(t)&&t.isCollapsed()||0===t.getNodes().length?"":Zo(e,t)}function aa(e){const t=(0,i.vJ)();if(null==t)throw Error("Expected valid LexicalSelection");return(0,i.I2)(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(function(e,t){const n=[],o=(0,i.Ni)().getChildren();for(let a=0;a<o.length;a++)la(e,t,o[a],n);return{namespace:e._config.namespace,nodes:n}}(e,t))}function ia(e,t,n){const o=e.getData("application/x-lexical-editor");if(o)try{const e=JSON.parse(o);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes))return ra(n,sa(e.nodes),t)}catch(e){}const a=e.getData("text/html");if(a){const e=n.getRootElement(),o=document.getSelection(),i=document.getElementById("text-table-selection-ref");if(e&&o&&o.getRangeAt(0)&&o.getRangeAt(0).commonAncestorContainer&&i){const t=o.getRangeAt(0).commonAncestorContainer,i=Ie(o,e);if(0===i.left&&0===i.right&&t instanceof HTMLElement){const e=t.getBoundingClientRect();i.left=e.left,i.right=e.right,i.top+=e.top}return void n.dispatchCommand(Fe,{html:a,rect:i})}try{return ra(n,Yo(n,(new DOMParser).parseFromString(a,"text/html")),t)}catch(e){}}const r=e.getData("text/plain")||e.getData("text/uri-list");if(null!=r)if((0,i.I2)(t)){const e=r.split(/(\r?\n|\t)/);""===e[e.length-1]&&e.pop();for(let n=0;n<e.length;n++){const o=e[n];"\n"===o||"\r\n"===o?t.insertParagraph():"\t"===o?t.insertNodes([(0,i.ev)()]):t.insertText(o)}}else t.insertRawText(r)}function ra(e,t,n){((0,i.zq)(n)||null!==Ko(n.anchor.getNode(),(e=>(0,i.zm)(e)))&&null!==Ko(n.focus.getNode(),(e=>(0,i.zm)(e))))&&1===t.length&&(0,i.P6)(t[0])?function(e,t,n,o){if(1!==e.length||!(0,i.P6)(e[0]))throw Error("$mergeGridNodesStrategy: Expected Grid insertion.");const a=e[0],r=a.getChildren(),l=a.getFirstChildOrThrow().getChildrenSize(),s=a.getChildrenSize(),c=Ko(t.anchor.getNode(),(e=>(0,i.zm)(e))),d=c&&Ko(c,(e=>(0,i.lQ)(e))),u=d&&Ko(d,(e=>(0,i.P6)(e)));if(!(0,i.zm)(c)||!(0,i.lQ)(d)||!(0,i.P6)(u))throw Error("$mergeGridNodesStrategy: Expected selection to be inside of a Grid.");const p=d.getIndexWithinParent(),g=Math.min(u.getChildrenSize()-1,p+s-1),m=c.getIndexWithinParent(),h=Math.min(d.getChildrenSize()-1,m+l-1),f=Math.min(m,h),b=Math.min(p,g),v=Math.max(m,h),y=Math.max(p,g),x=u.getChildren();let _,w,E=0;for(let e=b;e<=y;e++){const t=x[e];if(!(0,i.lQ)(t))throw Error("getNodes: expected to find GridRowNode");const n=r[E];if(!(0,i.lQ)(n))throw Error("getNodes: expected to find GridRowNode");const o=t.getChildren(),a=n.getChildren();let l=0;for(let t=f;t<=v;t++){const n=o[t];if(!(0,i.zm)(n))throw Error("getNodes: expected to find GridCellNode");const r=a[l];if(!(0,i.zm)(r))throw Error("getNodes: expected to find GridCellNode");e===b&&t===f?_=n.getKey():e===y&&t===v&&(w=n.getKey());const s=n.getChildren();r.getChildren().forEach((e=>{(0,i.kF)(e)?((0,i.lJ)().append(e),n.append(e)):n.append(e)})),s.forEach((e=>e.remove())),l++}E++}if(_&&w){const e=(0,i.bA)();e.set(u.getKey(),_,w),(0,i.n1)(e),o.dispatchCommand(i.Mv,void 0)}}(t,n,0,e):function(e,t){const n=[];let o=null;for(let t=0;t<e.length;t++){const a=e[t],r=(0,i.wH)(a);if(r||(0,i.Cy)(a)&&a.isInline()||(0,i.ff)(a)&&a.isInline()||(0,i.kF)(a)||a.isParentRequired()){if(null===o&&(o=a.createParentElementNode(),n.push(o),r))continue;null!==o&&o.append(a)}else n.push(a),o=null}if((0,i.I2)(t))t.insertNodes(n);else if((0,i.zq)(t)){const e=t.anchor.getNode();if(!(0,i.zm)(e))throw Error("Expected Grid Cell in Grid Selection");e.append(...n)}}(t,n)}function la(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=null==t||n.isSelected(t);const r=(0,i.ff)(n)&&n.excludeFromCopy("html");let l=n;if(null!==t){let e=c(n);e=(0,i.kF)(e)&&null!=t?d(t,e):e,l=e}const s=(0,i.ff)(l)?l.getChildren():[],u=function(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType())throw Error("LexicalNode: Node ".concat(n.name," does not implement .exportJSON()."));const o=t.children;if((0,i.ff)(e)&&!Array.isArray(o))throw Error("LexicalNode: Node ".concat(n.name," is an element but .exportJSON() does not have a children array."));return t}(l);if((0,i.kF)(l)){const e=l.__text;e.length>0?u.text=e:a=!1}for(let o=0;o<s.length;o++){const r=s[o],l=la(e,t,r,u.children);!a&&(0,i.ff)(n)&&l&&n.extractWithChild(r,t,"clone")&&(a=!0)}if(a&&!r)o.push(u);else if(Array.isArray(u.children))for(let e=0;e<u.children.length;e++){const t=u.children[e];o.push(t)}return a}function sa(e){const t=[];for(let n=0;n<e.length;n++){const o=e[n],a=(0,i.GM)(o);(0,i.kF)(a)&&p(a),t.push(a)}return t}const ca=50;let da=null;async function ua(e,t){if(null!==da)return!1;if(null!==t)return new Promise(((n,o)=>{e.update((()=>{n(pa(e,t))}))}));const n=e.getRootElement(),o=null==e._window?window.document:e._window.document,a=na(e._window);if(null===n||null===a)return!1;const r=o.createElement("span");r.style.cssText="position: fixed; top: -1000px;",r.append(o.createTextNode("#")),n.append(r);const l=new Range;return l.setStart(r,0),l.setEnd(r,1),a.removeAllRanges(),a.addRange(l),new Promise(((t,n)=>{const a=e.registerCommand(i.u5,(n=>(Uo(n,ClipboardEvent)&&(a(),null!==da&&(window.clearTimeout(da),da=null),t(pa(e,n))),!0)),i.d);da=window.setTimeout((()=>{a(),da=null,t(!1)}),ca),o.execCommand("copy"),r.remove()}))}function pa(e,t){const n=na(e._window);if(!n)return!1;const o=n.anchorNode,a=n.focusNode;if(null!==o&&null!==a&&!(0,i.LY)(e,o,a))return!1;t.preventDefault();const r=t.clipboardData,l=(0,i.vJ)();if(null===r||null===l)return!1;const s=oa(e),c=aa(e);let d="";return null!==l&&(d=l.getTextContent()),null!==s&&r.setData("text/html",s),null!==c&&r.setData("application/x-lexical-editor",c),r.setData("text/plain",d),!0}var ga=n(95361),ma=n(52425);function ha(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fa(e,t){if(void 0!==document.caretRangeFromPoint){const n=document.caretRangeFromPoint(e,t);return null===n?null:{node:n.startContainer,offset:n.startOffset}}if("undefined"!==document.caretPositionFromPoint){const n=document.caretPositionFromPoint(e,t);return null===n?null:{node:n.offsetNode,offset:n.offset}}return null}const ba="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,va=ba&&"documentMode"in document?document.documentMode:null;ba&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),ba&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);const ya=!(!ba||!("InputEvent"in window)||va)&&"getTargetRanges"in new window.InputEvent("input"),xa=ba&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),_a=ba&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;ba&&/Android/.test(navigator.userAgent);const wa=ba&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Ea=ba&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!wa,ka={};var Ca=void 0;const Sa="paste-html-action-menu";var Aa=null;const Ta=(0,i.gu)("DRAG_DROP_PASTE_FILE");class Na extends i.fG{static getType(){return"quote"}static clone(e){return new Na(e.__key)}constructor(e){super(e),ha(this,"__version",1)}createDOM(e){const t=document.createElement("blockquote");return Fo(t,e.theme.quote),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:Da,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(t&&(0,i.sb)(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();t.style.textAlign=e;const n=this.getDirection();n&&(t.dir=n),t.setAttribute("data-e-indent",this.getIndent().toString()),t.setAttribute("data-v",String(1)),this.getFirstElement()&&!Be&&t.classList.add("first-rte-element"),this.getLastElement()&&!Be&&t.classList.add("last-rte-element")}return{element:t}}static importJSON(e){const t=La();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),null!=e&&e.first_element&&t.setFirstElement(null==e?void 0:e.first_element),t}exportJSON(){return{...super.exportJSON(),type:"quote",version:1,first_element:this.getFirstElement()}}insertNewAfter(e,t){const n=(0,i.lJ)(),o=this.getDirection();return n.setDirection(o),this.insertAfter(n,t),n}collapseAtStart(){const e=(0,i.lJ)();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}}function La(){return(0,i.pT)(new Na)}function Ia(e){return e instanceof Na}class Ma extends i.pi{static getType(){return"heading"}static clone(e){return new Ma(e.__tag,e.__sectionHeader,e.__key,e.getBlockStyle())}constructor(e,t,n,o){super(n),ha(this,"__version",1),ha(this,"__sectionHeader",!1),this.__tag=e,void 0!==t&&(this.__sectionHeader=t),o&&(this.__blockStyle=o)}getTag(){return this.__tag}createDOM(e){const t=this.__tag,n=document.createElement(t),o=e.theme.heading;void 0!==o&&Fo(n,o[t]),this.__sectionHeader&&n.classList.add("rte-section-header");const a=(0,i.oK)(this,"heading");return n.style.cssText=a,n.setAttribute("data-v",String(1)),this.getFirstElement()&&n.classList.add("first-rte-element"),this.getLastElement()&&n.classList.add("last-rte-element"),n}updateDOM(e,t){const n=(0,i.oK)(this.getLatest(),"heading");return t.style.cssText=n,!1}static importDOM(){return{h1:e=>({conversion:Ba,priority:0}),h2:e=>({conversion:Ba,priority:0}),h3:e=>({conversion:Ba,priority:0}),h4:e=>({conversion:Ba,priority:0}),h5:e=>({conversion:Ba,priority:0}),h6:e=>({conversion:Ba,priority:0}),p:e=>{const t=e.firstChild;return null!==t&&Oa(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>Oa(e)?{conversion:e=>({node:Ra("h1")}),priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(t&&(0,i.sb)(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=(0,i.oK)(this,"heading");t.style.cssText=e;const n=this.getDirection();n&&(t.dir=n),this.__sectionHeader&&t.classList.add("rte-section-header"),t.setAttribute("data-v",String(1))}return{element:t}}static importJSON(e){const t=Ra(e.tag);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t.setBlockStyle(structuredClone(e.blockStyle)),t.setSectionHeader(e.sectionHeader),t.setFirstElement(null==e?void 0:e.first_element),t}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1,sectionHeader:this.__sectionHeader}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e?e.anchor.offset:0,o=n!==this.getTextContentSize()&&e?Ra(this.getTag()):(0,i.lJ)(),a=this.getDirection();if(o.setDirection(a),this.insertAfter(o,t),0===n&&!this.isEmpty()&&e){const e=(0,i.lJ)();e.select(),this.replace(e,!0)}return o}collapseAtStart(){const e=this.isEmpty()?(0,i.lJ)():Ra(this.getTag());return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}extractWithChild(){return!0}setIndent(e){return this.getWritable().__indent=Math.min(e,i.uA),this}getSectionHeader(){return this.getLatest().__sectionHeader}setSectionHeader(e){const t=this.getWritable();return t.__sectionHeader=e,t}}function Oa(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function Ba(e){const t=e.nodeName.toLowerCase();let n=null;if("h1"===t||"h2"===t||"h3"===t||"h4"===t||"h5"===t||"h6"===t){if(n=Ra(t),null!==e.style){const o=(0,i.Dz)(e.style.cssText,t);n.setFormat(o.textAlign);const a=e.getAttribute("data-e-indent");if(a){const e=parseInt(a);!isNaN(e)&&isFinite(e)?n.setIndent(Math.max(0,Math.min(e,i.uA))):n.setIndent(0)}else n.setIndent(0);const r=e.getAttribute("dir");"ltr"===r||"rtl"===r?n.setDirection(r):n.setDirection("ltr"),n.setBlockStyle(o)}e.classList.contains("rte-section-header")&&n.setSectionHeader(!0),e.classList.contains("first-rte-element")&&n.setFirstElement(!0),e.classList.contains("last-rte-element")&&n.setLastElement(!0)}return{node:n}}function Da(e){const t=La();return null!==e.style&&t.setFormat(e.style.textAlign),e.classList.contains("first-rte-element")&&t.setFirstElement(!0),e.classList.contains("last-rte-element")&&t.setLastElement(!0),{node:t}}function Ra(e){return(0,i.pT)(new Ma(e))}function za(e){return e instanceof Ma}function Pa(e){let t=null;if(e instanceof DragEvent||e instanceof InputEvent?t=e.dataTransfer:e instanceof ClipboardEvent&&(t=e.clipboardData),null===t)return[!1,[],!1];const n=t.types,o=n.includes("Files"),a=n.includes("text/html")||n.includes("text/plain");return[o,Array.from(t.files),a]}function Fa(e){const t=(0,i.vJ)();if(!(0,i.I2)(t))return!1;const n=new Set,o=t.getNodes();for(let t=0;t<o.length;t++){const a=o[t],i=a.getKey();if(n.has(i))continue;const r=jo(a),l=r.getKey();r.canIndent()&&!n.has(l)&&(n.add(l),e(r))}return n.size>0}function Ha(e){const t=(0,i.xL)(e);return(0,i.Cy)(t)}(0,i.gu)("HANDLE_EMPTY_COMMAND");const qa=(0,i.gu)("INSERT_QUOTE_COMMAND"),ja=(0,i.gu)("CREATE_HEADING_COMMAND");function Ka(e){return function(){e.dispatchCommand(qa,void 0)}}const Wa=new Set(["h1","h2","h3","h4","h5","h6","p"]);function Ja(e){return function(){const t=this.getAttribute("data-payload");Wa.has(t)&&e.dispatchCommand(ja,t)}}function Ua(e){e.update((()=>{const t=e.getRootElement(),n=(0,i.Ni)();if(n.isEmpty()){const e=(0,i.lJ)();if(t&&t.hasAttribute("data-placeholder")){const n=(0,i.sT)(t.getAttribute("data-placeholder"));e.append(n)}else{const t=(0,i.sT)("Insert Content Here...");e.append(t)}n.append(e)}}))}function Va(){const e=document.getElementById(Sa);if(e&&ka[Sa]){try{ka[Sa](),delete ka[Sa]}catch(e){}e.style.display="none",e.style.opacity="0"}}function Ga(){Va();const e=de();e&&e.update((()=>{const e=(0,i.vJ)();if(((0,i.I2)(e)||(0,i.zq)(e))&&Ca)try{const t=(new DOMParser).parseFromString(Ca,"text/html").body.innerText.trim();if((0,i.I2)(e)){const n=t.split(/(\r?\n|\t)/);""===n[n.length-1]&&n.pop();for(let t=0;t<n.length;t++){const o=n[t];"\n"===o||"\r\n"===o?e.insertParagraph():"\t"===o?e.insertNodes([(0,i.ev)()]):e.insertText(o)}}else e.insertRawText(t)}catch(e){}}))}function Xa(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&Array.from(e.querySelectorAll("*")).forEach((e=>{e instanceof HTMLElement&&(e.style.cssText="")})),e.querySelectorAll("table table").forEach((e=>{e.remove()})),e.querySelectorAll("table").forEach((e=>{const t=document.createElement("div");t.className="table-wrapper",t.insertAdjacentHTML("afterbegin",e.outerHTML),e.replaceWith(t)})),e.querySelectorAll("td, th").forEach((e=>{const t=Array.from(e.childNodes),n=Array.from(e.children);if(t[0].textContent&&t[0].textContent.trim().length>=1||0===n.length){const t=document.createElement("p");t.className="lex-grid-p",t.innerHTML=e.innerHTML,e.innerHTML="",e.append(t),e.style.width=String(Math.min(7*e.innerText.length,265)).concat("px")}else for(let t of n)if("P"===t.tagName)t.className="lex-grid-p",e.style.width=String(Math.min(7*e.innerText.length,265)).concat("px");else{const n=document.createElement("p");t.insertBefore(n,t),n.appendChild(t),e.style.width=String(Math.min(7*e.innerText.length,265)).concat("px")}}))}function Ya(){Va();const e=de();e&&e.update((()=>{const t=(0,i.vJ)();if(((0,i.I2)(t)||(0,i.zq)(t))&&Ca)try{const n=(new DOMParser).parseFromString(Ca,"text/html");Xa(n,!0);const o=Yo(e,n);return ra(e,o,t)}catch(e){}}))}function Za(){Va();const e=de();e&&e.update((()=>{const t=(0,i.vJ)();if(((0,i.I2)(t)||(0,i.zq)(t))&&Ca)try{const n=(new DOMParser).parseFromString(Ca,"text/html");Xa(n,!1);const o=Yo(e,n);return ra(e,o,t)}catch(e){}}))}function $a(){if(Va(),Ca){const e=de();e&&Promise.resolve().then(n.bind(n,17800)).then((t=>{const n=t.validateUgcCode(Ca);e.dispatchCommand(no,n)})).catch((e=>{console.error(e)}))}}const Qa=(0,i.gu)("COPY_EDITOR_COMMAND");function ei(e){const t=de();t&&t.dispatchCommand(Qa,null)}function ti(e){var t;const n=document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));if(n){!function(e,t){const n=Array.from(e.querySelectorAll('button[data-dispatch="CREATE_HEADING_COMMAND"]')),o=e.querySelector('button[data-dispatch="INSERT_QUOTE_COMMAND"]');t.hasNode(Ma)&&n.forEach((e=>{null!==e.getAttribute("data-mouse-down")?(e.addEventListener("mousedown",Ja(t)),e.addEventListener("touchstart",Ja(t))):e.addEventListener("click",Ja(t))})),t.hasNode(Na)&&o&&(null!==o.getAttribute("data-mouse-down")?(o.addEventListener("mousedown",Ka(t)),o.addEventListener("touchstart",Ka(t))):o.addEventListener("click",Ka(t)),t.dispatchCommand(qa,void 0))}(n,e);const t=n.querySelector("button[data-copy-editor]");t&&t.addEventListener("click",ei)}}function ni(e){ti(e);const t=document.getElementById(Sa);if(t){const e=t.querySelector('button[data-type="text"]');e&&e.addEventListener("click",Ga);const n=t.querySelector('button[data-type="html-no-style"]');n&&n.addEventListener("click",Ya);const o=t.querySelector('button[data-type="html-style"]');o&&o.addEventListener("click",Za);const a=t.querySelector('button[data-type="html-node"]');a&&a.addEventListener("click",$a)}const n=[e.registerCommand(i.d8,(t=>{if(t){const n=(0,i.Ni)();if(n){const o=n.getChildren();if((0,i.Cy)(o[o.length-1])){const a=o[o.length-1].getKey(),r=e.getElementByKey(a);if(r&&t.clientY>r.getBoundingClientRect().bottom+window.scrollY)return n.append((0,i.lJ)()),!0}}}return!1}),i.d),e.registerCommand(i.Wu,(e=>{const t=(0,i.vJ)();return!!(0,i.I2)(t)&&(t.deleteCharacter(e),!0)}),i.jZ),e.registerCommand(i.hi,(e=>{const t=(0,i.vJ)();return!!(0,i.I2)(t)&&(t.deleteWord(e),!0)}),i.jZ),e.registerCommand(i.vi,(e=>{const t=(0,i.vJ)();return!!(0,i.I2)(t)&&(t.deleteLine(e),!0)}),i.jZ),e.registerCommand(i.bM,(t=>{const n=(0,i.vJ)();if("string"==typeof t)(0,i.I2)(n)?n.insertText(t):(0,i.zq)(n);else{if(!(0,i.I2)(n)&&!(0,i.zq)(n))return!1;const o=t.dataTransfer;if(null!=o)ia(o,n,e);else if((0,i.I2)(n)){const e=t.data;return e&&n.insertText(e),!0}}return!0}),i.jZ),e.registerCommand(i.$e,(()=>{const e=(0,i.vJ)();return!!(0,i.I2)(e)&&(e.removeText(),!0)}),i.jZ),e.registerCommand(i.mB,(e=>{const t=(0,i.vJ)();return!!(0,i.I2)(t)&&(t.formatText(e),!0)}),i.jZ),e.registerCommand(i.fU,(e=>{const t=(0,i.vJ)();if(!(0,i.I2)(t)&&!(0,i.RT)(t))return!1;const n=t.getNodes();for(const t of n){const n=Ko(t,(e=>(0,i.ff)(e)&&!e.isInline()));null!==n&&n.setFormat(e)}return!0}),i.jZ),e.registerCommand(i.FE,(e=>{const t=(0,i.vJ)();return!!(0,i.I2)(t)&&(t.insertLineBreak(e),!0)}),i.jZ),e.registerCommand(i.XK,(()=>{const e=(0,i.vJ)();if(!(0,i.I2)(e))return!1;const t=e.insertParagraph();return t&&t.setFormat("left"),!0}),i.jZ),e.registerCommand(i.YW,(()=>((0,i.H2)([(0,i.ev)()]),!0)),i.jZ),e.registerCommand(i.Pi,(()=>Fa((e=>{const t=e.getIndent();e.setIndent(t+1)}))),i.jZ),e.registerCommand(i.si,(()=>Fa((e=>{const t=e.getIndent();t>0&&e.setIndent(t-1)}))),i.jZ),e.registerCommand(i.gC,(t=>{if(Ha(t.target))return!1;const n=(0,i.vJ)();if(!(0,i.I2)(n))return!1;t.preventDefault();const{anchor:o}=n,a=o.getNode();return n.isCollapsed()&&0===o.offset&&!(0,i.hV)(a)&&jo(a).getIndent()>0?e.dispatchCommand(i.si,void 0):e.dispatchCommand(i.Wu,!0)}),i.jZ),e.registerCommand(i.w$,(t=>{if(Ha(t.target))return!1;const n=(0,i.vJ)();return!!(0,i.I2)(n)&&(t.preventDefault(),e.dispatchCommand(i.Wu,!1))}),i.jZ),e.registerCommand(i.if,(t=>{const n=(0,i.vJ)();if(!(0,i.I2)(n))return!1;if(null!==t){if((_a||xa||Ea)&&ya)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(i.FE,!1)}return e.dispatchCommand(i.XK,void 0)}),i.jZ),e.registerCommand(i.Q$,(()=>{const t=(0,i.vJ)();return!!(0,i.I2)(t)&&(e.blur(),!0)}),i.jZ),e.registerCommand(i.Sr,(t=>{const[,n]=Pa(t);if(n.length>0){const o=fa(t.clientX,t.clientY);if(null!==o){const{offset:t,node:a}=o,r=(0,i.xL)(a);if(null!==r){const e=(0,i.uT)();if((0,i.kF)(r))e.anchor.set(r.getKey(),t,"text"),e.focus.set(r.getKey(),t,"text");else{const t=r.getParentOrThrow().getKey(),n=r.getIndexWithinParent()+1;e.anchor.set(t,n,"element"),e.focus.set(t,n,"element")}const n=(0,i.C)(e);(0,i.n1)(n)}e.dispatchCommand(Ta,n)}return t.preventDefault(),!0}const o=(0,i.vJ)();return!!(0,i.I2)(o)}),i.jZ),e.registerCommand(i.Tg,(e=>{const[t]=Pa(e),n=(0,i.vJ)();return!(t&&!(0,i.I2)(n))}),i.jZ),e.registerCommand(i.ri,(e=>{const[t]=Pa(e),n=(0,i.vJ)();if(t&&!(0,i.I2)(n))return!1;const o=fa(e.clientX,e.clientY);if(null!==o){const t=(0,i.xL)(o.node);(0,i.Cy)(t)&&e.preventDefault()}return!0}),i.jZ),e.registerCommand(i.HY,(()=>((0,i.e1)(),!0)),i.jZ),e.registerCommand(i.VS,(t=>(async function(e,t){await ua(t,Uo(e,ClipboardEvent)?e:null),t.update((()=>{const e=(0,i.vJ)();(0,i.I2)(e)?e.removeText():(0,i.RT)(e)&&e.getNodes().forEach((e=>e.remove()))}))}(t,e),!0)),i.jZ),e.registerCommand(i.w,(t=>{const[,n,o]=Pa(t);if(n.length>0&&!o)return e.dispatchCommand(Ta,n),!0;if((0,i.Z$)(t.target))return!1;const a=(0,i.vJ)();return!(!(0,i.I2)(a)&&!(0,i.zq)(a)||(function(e,t){e.preventDefault(),t.update((()=>{const n=(0,i.vJ)(),o=e instanceof InputEvent||e instanceof KeyboardEvent?null:e.clipboardData;null!=o&&((0,i.I2)(n)||(0,i.zq)(n))&&ia(o,n,t)}),{tag:"paste"})}(t,e),0))}),i.jZ),e.registerCommand(i.SK,(()=>{const e=(0,i.Ni)();return e.clear(),e.append((0,i.lJ)().append((0,i.sT)())),e.selectEnd(),!1}),i.jZ),e.registerCommand(i.$7,(()=>{const e=(0,i.Ni)();if(e.isEmpty()){const t=(0,i.lJ)(),n=(0,i.sT)();t.append(n),e.append(t)}return!1}),i.jZ),oi(e),e.registerCommand(Fe,(t=>{let{rect:n,html:o}=t;Ca=o;const a=document.getElementById("text-table-selection-ref");return a&&(a.style.top="calc(".concat(n.top.toString().concat("px")+" + var(--safe-area-inset-top-0px) + var(--virtual-keyboard-height)",")"),a.style.left=((n.left+n.right)/2).toString().concat("px"),function(e,t){const n=document.getElementById(Sa);if(n){n.style.display="flex";const o=function(){const o=document.getSelection(),a=t.getRootElement();if(o&&a&&o.rangeCount>0){const t=Ie(o,a);if(e&&t){const e=o.getRangeAt(0).commonAncestorContainer;if(0===t.left&&0===t.right&&e instanceof HTMLElement){const n=e.getBoundingClientRect();t.left=n.left,t.right=n.right,t.top+=n.top}0===t.top&&0===t.left&&Va(),this.style.top="calc(".concat(t.top.toString().concat("px")+" + var(--safe-area-inset-top-0px) + var(--virtual-keyboard-height)",")"),this.style.left=((t.left+t.right)/2).toString().concat("px")}}else Va();const i={placement:"bottom-end",middleware:[(0,ga.cY)(6),(0,ma.BN)(),(0,ma.UU)()]};(0,ma.rD)(this,n,i).then((e=>{let{x:t,y:o}=e;const a={left:"".concat(t,"px"),top:"calc(".concat(o.toString().concat("px")+" + var(--safe-area-inset-top-0px) + var(--virtual-keyboard-height)",")"),opacity:"1"};Object.assign(n.style,a)}))}.bind(e);o();const a=(0,ma.ll)(e,n,o);ka[Sa]&&delete ka[Sa],ka[Sa]=a}else Va()}(a,e)),!0}),i.Jj),e.registerCommand(i.$7,(()=>(Aa&&clearTimeout(Aa),!1)),i.jZ),e.registerCommand(i.pF,(()=>(Aa=setTimeout((()=>{Va(),Aa=null}),500),!1)),i.jZ),e.registerCommand(i.Mv,(()=>(Va(),!1)),i.jZ),e.registerCommand(He,(()=>(ti(e),!1)),i.jZ)];return e.hasNode(Ma)&&n.push(e.registerCommand(ja,(e=>{const t=(0,i.vJ)();return!!(0,i.I2)(t)&&("p"===e?(f(t,(()=>(0,i.lJ)())),!0):(f(t,(()=>Ra(e))),!0))}),i.jZ)),e.hasNode(Na)&&n.push(e.registerCommand(qa,(()=>{const e=(0,i.vJ)();return(0,i.I2)(e)&&f(e,(()=>La())),!1}),i.jZ)),e._rootElement&&!e._rootElement.hasAttribute("data-no-color")&&n.push(e.registerCommand(i.if,(()=>{const e=(0,i.vJ)();if((0,i.I2)(e)&&e.isCollapsed()){const n=e.getNodes();if(n.length){var t;const e=n[0];if((0,i.kF)(e)&&((0,i.bS)(e.getParent())||"heading"===(null===(t=e.getParent())||void 0===t?void 0:t.getType()))){const t=e.getParent(),n=t.getTextContent();if(/css\[.*\]/.test(n)){const e=n.slice(4,n.length-1);if("paragraph"===t.getType()){const n=(0,i.Dz)(e,"p");return t.setBlockStyle(n),!0}if("heading"===t.getType()){const n=t.getTag(),o=(0,i.Dz)(e,n);return t.setBlockStyle(o),!0}}}}}return!1}),i.Wg)),n.push(e.registerCommand(Qa,(()=>{var t;const n=document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));return e.update((()=>{(0,i.e1)();const t=aa(e),o=oa(e);if(o&&ClipboardItem.supports("text/html")){const e=new ClipboardItem({"text/html":o});navigator.clipboard.write([e])}if(t&&ClipboardItem.supports("application/json")){const e=new ClipboardItem({"application/json":JSON.parse(t)});navigator.clipboard.write([e])}n&&ClipboardItem.supports("text/plain")&&navigator.clipboard.writeText(n.innerText),document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"success",message:"Successfully copied editor state to clipboard!"}}))})),!0}),i.jZ)),Po(...n)}function oi(e){return Po(e.registerCommand(i.d8,(e=>{const t=(0,i.vJ)();return!!(0,i.RT)(t)&&(t.clear(),!0)}),0),e.registerCommand(i.UD,(e=>{const t=(0,i.vJ)();if((0,i.RT)(t)&&!Ha(e.target)){const e=t.getNodes();if(e.length>0)return e[0].selectPrevious(),!0}else if((0,i.I2)(t)){const n=(0,i.B$)(t.focus,!0);if(!e.shiftKey&&(0,i.Cy)(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0}return!1}),i.jZ),e.registerCommand(i.bb,(e=>{const t=(0,i.vJ)();if((0,i.RT)(t)){const e=t.getNodes();if(e.length>0)return e[0].selectNext(0,0),!0}else if((0,i.I2)(t)){if(function(e){const t=e.focus;return"root"===t.key&&t.offset===(0,i.Ni)().getChildrenSize()}(t))return e.preventDefault(),!0;const n=(0,i.B$)(t.focus,!1);if(!e.shiftKey&&(0,i.Cy)(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1}),i.jZ),e.registerCommand(i.AX,(e=>{const t=(0,i.vJ)();if((0,i.RT)(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectPrevious(),!0}if(!(0,i.I2)(t))return!1;if(b(t,!0)){const n=e.shiftKey;return e.preventDefault(),v(t,n,!0),!0}return!1}),i.jZ),e.registerCommand(i.JM,(e=>{const t=(0,i.vJ)();if((0,i.RT)(t)&&!Ha(e.target)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectNext(0,0),!0}if(!(0,i.I2)(t))return!1;const n=e.shiftKey;return!!b(t,!1)&&(e.preventDefault(),v(t,n,!1),!0)}),i.jZ),e.registerCommand(i.u5,(t=>(ua(e,Uo(t,ClipboardEvent)?t:null),!0)),i.jZ))}n(81959),n(58679);var ai="0.12.4";function ii(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ri extends i.fG{constructor(e){super(e),ii(this,"__version",1),this.__first=null,this.__last=null,this.__size=0,this.__format=2,this.__indent=0,this.__dir=null}static getType(){return"cell-paragraph"}static clone(e){return new ri(e.__key)}createDOM(e){const t=document.createElement("p");return t.className="lex-grid-p",this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}updateDOM(e,t,n){return!1}static importDOM(){return{p:e=>e.classList.contains("lex-grid-p")?{conversion:li,priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(t&&(0,i.sb)(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();t.style.textAlign=e;const n=this.getDirection();n&&(t.dir=n);const o=this.getIndent();o>0&&(t.style.textIndent="".concat(20*o,"px")),t.setAttribute("data-v",String(1))}return{element:t}}static importJSON(e){const t=si();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"cell-paragraph",version:1}}insertNewAfter(e,t){const n=si(),o=this.getDirection();return n.setDirection(o),this.insertAfter(n,t),n}collapseAtStart(){const e=this.getChildren();if(0===e.length||(0,i.kF)(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function li(e){const t=si();if(e.style){t.setFormat(e.style.textAlign);const n=parseInt(e.style.textIndent,10)/20;n>0&&t.setIndent(n)}return{node:t}}function si(){return(0,i.pT)(new ri)}function ci(e){return e instanceof ri}const di=/^(\d+(?:\.\d+)?)px$/;class ui extends i.d5{static getType(){return"tablerow"}static clone(e){return new ui(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:pi,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);return t&&(this.__height&&(t.style.height="".concat(this.getHeight(),"px")),(0,i.sb)(t)&&t.setAttribute("data-v",String(1))),{element:t}}static importJSON(e){return gi(e.height)}constructor(e,t){super(t),ii(this,"__version",1),this.__height=e}exportJSON(){return{...super.exportJSON(),type:"tablerow",version:1}}createDOM(e){const t=document.createElement("tr");return this.__height&&(t.style.height="".concat(this.__height,"px")),Fo(t,e.theme.tableRow),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}isShadowRoot(){return!0}setHeight(e){return this.getWritable().__height=e,this.__height}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function pi(e){const t=e;let n;return di.test(t.style.height)&&(n=parseFloat(t.style.height)),{node:gi(n)}}function gi(e){return(0,i.pT)(new ui(e))}function mi(e){return e instanceof ui}const hi="10px auto 10px 0px",fi="10px auto",bi="10px 0px 10px auto";class vi extends i.L${static getType(){return"table"}static clone(e){return new vi({caption:e.getCaption(),bandedRows:e.getBandedRows(),bandedCols:e.getBandedCols(),align:e.getAlign()},e.__key)}static importDOM(){return{table:e=>({conversion:yi,priority:1})}}static importJSON(e){const t=xi({caption:e.caption,bandedRows:e.bandedRows,bandedCols:e.bandedCols,align:e.align});return t.setFirstElement(null==e?void 0:e.first_element),t}constructor(e,t){super(t),ii(this,"__version",1),this.__caption=null==e?void 0:e.caption,this.__bandedRows=(null==e?void 0:e.bandedRows)||!1,this.__bandedCols=(null==e?void 0:e.bandedCols)||!1,this.__align=(null==e?void 0:e.align)||"center"}exportJSON(){return{...super.exportJSON(),type:"table",version:1,caption:this.getCaption(),bandedCols:this.getBandedCols(),bandedRows:this.getBandedRows(),align:this.getAlign(),first_element:this.getFirstElement()}}createDOM(e,t){const n=document.createElement("table");if(n.setAttribute("cellspacing","0"),Fo(n,e.theme.table),this.__caption){const e=document.createElement("caption");null!=t&&t.isEditable()&&e.setAttribute("contenteditable","false"),e.className="h5 bold",e.innerText=this.__caption,n.append(e),n.setAttribute("data-caption",this.__caption)}return this.__bandedRows&&n.classList.add("banded-row"),this.__bandedCols&&n.classList.add("banded-col"),"left"===this.__align?n.style.setProperty("margin",hi,"important"):"center"===this.__align?n.style.setProperty("margin",fi,"important"):"right"===this.__align&&n.style.setProperty("margin",bi,"important"),n.setAttribute("data-v",String(1)),this.getFirstElement()&&n.classList.add("first-rte-element"),this.getLastElement()&&n.classList.add("last-rte-element"),n}updateDOM(e,t,n){return e.__bandedCols!==this.__bandedCols||e.__bandedRows!==this.__bandedRows||e.__caption!==this.__caption||e.__align!==this.__align}exportDOM(e){const t=this.getCaption(),n=this.getBandedCols(),o=this.getBandedRows(),a=this.getAlign();return{...super.exportDOM(e),after:e=>{if(e){const r=e.cloneNode();(0,i.sb)(e)&&(this.getFirstElement()&&!Be&&e.classList.add("first-rte-element"),this.getLastElement()&&!Be&&e.classList.add("last-rte-element"),t&&e.setAttribute("data-caption",t),n&&e.classList.add("banded-col"),o&&e.classList.add("banded-row"),"left"===a?e.style.setProperty("margin",hi,"important"):"center"===a?e.style.setProperty("margin",fi,"important"):"right"===a&&e.style.setProperty("margin",bi,"important"),e.setAttribute("data-v",String(1)));const l=document.createElement("colgroup"),s=document.createElement("tbody");(0,i.sb)(e)&&s.append(...e.children);const c=this.getFirstChildOrThrow();if(!mi(c))throw new Error("Expected to find row node.");const d=c.getChildrenSize();for(let e=0;e<d;e++){const e=document.createElement("col");l.append(e)}return r.replaceChildren(l,s),r}}}}canExtractContents(){return!1}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){const{rows:n,cells:o}=t;for(let t=0;t<n;t++){const n=o[t];if(null==n)continue;const a=n.findIndex((t=>{if(!t)return;const{elem:n}=t;return(0,i.xL)(n)===e}));if(-1!==a)return{x:a,y:t}}throw new Error("Cell not found in table.")}getCellFromCords(e,t,n){const{cells:o}=n,a=o[t];if(null==a)return null;const i=a[e];return null==i?null:i}getCellFromCordsOrThrow(e,t,n){const o=this.getCellFromCords(e,t,n);if(!o)throw new Error("Cell not found at cords.");return o}getCellNodeFromCords(e,t,n){const o=this.getCellFromCords(e,t,n);if(null==o)return null;const a=(0,i.xL)(o.elem);return ul(a)?a:null}getCellNodeFromCordsOrThrow(e,t,n){const o=this.getCellNodeFromCords(e,t,n);if(!o)throw new Error("Node at cords not TableCellNode.");return o}canSelectBefore(){return!0}canIndent(){return!1}getCaption(){return this.getLatest().__caption}setCaption(e){const t=this.getWritable();return t.__caption=e,t}getBandedRows(){return this.getLatest().__bandedRows}setBandedRows(e){const t=this.getWritable();return t.__bandedRows=e,t}getBandedCols(){return this.getLatest().__bandedCols}setBandedCols(e){const t=this.getWritable();return t.__bandedCols=e,t}getAlign(){return this.getLatest().__align}setAlign(e){const t=this.getWritable();return t.__align=e,t}}function yi(e){if($(e)){const n=e.classList.contains("first-rte-element"),o=e.classList.contains("last-rte-element"),a=e.getAttribute("data-caption"),i=e.classList.contains("banded-row"),r=e.classList.contains("banded-col"),l=e.style.getPropertyValue("margin");var t;l===hi?t="left":l===fi?t="center":l===bi&&(t="right");const s=xi({caption:a||void 0,bandedCols:r,bandedRows:i,align:t||"center"});return s.setFirstElement(n),s.setLastElement(o),{node:s}}return{node:xi()}}function xi(e){return(0,i.pT)(new vi(e))}function _i(e){return e instanceof vi}const wi="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;var Ei="",ki=void 0;const Ci={},Si=()=>({activeCell:null,selection:null,columns:null,rows:null,backgroundColor:null,rectangular:!0,canUnmergeCells:!1,canMergeCells:!1,canAddRowHeader:!0,canAddColHeader:!0,canRemoveColHeader:!0,canRemoveRowHeader:!0,rowIndexes:new Set,colIndexes:new Set,bandedRows:!1,bandedCols:!1,tableKey:"-1",caption:void 0,align:"center",namespace:"",canDeleteColumn:!1});var Ai={};const Ti={},Ni=new Set(["left","center","right"]),Li="lexical-table-action-menu";var Ii=void 0;function Mi(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function Oi(e){Ci[e]||(Ci[e]=Si()),Ci[e].activeCell=null,Ci[e].selection=null,Ci[e].columns=null,Ci[e].rows=null,Ci[e].backgroundColor=null,Ci[e].rectangular=!0,Ci[e].canUnmergeCells=!1,Ci[e].canMergeCells=!1,Ci[e].canAddRowHeader=!0,Ci[e].canAddColHeader=!0,Ci[e].canRemoveColHeader=!0,Ci[e].canRemoveRowHeader=!0,Ci[e].rowIndexes=new Set,Ci[e].colIndexes=new Set,Ci[e].bandedRows=!1,Ci[e].bandedCols=!1,Ci[e].tableKey="-1",Ci[e].caption=void 0,Ci[e].align="center",Ci[e].namespace="",Ci[e].canDeleteColumn=!0}function Bi(){const e=document.getElementById("tables-lexical");if(e){const n=e.querySelector("form#lexical-insert-table-upload-data");if(n){const o=e.querySelector("input#upload-data-to-table"),a=e.querySelector("input#lexical-table-include-heading-row-upload"),i=!a||a.checked,r=e.querySelector("input#lexical-table-include-heading-column-upload"),l=!r||r.checked,s=e.querySelector("input#lexical-table-banded-rows-upload"),c=!!s&&s.checked,d=e.querySelector("input#lexical-table-banded-cols-upload"),u=!!d&&d.checked,p=e.querySelector('output[form="lexical-insert-table-upload-data"][data-preview]'),g=e.querySelector("input#lexical-table-include-caption-upload"),m=!!g&&g.checked,h=e.querySelector("input#lex-table-caption-input-upload"),f=Array.from(e.querySelectorAll('input[name="lexical-insert-table-align-upload"]'));var t="center";if(Array.isArray(f)){const e=f.filter((e=>!0===e.checked)).map((e=>e.value))[0];Ni.has(e)&&(t=e)}return{fileUpload:o,dialog:e,form:n,headingRow:i,headingCol:l,bandedRows:c,bandedCols:u,preview:p,includeCaption:m,captionInput:h,caption:h?h.value:"",align:t}}return null}return null}function Di(e){const t=document.createElement("input");t.name=e.name,t.id=e.id,t.className=e.className,t.type=e.type,t.accept=e.accept,e.replaceWith(t),t.addEventListener("change",zi)}function Ri(){const e=Bi();if(e){const t=e.preview;if(t){const n=t.querySelector("table");if(n){const t=n.querySelector("caption");if(e.bandedCols&&!n.classList.contains("banded-col")&&n.classList.add("banded-col"),e.bandedRows&&!n.classList.contains("banded-row")&&n.classList.add("banded-row"),"left"===e.align?n.style.setProperty("margin","10px auto 10px 0px","important"):"center"===e.align?n.style.setProperty("margin","10px auto","important"):"right"===e.align&&n.style.setProperty("margin","10px 0px 10px auto","important"),e.includeCaption)if(e.captionInput&&e.captionInput.removeAttribute("disabled"),t)t.innerText!==e.caption&&(t.innerText=e.caption);else{const t=document.createElement("caption");t.innerText=e.caption,n.insertAdjacentElement("afterbegin",t)}else t&&t.remove(),e.captionInput&&e.captionInput.setAttribute("disabled","");const o="rte-tableCell",a="rte-tableCell rte-tableCellHeader",i=Array.from(n.querySelectorAll("tr:first-child>*"));i.length&&(e.headingCol?i.forEach((e=>{var t=e;if("TH"!==t.tagName){const e=document.createElement("th");e.style.setProperty("text-align","center"),e.setAttribute("scope","col"),e.scope="col",e.className=a,e.innerText=t.innerText,t.replaceWith(e),t=e}t.className!==a&&(t.className=a)})):i.forEach((e=>{var t=e;if("TD"!==t.tagName){const e=document.createElement("td");e.style.setProperty("text-align","center"),e.className=o,e.innerText=t.innerText,t.replaceWith(e),t=e}t.className!==o&&(t.className=o)})));const r=Array.from(n.querySelectorAll("tr>*:first-child"));r.length&&(e.headingRow?r.forEach((e=>{var t=e;if("TH"!==t.tagName){const e=document.createElement("th");e.style.setProperty("text-align","center"),e.setAttribute("scope","row"),e.scope="row",e.className=a,e.innerText=t.innerText,t.replaceWith(e),t=e}t.className!==a&&(t.className=a)})):r.forEach((e=>{var t=e;if("TD"!==t.tagName){const e=document.createElement("td");e.style.setProperty("text-align","center"),e.className=o,e.innerText=t.innerText,t.replaceWith(e),t=e}t.className!==o&&(t.className=o)})))}}}}function zi(e){const t=document.querySelector("html"),n=de();if(this.files&&this.files.length&&t&&n){var o,a=void 0;const e=this.files[0],i=new FormData,r=this.closest("form");r&&(o=document.querySelector('output[form="'.concat(r.id,'"]')),a=r.querySelector('button[type="submit"]')),i.append("file",e),fe("Creating table from uploaded file..."),fetch("/api/lexical-table",{method:"POST",body:i,headers:{"X-CSRF-Token":Ze()}}).then((async e=>{if(200!==e.status){const{html:n}=await e.json();r&&r.insertAdjacentHTML("beforeend",n),r&&t.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:r}}))}else{const{html:t,json:i}=await e.json(),r=n._config.namespace;ki={editorNamespace:r,json:i},o&&(o.innerHTML=t),Ri(),a&&a.hasAttribute("disabled")&&a.removeAttribute("disabled")}be(),Di(this)})).catch((e=>{be(),Di(this)}))}}function Pi(e){const t=Bi(),n=de();if(t&&n&&ki&&ki.json&&ki.editorNamespace===n._config.namespace){const e={rows:t.headingRow,columns:t.headingCol};n.dispatchCommand(ml,{columns:ki.json[0].length.toFixed(0),rows:ki.json.length.toFixed(0),includeHeaders:e,caption:t.includeCaption?t.caption:void 0,bandedRows:t.bandedRows,bandedCols:t.bandedCols,align:t.align,json:ki.json}),t.preview&&Mi(t.preview),t.form.reset(),me(t.dialog)}}function Fi(){const e=Bi(),t=de();if(e&&t){const n=e.form.querySelector('button[type="submit"]');n&&(ki&&ki.editorNamespace===t._config.namespace&&n.hasAttribute("disabled")?n.removeAttribute("disabled"):n.hasAttribute("disabled")||ki&&ki.editorNamespace===t._config.namespace||n.setAttribute("disabled","")),Ri()}}function Hi(){const e=document.getElementById("tables-lexical");if(e){const n=e.querySelector("form#lexical-insert-table-form");if(n){const o=e.querySelector("input#lexical-table-include-heading-row"),a=!o||o.checked,i=e.querySelector("input#lexical-table-include-heading-column"),r=!i||i.checked,l=e.querySelector("input#lexical-table-banded-rows"),s=!!l&&l.checked,c=e.querySelector("input#lexical-table-banded-cols"),d=!!c&&c.checked,u=e.querySelector("input#lexical-table-number-rows"),p=u?Math.max(Math.min(parseInt(u.value),50),2):5,g=e.querySelector("input#lexical-table-number-cols"),m=g?Math.max(Math.min(parseInt(g.value),50),2):5,h=e.querySelector('output[form="lexical-insert-table-form"][data-preview]'),f=e.querySelector("input#lexical-table-include-caption"),b=!!f&&f.checked,v=e.querySelector("input#lex-table-caption-input"),y=Array.from(e.querySelectorAll('input[name="lexical-insert-table-align"]'));var t="center";if(Array.isArray(y)){const e=y.filter((e=>!0===e.checked)).map((e=>e.value))[0];Ni.has(e)&&(t=e)}return{dialog:e,form:n,headingRow:a,headingCol:r,bandedRows:s,bandedCols:d,numRows:p,numCols:m,preview:h,includeCaption:b,captionInput:v,caption:v?v.value:"",align:t}}return null}return null}function qi(e){e.preventDefault(),e.stopPropagation();const t=this.closest("div.dialog-wrapper"),n=de(),o=this.querySelector('input[name="edit-table-banded-rows"]'),a=this.querySelector('input[name="edit-table-banded-columns"]'),r=this.querySelector('input[name="edit-table-include-caption"]'),l=this.querySelector('input[name="edit-table-new-caption"]'),s=Array.from(this.querySelectorAll('input[name="lexical-edit-table-align"]')).filter((e=>!0===e.checked)).map((e=>e.value))[0];if(t&&n){const e=Ci[n._config.namespace].tableKey;Oi(n._config.namespace),n.update((()=>{if(e){const t=(0,i.ns)(e);_i(t)&&(a&&a.checked!==t.getBandedCols()&&t.setBandedCols(a.checked),o&&o.checked!==t.getBandedRows()&&t.setBandedRows(o.checked),r&&(r.checked&&l?t.setCaption(l.value):t.setCaption(void 0)),Ni.has(s)&&t.setAlign(s))}Wi(),me(t)}))}}function ji(e){const t=this.closest("form");if(t){const e=t.querySelector('input[type="text"]');e&&(this.checked?e.removeAttribute("disabled"):e.setAttribute("disabled",""))}}function Ki(e){e.stopPropagation(),e.preventDefault(),Wi();const t=document.getElementById(Li);if(t){t.style.display="flex";const e=function(){const e={placement:"right-start",middleware:[(0,ga.cY)(2),(0,ma.BN)(),(0,ma.UU)()]};this.isConnected||Wi(),(0,ma.rD)(this,t,e).then((e=>{let{x:n,y:o}=e;const a={left:"".concat(n,"px"),top:"".concat(o,"px"),opacity:"1"};Object.assign(t.style,a)}))}.bind(this);e();const n=(0,ma.ll)(this,t,e);Ti[Li]&&delete Ti[Li],Ti[Li]=n}}function Wi(){const e=document.getElementById(Li);if(e){if(Ti[Li])try{Ti[Li](),delete Ti[Li]}catch(e){}e.style.display="none",e.style.opacity="0"}}function Ji(e){const t=de();if(t){const e=t._config.namespace;Ci[e]||(Ci[e]=Si()),t.update((()=>{if(Ci[e].selection&&Ci[e].tableKey){var n;const o=t.getElementByKey(Ci[e].tableKey),{columns:a,rows:r}=Ci[e],l=null===(n=Ci[e])||void 0===n?void 0:n.activeCell;if(l&&a&&r&&Ci[e].selection){const t=Ci[e].selection.getNodes();for(let e of t)e.is(l)?e.setColSpan(a).setRowSpan(r):ul(e)&&e.remove()}const s=Ci[e].tableKey;if(Oi(e),l&&(l.setActive(!0),function(e){const t=e.getLastDescendant();(0,i.kF)(t)?t.select():(0,i.ff)(t)?t.selectEnd():null!==t&&t.selectNext()}(l)),o&&o.classList.remove("selecting"),s&&Ai[e]){const n=Ai[e].get(s);n instanceof Tr&&Vr(t,n)}Wi()}}))}}function Ui(e){const t=de();if(t){const e=t._config.namespace;Ci[e]||(Ci[e]=Si()),t.update((()=>{var n,o;null!==(n=Ci[e])&&void 0!==n&&n.activeCell&&(null===(o=Ci[e])||void 0===o?void 0:o.activeCell).setActive(!1),function(){const e=(0,i.vJ)();if(!(0,i.I2)(e)&&!(0,i.zq)(e))throw Error("Expected a RangeSelection or GridSelection");const t=e.anchor.getNode(),[n,o,a]=(0,i.Jt)(t),r=n.__colSpan,l=n.__rowSpan;if(r>1){for(let e=1;e<r;e++)n.insertAfter(dl(al.NO_STATUS).append(si()));n.setColSpan(1)}if(l>1){const[e,t]=(0,i.OB)(a,n,n),{startColumn:s,startRow:c}=t;let d;for(let t=1;t<l;t++){const n=c+t,a=e[n];if(d=(d||o).getNextSibling(),!(0,i.lQ)(d))throw Error("Expected row next sibling to be a row");let l=null;for(let e=0;e<s;e++){const t=a[e],o=t.cell;t.startRow===n&&(l=o),o.__colSpan>1&&(e+=o.__colSpan-1)}if(null===l)for(let e=0;e<r;e++)zr(d,dl(al.NO_STATUS).append(si()));else for(let e=0;e<r;e++)l.insertAfter(dl(al.NO_STATUS).append(si()))}n.setRowSpan(1)}}();const a=Ci[e].tableKey;if(Oi(e),Wi(),a&&Ai[e]){const n=Ai[e].get(a);n instanceof Tr&&Vr(t,n)}}))}}function Vi(e){const t=de();if(t){const e=t._config.namespace;Ci[e]||(Ci[e]=Si()),t.update((()=>{var n;if(null!==(n=Ci[e])&&void 0!==n&&n.activeCell&&Ci[e].rows){var o;(null===(o=Ci[e])||void 0===o?void 0:o.activeCell).setActive(!1);const n=Ci[e].rows;Br(!!Ci[e].rowIndexes.has(0),n,Ci[e].canRemoveRowHeader);const a=Ci[e].tableKey;if(Oi(e),Wi(),a&&Ai[e]){const n=Ai[e].get(a);n instanceof Tr&&Vr(t,n)}}}))}}function Gi(e){const t=de();if(t){const e=t._config.namespace;Ci[e]||(Ci[e]=Si()),t.update((()=>{var n;if(null!==(n=Ci[e])&&void 0!==n&&n.activeCell&&Ci[e].rows){var o;(null===(o=Ci[e])||void 0===o?void 0:o.activeCell).setActive(!1),Br(!0,Ci[e].rows,Ci[e].canRemoveRowHeader);const n=Ci[e].tableKey;if(Oi(e),Wi(),n&&Ai[e]){const o=Ai[e].get(n);o instanceof Tr&&Vr(t,o)}}}))}}function Xi(e){const t=de();if(t){const e=t._config.namespace;Ci[e]||(Ci[e]=Si()),t.update((()=>{var n;if(null!==(n=Ci[e])&&void 0!==n&&n.activeCell&&Ci[e].columns){var o;(null===(o=Ci[e])||void 0===o?void 0:o.activeCell).setActive(!1),Dr(!1,Ci[e].columns,Ci[e].canRemoveColHeader);const n=Ci[e].tableKey;if(Oi(e),Wi(),n&&Ai[e]){const o=Ai[e].get(n);o instanceof Tr&&Vr(t,o)}}}))}}function Yi(e){const t=de();if(t){const e=t._config.namespace;Ci[e]||(Ci[e]=Si()),t.update((()=>{var n;if(null!==(n=Ci[e])&&void 0!==n&&n.activeCell&&Ci[e].columns){var o;(null===(o=Ci[e])||void 0===o?void 0:o.activeCell).setActive(!1),Dr(!0,Ci[e].columns,Ci[e].canRemoveColHeader);const n=Ci[e].tableKey;if(Oi(e),Wi(),n&&Ai[e]){const o=Ai[e].get(n);o instanceof Tr&&Vr(t,o)}}}))}}function Zi(e){const t=de();if(t){const e=t._config.namespace;Ci[e]||(Ci[e]=Si()),t.update((()=>{var n;if(null!==(n=Ci[e])&&void 0!==n&&n.activeCell){const n=Ci[e].tableKey;if(Oi(e),function(){const e=(0,i.vJ)();if(!(0,i.I2)(e)&&!(0,i.zq)(e))throw Error("Expected a RangeSelection or GridSelection");const t=e.anchor.getNode(),n=e.focus.getNode(),[o,,a]=(0,i.Jt)(t),[r]=(0,i.Jt)(n),[l,s,c]=(0,i.OB)(a,o,r),{startRow:d}=s,{startRow:u}=c,p=u+r.__rowSpan-1;if(l.length===p-d+1)return void a.remove();const g=l[0].length,m=l[p+1],h=a.getChildAtIndex(p+1);for(let e=p;e>=d;e--){for(let t=g-1;t>=0;t--){const{cell:n,startRow:o,startColumn:a}=l[e][t];if(a===t&&(e===d&&o<d&&n.setRowSpan(n.__rowSpan-(o-d)),o>=d&&o+n.__rowSpan-1>p)){if(n.setRowSpan(n.__rowSpan-(p-o+1)),null===h)throw Error("Expected nextRowNode not to be null");if(0===t)zr(h,n);else{const{cell:e}=m[t-1];e.insertAfter(n)}}}const t=a.getChildAtIndex(e);if(!(0,i.lQ)(t))throw Error("Expected GridNode childAtIndex(".concat(String(e),") to be RowNode"));t.remove()}if(void 0!==m){const{cell:e}=m[0];Rr(e)}else{const e=l[d-1],{cell:t}=e[0];Rr(t)}}(),Wi(),n){const o=t.getElementByKey(n);if(o&&o.classList.remove("selecting"),Ai[e]){const o=Ai[e].get(n);o instanceof Tr&&Vr(t,o)}}}}))}}function $i(e){const t=de();if(t){const e=t._config.namespace;Ci[e]||(Ci[e]=Si()),t.update((()=>{var n;if(null!==(n=Ci[e])&&void 0!==n&&n.activeCell){const n=Ci[e].tableKey;if(Oi(e),function(){const e=(0,i.vJ)();if(!(0,i.I2)(e)&&!(0,i.zq)(e))throw Error("Expected a RangeSelection or GridSelection");const t=e.anchor.getNode(),n=e.focus.getNode(),[o,,a]=(0,i.Jt)(t),[r]=(0,i.Jt)(n),[l,s,c]=(0,i.OB)(a,o,r),{startColumn:d}=s,{startRow:u,startColumn:p}=c,g=Math.min(d,p),m=Math.max(d+o.__colSpan-1,p+r.__colSpan-1),h=m-g+1;if(l[0].length===m-g+1)return a.selectPrevious(),void a.remove();const f=l.length;for(let e=0;e<f;e++)for(let t=g;t<=m;t++){const{cell:n,startColumn:o}=l[e][t];if(o<g){if(t===g){const e=g-o;n.setColSpan(n.__colSpan-Math.min(h,n.__colSpan-e))}}else if(o+n.__colSpan-1>m){if(t===m){const e=m-o+1;n.setColSpan(n.__colSpan-e)}}else n.remove()}const b=l[u],v=b[p+r.__colSpan]||b[p-1];if(void 0!==v){const{cell:e}=v;Rr(e)}else{const e=b[p-1],{cell:t}=e;Rr(t)}}(),Wi(),n){const o=t.getElementByKey(Ci[e].tableKey);if(o&&o.classList.remove("selecting"),Ai[e]){const o=Ai[e].get(n);o instanceof Tr&&Vr(t,o)}}}}))}}function Qi(e){const t=de();if(t){const e=t._config.namespace;Ci[e]||(Ci[e]=Si()),t.update((()=>{var n;if(null!==(n=Ci[e])&&void 0!==n&&n.activeCell){var o,a;(null===(o=Ci[e])||void 0===o?void 0:o.activeCell).setActive(!1);const n=Ir(null===(a=Ci[e])||void 0===a?void 0:a.activeCell),r=Ci[e].tableKey;if(Oi(e),n){const e=n.getParent();(0,i.YZ)(e)?e.remove():n.remove(),Wi()}if(r&&Ai[e]){const n=Ai[e].get(r);n instanceof Tr&&Vr(t,n)}}}))}}function er(e){const t=de();if(t){const e=t._config.namespace;Ci[e]||(Ci[e]=Si()),t.update((()=>{if(Ci[e].rowIndexes.size&&Ci[e].tableKey){var n,o;null!==(n=Ci[e])&&void 0!==n&&n.activeCell&&(null===(o=Ci[e])||void 0===o?void 0:o.activeCell).setActive(!1);const t=(0,i.ns)(Ci[e].tableKey),a=Array.from(Ci[e].rowIndexes).sort(((e,t)=>e-t)),r=a[0],l=a[a.length-1];if(_i(t)&&!isNaN(r)&&!isNaN(l)){const e=Fr(t,r,l);e&&e.forEach((e=>e.setHeaderStyles(2)))}}const a=Ci[e].tableKey;if(Oi(e),Wi(),a&&Ai[e]){const n=Ai[e].get(a);n instanceof Tr&&Vr(t,n)}}))}}function tr(e){const t=de();if(t){const e=t._config.namespace;Ci[e]||(Ci[e]=Si()),t.update((()=>{if(Ci[e].colIndexes.size&&Ci[e].tableKey){var n,o;null!==(n=Ci[e])&&void 0!==n&&n.activeCell&&(null===(o=Ci[e])||void 0===o?void 0:o.activeCell).setActive(!1);const t=(0,i.ns)(Ci[e].tableKey),a=Array.from(Ci[e].colIndexes).sort(((e,t)=>e-t)),r=a[0],l=a[a.length-1];if(_i(t)&&!isNaN(r)&&!isNaN(l)){const e=Pr(t,r,l);e&&e.forEach((e=>e.setHeaderStyles(3)))}}const a=Ci[e].tableKey;if(Oi(e),Wi(),a&&Ai[e]){const n=Ai[e].get(a);n instanceof Tr&&Vr(t,n)}}))}}function nr(e){const t=de();if(t){const e=t._config.namespace;Ci[e]||(Ci[e]=Si()),t.update((()=>{if(Ci[e].rowIndexes.size&&Ci[e].tableKey){var n,o;null!==(n=Ci[e])&&void 0!==n&&n.activeCell&&(null===(o=Ci[e])||void 0===o?void 0:o.activeCell).setActive(!1);const t=(0,i.ns)(Ci[e].tableKey),a=Array.from(Ci[e].rowIndexes).sort(((e,t)=>e-t)),r=a[0],l=a[a.length-1];if(_i(t)&&!isNaN(r)&&!isNaN(l)){const e=Fr(t,r,l);e&&e.forEach((e=>e.setHeaderStyles(0)))}}const a=Ci[e].tableKey;if(Oi(e),Wi(),a&&Ai[e]){const n=Ai[e].get(a);n instanceof Tr&&Vr(t,n)}}))}}function or(e){const t=de();if(t){const e=t._config.namespace;Ci[e]||(Ci[e]=Si()),t.update((()=>{if(Ci[e].colIndexes.size&&Ci[e].tableKey){var n,o;null!==(n=Ci[e])&&void 0!==n&&n.activeCell&&(null===(o=Ci[e])||void 0===o?void 0:o.activeCell).setActive(!1);const t=(0,i.ns)(Ci[e].tableKey),a=Array.from(Ci[e].colIndexes).sort(((e,t)=>e-t)),r=a[0],l=a[a.length-1];if(_i(t)&&!isNaN(r)&&!isNaN(l)){const e=Pr(t,r,l);e&&e.forEach((e=>e.setHeaderStyles(0)))}}const a=Ci[e].tableKey;if(Oi(e),Wi(),a&&Ai[e]){const n=Ai[e].get(a);n instanceof Tr&&Vr(t,n)}}))}}function ar(e){try{const t=e.indexOf(" "),n=e.slice(0,t),o=e.slice(t+1),a=o.indexOf(" "),r=o.slice(0,a),l=o.slice(a+1),s=parseInt(n),c=!isNaN(s)&&isFinite(s)?Math.max(0,Math.min(s,5)):void 0;return{width:c,style:i.$z.has(r.trim())?r.trim():void 0,color:String((0,i.cI)(l.trim(),ke()))}}catch(e){return console.error(e),{width:void 0,style:void 0,color:void 0}}}function ir(){return{form:document.getElementById("lexical-edit-bg-color-form"),colorInput:document.getElementById("lexical-cell-bg-color-input"),transparentInput:document.getElementById("lexical-cell-bg-color-input-trans"),verticalAlign:document.querySelector('input[name="table-cell-vertical-align"]:checked'),borderColor:document.getElementById("lex-cell-border-color"),transparentBorder:document.getElementById("lex-cell-border-color-transparent"),borderStyle:document.getElementById("cell-border-style-value"),borderWidth:document.getElementById("lex-cell-border-width")}}function rr(e){e.preventDefault(),e.stopPropagation();const t=this.closest("div.dialog-wrapper"),n=de(),{colorInput:o,transparentInput:a,borderColor:r,transparentBorder:l,borderStyle:s,borderWidth:c,verticalAlign:d}=ir();if(o&&a&&n&&t&&r&&l&&s&&c){var u;const e=n._config.namespace;Ci[e]||(Ci[e]=Si());const p=new Set(["top","middle","bottom"]),g=a.checked?null:i.zG.test(o.value)?o.value:null,m=l.checked?void 0:i.zG.test(r.value)?r.value:void 0,h=i.$z.has(s.value)?s.value:void 0,f=parseInt(c.value),b=Boolean(!isNaN(f)&&isFinite(f))?Math.max(0,Math.min(5,f)):void 0,v=Boolean(void 0!==m&&void 0!==h&&void 0!==b)?"".concat(b,"px ").concat(h," ").concat(m):void 0,y=d&&p.has(d.value)?d.value:void 0;Ci[e].selection&&n?n.update((()=>{const n=Ci[e].selection.getNodes();for(let e of n)ul(e)&&e.setCustomStyles({border:v,backgroundColor:g,verticalAlign:y});me(t),Wi()})):null!==(u=Ci[e])&&void 0!==u&&u.activeCell&&n&&n.update((()=>{var n;(null===(n=Ci[e])||void 0===n?void 0:n.activeCell).setCustomStyles({border:v,backgroundColor:g,verticalAlign:y}),me(t),Wi()}))}}function lr(e){const{form:t,colorInput:n,transparentInput:o,verticalAlign:a,borderColor:i,transparentBorder:r,borderStyle:l,borderWidth:s}=ir();if(t&&n&&o&&a&&i&&r&&l&&s){const e=Ee();n.value=e,o.checked=!0;const a="middle";Array.from(t.querySelectorAll('input[name="table-cell-vertical-align"]')).forEach((e=>{e.value!==a?e.checked=!1:e.checked=!0}));const c=ke();i.value=c,r.checked=!0,Le(l,"none","None"),s.value="0"}}const sr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=document.createElement("th");return n.setAttribute("scope",e),n.className="rte-tableCell rte-tableCellHeader",n.innerText=t,n},cr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.createElement("td");return t.className="rte-tableCell",t.innerText=e,t},dr=(e,t)=>"(".concat(String(e)).concat(",").concat(String(t)).concat(")");function ur(){const e=Hi();if(e&&e.preview){const t=document.createElement("table");if(t.classList.add("rte-table"),t.setAttribute("cellspacing","0"),e.bandedCols&&e.bandedRows?t.classList.add("banded-col","banded-row"):e.bandedCols?t.classList.add("banded-col"):e.bandedRows&&t.classList.add("banded-row"),"left"===e.align?t.style.setProperty("margin","10px auto 10px 0px","important"):"center"===e.align?t.style.setProperty("margin","10px auto","important"):"right"===e.align&&t.style.setProperty("margin","10px 0px 10px auto","important"),e.includeCaption){e.captionInput&&e.captionInput.removeAttribute("disabled");const n=document.createElement("caption");n.innerText=e.caption,t.append(n)}else e.captionInput&&e.captionInput.setAttribute("disabled","");if(e.headingRow){const n=document.createElement("tr");n.className="thead";for(let t=0;t<e.numCols;t++)n.append(sr("col",dr(0,t)));t.append(n)}const n=document.createElement("tbody");n.style.cssText="background-color:var(--background);";for(let t=Number(e.headingRow);t<e.numRows;t++){const o=document.createElement("tr");for(let n=0;n<e.numCols;n++)0===n&&e.headingCol?o.append(sr("row",dr(t,n))):o.append(cr(dr(t,n)));n.append(o)}t.append(n),Mi(e.preview),e.preview.append(t)}}function pr(e){const t=Hi();if(e.preventDefault(),t&&t.preview){const e={rows:t.headingRow,columns:t.headingCol},n=isNaN(t.numRows)?5:t.numRows,o=isNaN(t.numCols)?5:t.numCols,a=t.includeCaption?t.caption:void 0,i=de();i&&(i.dispatchCommand(gl,{includeHeaders:e,rows:String(n),columns:String(o),caption:a,bandedCols:t.bandedCols,bandedRows:t.bandedRows,align:t.align}),Wi(),me(t.dialog))}}function gr(e){"lexical-insert-table-form"===this.id?ur.bind(this)():"lexical-insert-table-upload-data"===this.id&&(ki=void 0,Fi.bind(this)())}function mr(e,t){const n=t.getKey(),o=e._config.namespace,a=e.getElementByKey(n);if(a&&(!Ai[o]||!Ai[o].has(n))){const r=function(e,t,n){const o=n.getRootElement();if(null===o)throw new Error("No root element.");const a=new Tr(n,e.getKey()),r=n._window||window;(function(e,t){e[Hr]=t})(t,a),t.addEventListener("mousedown",(e=>{setTimeout((()=>{if(0!==e.button)return;if(!r)return;const t=qr(e.target);null!==t&&(ol(e),a.setAnchorCellForSelection(t));const n=()=>{r.removeEventListener("mouseup",n),r.removeEventListener("mousemove",o)},o=e=>{const t=qr(e.target);null===t||a.anchorX===t.x&&a.anchorY===t.y||(e.preventDefault(),a.setFocusCellForSelection(t))};r.addEventListener("mouseup",n),r.addEventListener("mousemove",o)}),0)}));const l=e=>{0===e.button&&n.update((()=>{const t=(0,i.vJ)(),n=e.target;(0,i.zq)(t)&&t.gridKey===a.tableNodeKey&&o.contains(n)&&a.clearHighlight()}))};r.addEventListener("mousedown",l),a.listenersToRemove.add((()=>r.removeEventListener("mousedown",l))),a.listenersToRemove.add(n.registerCommand(i.bb,(t=>nl(n,t,"down",e,a)),i.Wg)),a.listenersToRemove.add(n.registerCommand(i.UD,(t=>nl(n,t,"up",e,a)),i.Wg)),a.listenersToRemove.add(n.registerCommand(i.AX,(t=>nl(n,t,"backward",e,a)),i.Wg)),a.listenersToRemove.add(n.registerCommand(i.JM,(t=>nl(n,t,"forward",e,a)),i.Wg)),a.listenersToRemove.add(n.registerCommand(i.Q$,(e=>{const t=(0,i.vJ)();if((0,i.zq)(t)){const n=Ko(t.focus.getNode(),ul);if(ul(n))return ol(e),n.selectEnd(),!0}return!1}),i.Wg));[i.hi,i.vi,i.Wu].forEach((t=>{a.listenersToRemove.add(n.registerCommand(t,(t=>()=>{const n=(0,i.vJ)();if(!Yr(n,e))return!1;if((0,i.zq)(n))return a.clearText(),!0;if((0,i.I2)(n)){const o=Ko(n.anchor.getNode(),(e=>ul(e)));if(!ul(o))return!1;const r=n.anchor.getNode(),l=n.focus.getNode(),s=e.isParentOf(r),c=e.isParentOf(l);if(s&&!c||c&&!s)return a.clearText(),!0;const d=Ko(n.anchor.getNode(),(e=>(0,i.ff)(e))),u=d&&Ko(d,(e=>(0,i.ff)(e)&&ul(e.getParent())));if(!(0,i.ff)(u)||!(0,i.ff)(d))return!1;if(t===i.vi&&null===u.getPreviousSibling())return!0;if((t===i.Wu||t===i.hi)&&n.isCollapsed()&&0===n.anchor.offset&&d!==u){const e=d.getChildren(),t=si();return e.forEach((e=>t.append(e))),d.replace(t),d.getWritable().__parent=o.getKey(),!0}}return!1})(t),i.d))}));const s=t=>{const n=(0,i.vJ)();if(!Yr(n,e))return!1;if((0,i.zq)(n))return t.preventDefault(),t.stopPropagation(),a.clearText(),!0;if((0,i.I2)(n)){const e=Ko(n.anchor.getNode(),(e=>ul(e)));if(!ul(e))return!1;if(1===e.getChildren().length){const n=e.getChildren()[0];return(0,i.ff)(n)?(n.isEmpty()&&(t.preventDefault(),t.stopPropagation()),ci(n)||n.replace(si())):((0,i.wH)(n)||(0,i.Cy)(n))&&(n.replace(si().append((0,i.sT)()),!1),t.preventDefault(),t.stopPropagation()),!0}}return!1};function c(t){const n=e.getCordsFromCellNode(t,a.grid);return e.getCellFromCordsOrThrow(n.x,n.y,a.grid)}return a.listenersToRemove.add(n.registerCommand(i.gC,s,i.d)),a.listenersToRemove.add(n.registerCommand(i.w$,s,i.d)),a.listenersToRemove.add(n.registerCommand(i.mB,(t=>{const n=(0,i.vJ)();if(!Yr(n,e))return!1;if((0,i.zq)(n))return a.formatCells(t),!0;if((0,i.I2)(n)){const e=Ko(n.anchor.getNode(),(e=>ul(e)));if(!ul(e))return!1}return!1}),i.d)),a.listenersToRemove.add(n.registerCommand(i.bM,(t=>{const n=(0,i.vJ)();if(!Yr(n,e))return!1;if((0,i.zq)(n))return a.clearHighlight(),!1;if((0,i.I2)(n)){const e=Ko(n.anchor.getNode(),(e=>ul(e)));if(!ul(e))return!1}return!1}),i.d)),a.listenersToRemove.add(n.registerCommand(i.$7,(t=>e.isSelected()),i.Wg)),a.listenersToRemove.add(n.registerCommand(i.Mv,(()=>{const t=(0,i.vJ)(),o=(0,i.S1)();if((0,i.I2)(t)){const{anchor:o,focus:r}=t,l=o.getNode(),s=r.getNode(),d=el(l),u=el(s),p=d&&e.is(tl(d)),g=u&&e.is(tl(u)),m=p!==g,h=p&&g,f=t.isBackward();if(m){const o=t.clone();o.focus.set(e.getKey(),f?0:e.getChildrenSize(),"element"),(0,i.n1)(o),Ur(n,a)}else h&&(d.is(u)||(a.setAnchorCellForSelection(c(d)),a.setFocusCellForSelection(c(u),!0)))}return t&&!t.is(o)&&((0,i.zq)(t)||(0,i.zq)(o))&&a.gridSelection&&!a.gridSelection.is(o)?((0,i.zq)(t)&&t.gridKey===a.tableNodeKey?a.updateTableGridSelection(t):!(0,i.zq)(t)&&(0,i.zq)(o)&&o.gridKey===a.tableNodeKey&&a.updateTableGridSelection(null),!1):(a.hasHijackedSelectionStyles&&!e.isSelected()?Vr(n,a):!a.hasHijackedSelectionStyles&&e.isSelected()&&Ur(n,a),!1)}),i.d)),a}(t,a,e);Ai[o]||(Ai[o]=new Map),Ai[o].set(n,r)}}function hr(e){const t=pe()[e];if(Ci[e]&&t){const n=Ci[e].tableKey;if(Ai[e]&&n){const o=Ai[e].get(n);o instanceof Tr&&Vr(t,o)}Oi(e)}}function fr(e,t,n){switch(n.name){case"FORMAT_TEXT_COMMAND":e.dispatchCommand(i.mB,n.formatType);break;case"TEXT_COLOR_CHANGE":Qe(e)||Pd(t,n.color);break;case"MAKE_TRANSPARENT":Hd(t,n.payload);break;case"CLEAR_TEXT_FORMATTING":qd(t);break;case"BACKGROUND_COLOR_CHANGE":Qe(e)||Fd(t,n.color);break;case"FONT_FAMILY_CHANGE":Dd(t,n.fontWithSemiColon);break;case"FONT_WEIGHT_CHANGE":Rd(t,n.fontWeight);break;case"FONT_SIZE_CHANGE":Z(e)&&zd(t,n.fontSize)}return!0}function br(e){Ii=setTimeout((()=>{const e=this.id,t=pe()[e];t&&t.update((()=>{var t;const n=null===(t=Ci[e])||void 0===t?void 0:t.activeCell;ul(n)&&n.setActive(!1)})),Oi(e),Wi()}),100)}function vr(){Ii&&clearTimeout(Ii)}function yr(e){const t=e._config.namespace;ki&&t!==ki.editorNamespace&&(ki=void 0);const n=(0,i.vJ)();if(Ei!==t&&hr(t),Ei=t,Ci[t]||(Ci[t]=Si()),Ci[t].namespace=e._config.namespace,(0,i.zq)(n)){var o,a;Ci[t].selection=n,null!==(o=Ci[t])&&void 0!==o&&o.activeCell&&(Wi(),(null===(a=Ci[t])||void 0===a?void 0:a.activeCell).setActive(!1));const v=n.anchor.key,y=(0,i.ns)(v);var r;y&&ul(y)&&Ci[t]&&(Ci[t].activeCell=y,e.isEditable()&&(null===(r=Ci[t])||void 0===r?void 0:r.activeCell).setActive(!0));var l=void 0,s=!1,c=!1,d=!1,u=!1,p=void 0,g=!1,m=!1,h=!0;const x=new Set,_=new Set;var f=void 0;for(let e of n.getNodes())if(ul(e)){if(f||(f=Ir(e)),"transparent"!==l){const t=e.getBackgroundColor();l=void 0===l?t||"transparent":t===l?l:"transparent"}const t=Mr(e),n=Or(e);x.add(t),_.add(n)}if(f){var b=0;const e=f.getFirstChild();if(e){const t=e.getChildren();for(let e of t)ul(e)&&(b+=e.getColSpan())}const n=Math.max(0,b-1);if(h=!Boolean(_.has(n)&&_.size>1),m=f.getBandedCols(),g=f.getBandedRows(),p=f.getCaption(),Ci[t].tableKey=f.getKey(),Ci[t].align=f.getAlign(),Ai[t]){const e=Ai[t].get(f.getKey());if(e)for(let t of x)for(let n of _){const o=f.getCellNodeFromCords(0,t,e.getGrid()),a=f.getCellNodeFromCords(n,0,e.getGrid());o&&(s||(s=Boolean("th"!==o.getTag()||"row"!==o.getScope())),u||(u=Boolean("th"===o.getTag()&&"row"===o.getScope()))),a&&(c||(c=Boolean("th"!==a.getTag()||"col"!==a.getScope())),d||(d=Boolean("th"===a.getTag()&&"col"===a.getScope())))}}}Ci[t].canMergeCells=!0,Ci[t].backgroundColor=String(l),Ci[t].canAddColHeader=c,Ci[t].canAddRowHeader=s,Ci[t].canRemoveColHeader=d,Ci[t].canRemoveRowHeader=u,Ci[t].canUnmergeCells=pl(),Ci[t].colIndexes=_,Ci[t].rowIndexes=x,Ci[t].rectangular=function(e){const t=e.getNodes(),n=[];let o=null,a=null,i=0;for(let e=0;e<t.length;e++){const r=t[e];if(ul(r)){const e=r.getParentOrThrow();if(!mi(e))throw Error("Expected CellNode to have a RowNode parent");if(o!==e){if(null!==a&&i!==a)return!1;null!==o&&(a=i),o=e,i=0}const t=r.__colSpan;for(let e=0;e<t;e++)void 0===n[i+e]&&(n[i+e]=0),n[i+e]+=r.__rowSpan;i+=t}}return(null===a||i===a)&&n.every((e=>e===n[0]))}(n);const{rows:w,columns:E}=function(e){const t=e.getShape();return{columns:t.toX-t.fromX+1,rows:t.toY-t.fromY+1}}(n);Ci[t].rows=w,Ci[t].columns=E,Ci[t].bandedCols=m,Ci[t].bandedRows=g,Ci[t].caption=p,Ci[t].canDeleteColumn=h}else if((0,i.I2)(n)){var v=void 0;const o=n.getNodes();for(let e of o){const t=Ko(e,(e=>ul(e)));if(ul(t)){v=t;break}}if(v){var y,x,_,w,E,k,C,S;null!==(y=Ci[t])&&void 0!==y&&y.activeCell&&(null===(x=Ci[t])||void 0===x?void 0:x.activeCell).getKey()!==v.getKey()&&(Wi(),(null===(S=Ci[t])||void 0===S?void 0:S.activeCell).setActive(!1)),Ci[t]&&(Ci[t].activeCell=v),e.isEditable()&&(Wi(),v.setActive(!0)),l=void 0,s=!1,c=!1,d=!1,u=!1,p=void 0,g=!1,m=!1;const n=new Set,o=new Set,a=Mr(null===(_=Ci[t])||void 0===_?void 0:_.activeCell),i=Or(null===(w=Ci[t])||void 0===w?void 0:w.activeCell);n.add(a),o.add(i);const r=Ir(null===(E=Ci[t])||void 0===E?void 0:E.activeCell);if(r&&(Ci[t].tableKey=r.getKey(),m=r.getBandedCols(),g=r.getBandedRows(),p=r.getCaption(),Ci[t].align=r.getAlign(),Ai[t])){const e=Ai[t].get(r.getKey());if(e){const t=r.getCellNodeFromCords(0,a,e.getGrid()),n=r.getCellNodeFromCords(i,0,e.getGrid());t&&(u=!(s=Boolean("th"!==t.getTag()||"row"!==t.getScope()))),n&&(d=!(c=Boolean("th"!==n.getTag()||"col"!==n.getScope())))}}Ci[t].rectangular=Boolean((null===(k=Ci[t])||void 0===k?void 0:k.activeCell).getRowSpan()===(null===(C=Ci[t])||void 0===C?void 0:C.activeCell).getColSpan()),Ci[t].canMergeCells=!1,Ci[t].canUnmergeCells=pl(),Ci[t].rows=1,Ci[t].columns=1,Ci[t].rowIndexes=n,Ci[t].colIndexes=o,Ci[t].canAddRowHeader=s,Ci[t].canAddColHeader=c,Ci[t].canRemoveRowHeader=u,Ci[t].canRemoveColHeader=d,Ci[t].bandedCols=m,Ci[t].bandedRows=g,Ci[t].caption=p,Ci[t].selection=null,Ci[t].canDeleteColumn=!0}else{var A,T;null!==(A=Ci[t])&&void 0!==A&&A.activeCell&&(Wi(),(null===(T=Ci[t])||void 0===T?void 0:T.activeCell).setActive(!1)),Oi(t)}}else{var N,L;null!==(N=Ci[t])&&void 0!==N&&N.activeCell&&(Wi(),(null===(L=Ci[t])||void 0===L?void 0:L.activeCell).setActive(!1))}!function(e){Ci[e]||(Ci[e]=Si());const t=document.getElementById("table-action-menu-launch");t&&(t.addEventListener("click",Ki,!0),t.addEventListener("focus",Ki,!0),t.addEventListener("pointerdown",Ki,!0),t.addEventListener("touchstart",Ki,!0),t.addEventListener("blur",Wi));const n=document.getElementById(Li);n&&Array.from(n.querySelectorAll("button")).forEach((t=>{if(t.hasAttribute("data-table-merge"))Ci[e].canMergeCells?t.removeAttribute("hidden"):t.setAttribute("hidden","");else if(t.hasAttribute("data-table-unmerge"))Ci[e].canUnmergeCells?t.removeAttribute("hidden"):t.setAttribute("hidden","");else if(t.hasAttribute("data-table-row-above")){const n=Ci[e].rows;t.innerText="Insert ".concat(Boolean(!n||1===n)?"Row":"".concat(n," Rows")," Above")}else if(t.hasAttribute("data-table-row-below")){const n=Ci[e].rows;t.innerText="Insert ".concat(Boolean(!n||1===n)?"Row":"".concat(n," Rows")," Below")}else if(t.hasAttribute("data-table-col-left")){const n=Ci[e].columns;t.innerText="Insert ".concat(Boolean(!n||1===n)?"Column":"".concat(n," Columns")," Left")}else if(t.hasAttribute("data-table-col-right")){const n=Ci[e].columns;t.innerText="Insert ".concat(Boolean(!n||1===n)?"Column":"".concat(n," Columns")," Right")}else if(t.hasAttribute("data-table-delete-row")){const n=Ci[e].rows;t.innerText="Delete ".concat(Boolean(!n||1===n)?"Row":"".concat(n," Rows"))}else if(t.hasAttribute("data-table-delete-column")){Ci[e].canDeleteColumn?t.removeAttribute("hidden"):t.setAttribute("hidden","");const n=Ci[e].columns;t.innerText="Delete ".concat(Boolean(!n||1===n)?"Column":"".concat(n," Columns"))}else if(t.hasAttribute("data-table-add-row-header")){const n=Ci[e].rows;Ci[e].canAddRowHeader?t.removeAttribute("hidden"):t.setAttribute("hidden",""),t.innerText="Add ".concat(Boolean(n&&n>1)?"Row Headers":"Row Header")}else if(t.hasAttribute("data-table-add-col-header")){const n=Ci[e].columns;Ci[e].canAddColHeader?t.removeAttribute("hidden"):t.setAttribute("hidden",""),t.innerText="Add ".concat(Boolean(n&&n>1)?"Column Headers":"Column Header")}else if(t.hasAttribute("data-table-remove-row-header")){const n=Ci[e].rows;Ci[e].canRemoveRowHeader?t.removeAttribute("hidden"):t.setAttribute("hidden",""),t.innerText="Remove ".concat(Boolean(n&&n>1)?"Row Headers":"Row Header")}else if(t.hasAttribute("data-table-remove-col-header")){const n=Ci[e].columns;Ci[e].canRemoveColHeader?t.removeAttribute("hidden"):t.setAttribute("hidden",""),t.innerText="Remove ".concat(Boolean(n&&n>1)?"Column Headers":"Column Header")}})),function(e){let{bandedRows:t,bandedCols:n,caption:o,align:a}=e;const i=function(){const e=document.getElementById("lexical-edit-table-form");if(e){var t;const n=e.querySelector('input[name="edit-table-banded-rows"]'),o=e.querySelector('input[name="edit-table-banded-columns"]'),a=e.querySelector('input[name="edit-table-include-caption"]'),i=e.querySelector('input[name="edit-table-new-caption"]'),r=e.querySelector('label[for="edit-table-new-caption"]'),l=Array.from(e.querySelectorAll('input[name="lexical-edit-table-align"]')),s=!!n&&n.checked,c=!!o&&o.checked,d=!!a&&a.checked,u=Array.isArray(l)?null===(t=l.filter((e=>e.checked)))||void 0===t||null===(t=t[0])||void 0===t?void 0:t.value:"center";return{bandedRowsCheckbox:n,bandedColsCheckbox:o,captionCheckbox:a,captionInput:i,captionLabel:r,alignInputs:l,bandedRows:s,bandedCols:c,includeCaption:d,align:u}}}();if(i){const{bandedRowsCheckbox:e,bandedColsCheckbox:r,captionCheckbox:l,captionInput:s,captionLabel:c,alignInputs:d}=i;e&&(e.checked=!!t),r&&(r.checked=!!n),l&&(l.checked=void 0!==o),s&&(void 0===o?(s.setAttribute("disabled",""),s.value=""):(s.removeAttribute("disabled"),s.value=o)),c&&s&&(void 0===o?c.classList.add("disabled"):c.classList.remove("disabled")),Array.isArray(d)&&d.forEach((e=>e.checked=Boolean(a===e.value)))}}({bandedCols:Ci[e].bandedCols,bandedRows:Ci[e].bandedRows,caption:Ci[e].caption,align:Ci[e].align})}(t)}function xr(e){if("edit-table-lexical"===e.detail.el.id){const e=document.getElementById("lexical-edit-table-form"),t=document.getElementById("edit-table-include-caption");t&&t.addEventListener("change",ji),e&&e.addEventListener("submit",qi,!0);const n=document.getElementById("edit-table-lexical");document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:n}}))}}function _r(e){if("lexical-table-cell-bg"===e.detail.el.id){const e=document.getElementById("lexical-edit-bg-color-form");e&&(e.addEventListener("submit",rr),e.addEventListener("reset",lr));const n=de(),{colorInput:o,transparentInput:a,borderColor:i,transparentBorder:r,borderStyle:l,borderWidth:s,verticalAlign:c,form:d}=ir();if(n&&i&&r&&l&&s&&c&&o&&a&&d){var t;Qe(n)?d.removeAttribute("disabled"):d.setAttribute("disabled","");const e=n._config.namespace;Ci[e].selection&&n?n.getEditorState().read((()=>{const t=Ci[e].selection.getNodes();var n=void 0,u=null;for(let e of t)if(ul(e)){const t=e.getBackgroundColor(),o=e.getBorder();e.getVerticalAlign(),void 0===n?n=t:n!==t&&(n=null),null===u?u=o:u!==o&&(u=void 0)}const p=Ee();o.value=n||p,a.checked=!n;const g=c||"middle";if(Array.from(d.querySelectorAll('input[name="table-cell-vertical-align"]')).forEach((e=>{e.value!==g?e.checked=!1:e.checked=!0})),u){const{width:e,color:t,style:n}=ar(u),o=ke();i.value=t||o,r.checked=!t,Le(l,n||"none",n?n[0].toUpperCase().concat(n.slice(1)):"None"),s.value=isNaN(e)?"0":e.toFixed(0)}else{const e=ke();i.value=e,r.checked=!0,Le(l,"none","None"),s.value="0"}})):null!==(t=Ci[e])&&void 0!==t&&t.activeCell&&n&&n.getEditorState().read((()=>{var t,n,c;const u=(null===(t=Ci[e])||void 0===t?void 0:t.activeCell).getBackgroundColor(),p=(null===(n=Ci[e])||void 0===n?void 0:n.activeCell).getBorder(),g=(null===(c=Ci[e])||void 0===c?void 0:c.activeCell).getVerticalAlign(),m=Ee();o.value=u||m,a.checked=!u;const h=g||"middle";if(Array.from(d.querySelectorAll('input[name="table-cell-vertical-align"]')).forEach((e=>{e.value!==h?e.checked=!1:e.checked=!0})),p){const{width:e,color:t,style:n}=ar(p),o=ke();i.value=t||o,r.checked=!t,Le(l,n||"none",n?n[0].toUpperCase().concat(n.slice(1)):"None"),s.value=isNaN(e)?"0":e.toFixed(0)}else{const e=ke();i.value=e,r.checked=!0,Le(l,"none","None"),s.value="0"}}))}const u=document.getElementById("lexical-table-cell-bg");u&&document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:u}}))}}var wr=null;function Er(e){if("tables-lexical"===e.detail.el.id){const e=Hi();e&&e.form&&(e.captionInput&&e.captionInput.addEventListener("input",ur),e.form.addEventListener("change",ur),e.form.addEventListener("submit",pr),e.form.addEventListener("reset",gr),e.form.dispatchEvent(new Event("change")));const t=Bi();if(t&&t.form&&(t.fileUpload&&t.fileUpload.addEventListener("change",zi),t.form&&(t.captionInput&&t.captionInput.addEventListener("input",Fi),t.form.addEventListener("change",Fi),t.form.addEventListener("submit",Pi),t.form.addEventListener("reset",gr))),wr){const e=document.getElementById("create_table_from_upload_lexical");if(e){e.dispatchEvent(new Event("click"));const t=document.getElementById("upload-data-to-table");t&&(t.files=$e([wr]),wr=null,t.dispatchEvent(new Event("change")))}}const n=document.getElementById("tables-lexical");n&&document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:n}}))}}function kr(){Object.keys(Ti).forEach((e=>{try{Ti[e](),delete Ti[e],Wi()}catch(e){}}))}function Cr(e){var t;document.addEventListener("HIDE_OPEN_POPOVERS",kr);const n=document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));n&&n.addEventListener("focusout",br,!0);const o=document.getElementById(Li);o&&o.addEventListener("focusin",vr)}function Sr(e){const t=e._config.namespace;return e.hasNodes([sl,vi,ui,i.mx,ri])?(Cr(e),document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",xr),document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",_r),document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",Er),function(){const e=document.getElementById(Li);if(e){const t=Array.from(e.querySelectorAll("button"));for(let e of t)if(e.hasAttribute("data-table-merge"))e.addEventListener("click",Ji);else if(e.hasAttribute("data-table-unmerge"))e.addEventListener("click",Ui);else if(e.hasAttribute("data-table-row-above"))e.addEventListener("click",Vi);else if(e.hasAttribute("data-table-row-below"))e.addEventListener("click",Gi);else if(e.hasAttribute("data-table-col-left"))e.addEventListener("click",Xi);else if(e.hasAttribute("data-table-col-right"))e.addEventListener("click",Yi);else if(e.hasAttribute("data-table-delete-row"))e.addEventListener("click",Zi);else if(e.hasAttribute("data-table-delete-column"))e.addEventListener("click",$i);else if(e.hasAttribute("data-table-delete-table"))e.addEventListener("click",Qi);else if(e.hasAttribute("data-table-add-row-header"))e.addEventListener("click",er);else if(e.hasAttribute("data-table-add-col-header"))e.addEventListener("click",tr);else if(e.hasAttribute("data-table-remove-row-header"))e.addEventListener("click",nr);else{if(!e.hasAttribute("data-table-remove-col-header"))continue;e.addEventListener("click",or)}}}(),e.isEditable()&&e.getEditorState().read((()=>{(0,i.zl)(vi).forEach((t=>{(0,i.YZ)(t.getParent())||Jo(t,i.m2),mr(e,t)}))})),Po(e.registerCommand(gl,(e=>{let{rows:t,columns:n,includeHeaders:o,caption:a,bandedRows:r,bandedCols:l,align:s}=e;const c=Nr(Number(t),Number(n),o,a,r,l,s),d=(0,i.m2)();Wo(d),d.append(c);const u=c.getFirstDescendant();return(0,i.kF)(u)&&u.select(),!0}),i.jZ),e.registerCommand(ml,(e=>{let{rows:t,columns:n,includeHeaders:o,caption:a,bandedRows:r,bandedCols:l,align:s,json:c}=e;const d=Nr(Number(t),Number(n),o,a,r,l,s),u=d.getChildren();for(let e=0;e<u.length;e++){const t=u[e];if(mi(t)){const n=t.getChildren();for(let t=0;t<n.length;t++){const o=n[t];if(ul(o)){const n=o.getFirstChild();if(ci(n)){const o=si();o.append((0,i.sT)(c[e][t])),n.replace(o)}}}}}const p=(0,i.m2)();Wo(p),p.append(d);const g=d.getFirstDescendant();return(0,i.kF)(g)&&g.select(),ki=void 0,!0}),i.jZ),e.registerMutationListener(vi,(n=>{for(const[o,a]of n)if("created"===a)e.getEditorState().read((()=>{const t=(0,i.ns)(o);_i(t)&&((0,i.YZ)(t.getParent())||Jo(t,i.m2),mr(e,t))}));else if("destroyed"===a){if(Oi(e._config.namespace),Ai[t]){const e=Ai[t].get(o);void 0!==e&&e instanceof Tr&&(e.removeListeners(),Ai[t].delete(o))}}else if("updated"===a&&(Oi(e._config.namespace),Ai[t])){const n=Ai[t].get(o);void 0!==n&&n instanceof Tr&&(n.removeListeners(),Ai[t].delete(o)),e.getEditorState().read((()=>{const t=(0,i.ns)(o);_i(t)&&mr(e,t)}))}})),e.registerCommand(i.Mv,(()=>(yr(e),!1)),i.d),e.registerCommand(i.mB,(t=>{const n=(0,i.vJ)();return!!(0,i.zq)(n)&&fr(e,n,{command:i.mB,name:"FORMAT_TEXT_COMMAND",formatType:t})}),i.Ac),e.registerCommand(i.fU,(e=>{const t=(0,i.vJ)();if((0,i.zq)(t)){const n=t.getNodes();for(let t of n)if(ul(t)){const n=t.getChildren();for(let t of n)(0,i.ff)(t)&&t.setFormat(e)}return!0}return!1}),i.Ac),e.registerCommand(Re,(t=>{const n=(0,i.vJ)();return!!(0,i.zq)(n)&&fr(e,n,{command:Re,name:"TEXT_COLOR_CHANGE",color:t})}),i.Ac),e.registerCommand(ze,(t=>{const n=(0,i.vJ)();return!!(0,i.zq)(n)&&fr(e,n,{command:ze,name:"BACKGROUND_COLOR_CHANGE",color:t})}),i.Ac),e.registerCommand(De,(t=>{const n=(0,i.vJ)();return!!(0,i.zq)(n)&&fr(e,n,{command:De,name:"MAKE_TRANSPARENT",payload:t})}),i.Ac),e.registerCommand(Pe,(()=>{const t=(0,i.vJ)();return!!(0,i.zq)(t)&&fr(e,t,{command:Pe,name:"CLEAR_TEXT_FORMATTING"})}),i.Ac),e.registerCommand(Kc,(t=>{const n=(0,i.vJ)();return!!(0,i.zq)(n)&&fr(e,n,{command:Kc,name:"FONT_FAMILY_CHANGE",fontWithSemiColon:t})}),i.Ac),e.registerCommand(Wc,(t=>{const n=(0,i.vJ)();return!!(0,i.zq)(n)&&fr(e,n,{command:Wc,name:"FONT_WEIGHT_CHANGE",fontWeight:t})}),i.Ac),e.registerCommand(Jc,(t=>{const n=(0,i.vJ)();return!!(0,i.zq)(n)&&fr(e,n,{command:Jc,name:"FONT_SIZE_CHANGE",fontSize:t})}),i.Ac),e.registerCommand(Ta,(e=>{if(e.length){const t=e[0];if("text/csv"===t.type||"application/vnd.ms-excel"===t.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===t.type){wr=t;const e=document.getElementById("tables-lexical");if(e)return he(e),!0}}return!1}),i.Wg),Ar(e),e.registerCommand(He,(()=>(Cr(e),!1)),i.jZ))):(console.error("Editor does not have TableCellNode, TableNode, TableRowNode, TableWrapperNode, or CellParagraphNode registered."),()=>{})}function Ar(e){const t=e._config.namespace;return Po(e.registerEditableListener((t=>{const n=e._config.namespace;Ci[n]&&!t&&Oi(n),t?e.update((()=>{(0,i.zl)(sl).forEach((e=>{e.setCanResize(!0)}))})):e.update((()=>{(0,i.zl)(sl).forEach((e=>{e.setCanResize(!1)}))}))})),e.registerCommand(re,(e=>(Ci[t]&&e!==t&&hr(t),!1)),i.jZ),(function(){Ai[t]&&Ai[t].forEach(((e,t)=>e.removeListeners())),delete Ci[t]}),(function(){ki&&ki.editorNamespace===e._config.namespace&&(ki=void 0)}))}class Tr{constructor(e,t){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.grid={cells:[],columns:0,rows:0},this.gridSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.trackTableGrid()}getGrid(){return this.grid}removeListeners(){for(let e of this.listenersToRemove)e()}trackTableGrid(){const e=new MutationObserver((e=>{this.editor.update((()=>{let t=!1;for(let n=0;n<e.length;n++){const o=e[n].target.nodeName;if("TABLE"===o||"TR"===o){t=!0;break}}if(!t)return;const n=this.editor.getElementByKey(this.tableNodeKey);if(!n)throw new Error("Expected to find TableElement in DOM");this.grid=jr(n)}))}));this.editor.update((()=>{const t=this.editor.getElementByKey(this.tableNodeKey);if(!t)throw new Error("Expected to find TableElement in DOM");this.grid=jr(t),e.observe(t,{childList:!0,subtree:!0})}))}clearHighlight(){const e=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.gridSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.enableHighlightStyle(),e.update((()=>{if(!_i((0,i.ns)(this.tableNodeKey)))throw new Error("Expected TableNode.");const t=e.getElementByKey(this.tableNodeKey);if(!t)throw new Error("Expected to find TableElement in DOM");const n=jr(t);Wr(e,n,null),(0,i.n1)(null),e.dispatchCommand(i.Mv,void 0)}))}enableHighlightStyle(){const e=this.editor;e.update((()=>{const t=e.getElementByKey(this.tableNodeKey);if(!t)throw new Error("Expected to find TableElement in DOM");Ho(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}))}disableHighlightStyle(){const e=this.editor;e.update((()=>{const t=e.getElementByKey(this.tableNodeKey);if(!t)throw new Error("Expected to find TableElement in DOM");Fo(t,e._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}))}updateTableGridSelection(e){if(null!=e&&e.gridKey===this.tableNodeKey){const t=this.editor;this.gridSelection=e,this.isHighlightingCells=!0,this.disableHighlightStyle(),Wr(t,this.grid,this.gridSelection)}else null==e?this.clearHighlight():(this.tableNodeKey=e.gridKey,this.updateTableGridSelection(e))}setFocusCellForSelection(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.editor;n.update((()=>{if(!_i((0,i.ns)(this.tableNodeKey)))throw new Error("Expected TableNode.");if(!n.getElementByKey(this.tableNodeKey))throw new Error("Expected to find TableElement in DOM");const o=e.x,a=e.y;if(this.focusCell=e,null!==this.anchorCell){const e=(r=n._window,wi?(r||window).getSelection():null);e&&e.setBaseAndExtent(this.anchorCell.elem,0,this.focusCell.elem,0)}var r;if(this.isHighlightingCells||this.anchorX===o&&this.anchorY===a&&!t){if(o===this.focusX&&a===this.focusY)return}else this.isHighlightingCells=!0,this.disableHighlightStyle();if(this.focusX=o,this.focusY=a,this.isHighlightingCells){const t=(0,i.xL)(e.elem);if(null!=this.gridSelection&&null!=this.anchorCellNodeKey&&ul(t)){const e=t.getKey();this.gridSelection=this.gridSelection.clone()||(0,i.bA)(),this.focusCellNodeKey=e,this.gridSelection.set(this.tableNodeKey,this.anchorCellNodeKey,this.focusCellNodeKey),(0,i.n1)(this.gridSelection),n.dispatchCommand(i.Mv,void 0),Wr(n,this.grid,this.gridSelection)}}}))}setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y,this.editor.update((()=>{const t=(0,i.xL)(e.elem);if(ul(t)){!function(e,t){var n;Ci[e._config.namespace].activeCell&&(null===(n=Ci[e._config.namespace].activeCell)||void 0===n||n.setActive(!1),t.setActive(!0),Ci[e._config.namespace].activeCell=t)}(this.editor,t);const e=t.getKey();this.gridSelection=null!=this.gridSelection?this.gridSelection.clone():(0,i.bA)(),this.anchorCellNodeKey=e}}))}formatCells(e){this.editor.update((()=>{const t=(0,i.vJ)();if(!(0,i.zq)(t))throw Error("Expected grid selection");const n=(0,i.uT)(),o=n.anchor,a=n.focus;t.getNodes().forEach((t=>{ul(t)&&0!==t.getTextContentSize()&&(o.set(t.getKey(),0,"element"),a.set(t.getKey(),t.getChildrenSize(),"element"),n.formatText(e))})),(0,i.n1)(t),this.editor.dispatchCommand(i.Mv,void 0)}))}clearText(){const e=this.editor;e.update((()=>{const t=(0,i.ns)(this.tableNodeKey);if(!_i(t))throw new Error("Expected TableNode.");const n=(0,i.vJ)();if(!(0,i.zq)(n))throw Error("Expected grid selection");const o=n.getNodes().filter(ul);if(o.length!==this.grid.columns*this.grid.rows)o.forEach((e=>{if((0,i.ff)(e)){const t=si(),n=(0,i.sT)();t.append(n),e.append(t),e.getChildren().forEach((e=>{e!==t&&e.remove()}))}})),Wr(e,this.grid,null),(0,i.n1)(null),e.dispatchCommand(i.Mv,void 0);else{t.selectPrevious();const e=t.getParent();(0,i.YZ)(e)?e.remove():t.remove(),(0,i.Ni)().selectStart()}}))}}function Nr(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const o=xi({caption:arguments.length>3?arguments[3]:void 0,bandedRows:arguments.length>4?arguments[4]:void 0,bandedCols:arguments.length>5?arguments[5]:void 0,align:arguments.length>6?arguments[6]:void 0});for(let a=0;a<e;a++){const e=gi();for(let o=0;o<t;o++){let t=al.NO_STATUS;"object"==typeof n?(0===a&&n.rows&&(t|=al.ROW),0===o&&n.columns&&(t|=al.COLUMN)):n&&(0===a&&(t|=al.ROW),0===o&&(t|=al.COLUMN));const r=dl(t),l=si();l.append((0,i.sT)()),r.append(l),e.append(r)}o.append(e)}return o}function Lr(e){const t=Ko(e,(e=>mi(e)));if(mi(t))return t;throw new Error("Expected table cell to be inside of table row.")}function Ir(e){const t=Ko(e,(e=>_i(e)));if(_i(t))return t;throw new Error("Expected table cell to be inside of table.")}function Mr(e){const t=Lr(e);return Ir(t).getChildren().findIndex((e=>e.is(t)))}function Or(e){return Lr(e).getChildren().findIndex((t=>t.is(e)))}function Br(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;const o=(0,i.vJ)();if(!(0,i.I2)(o)&&!(0,i.zq)(o))throw Error("Expected a RangeSelection or GridSelection");const a=o.focus.getNode(),[r,,l]=(0,i.Jt)(a),[s,c]=(0,i.OB)(l,r,r),d=s[0].length,{startRow:u}=c;if(e){const e=u+r.__rowSpan-1,o=s[e],a=[];for(let i=0;i<t;i++){const t=gi();for(let a=0;a<d;a++){const{cell:i,startRow:r}=o[a];r+i.__rowSpan-1<=e?t.append(dl(Boolean(n&&0===a)?2:al.NO_STATUS).append(si())):i.setRowSpan(i.__rowSpan+1)}a.push(t)}const c=l.getChildAtIndex(e);if(!(0,i.lQ)(c))throw Error("focusEndRow is not a GridRowNode");var p=c;for(let e=0;e<a.length;e++)p.insertAfter(a[e]),p=a[e]}else{const e=s[u],o=[];for(let a=0;a<t;a++){const t=gi();for(let o=0;o<d;o++){const{cell:a,startRow:i}=e[o];i===u?t.append(dl(Boolean(n&&0===o)?2:al.NO_STATUS).append(si())):a.setRowSpan(a.__rowSpan+1)}o.push(t)}const a=l.getChildAtIndex(u);if(!(0,i.lQ)(a))throw Error("focusEndRow is not a GridRowNode");for(let e=0;e<o.length;e++)a.insertBefore(o[e])}}function Dr(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=(0,i.vJ)();if(!(0,i.I2)(o)&&!(0,i.zq)(o))throw Error("Expected a RangeSelection or GridSelection");const a=o.anchor.getNode(),r=o.focus.getNode(),[l]=(0,i.Jt)(a),[s,,c]=(0,i.Jt)(r),[d,u,p]=(0,i.OB)(c,s,l),g=d.length,m=e?Math.max(u.startColumn,p.startColumn):Math.min(u.startColumn,p.startColumn),h=e?m+s.__colSpan-1:m-1,f=c.getFirstChild();if(!(0,i.lQ)(f))throw Error("Expected firstTable child to be a row");let b=null;function v(e){const t=dl(Boolean(e&&n)?3:al.NO_STATUS).append(si());return null===b&&(b=t),t}var y=f;for(let e=0;e<t;e++){let e=y;e:for(let t=0;t<g;t++){if(0!==t){const t=e.getNextSibling();if(!(0,i.lQ)(t))throw Error("Expected row nextSibling to be a row");e=t}const n=d[t];if(h<0){zr(e,v(Boolean(0===t)));continue}const{cell:o,startColumn:a,startRow:r}=n[h];if(a+o.__colSpan-1<=h){let a=o,i=r,l=h;for(;i!==t&&a.__rowSpan>1;){if(l-=o.__colSpan,!(l>=0)){e.append(v(Boolean(0===t)));continue e}{const{cell:e,startRow:t}=n[l];a=e,i=t}}a.insertAfter(v(Boolean(0===t)))}else o.setColSpan(o.__colSpan+1)}}null!==b&&Rr(b)}function Rr(e){const t=e.getFirstDescendant();null==t?e.selectStart():t.getParentOrThrow().selectStart()}function zr(e,t){const n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)}function Pr(e,t,n){var o=0,a=void 0;const i=e.getChildren()[0];if(mi(i)){const e=i.getChildren();for(let i of e)if(ul(i)){const e=i.getColSpan();o>=t&&o<=n&&(a||(a=[]),a.push(i)),o+=e}}return a}function Fr(e,t,n){const o=e.getChildren();var a=0,i=void 0;for(let e of o)if(mi(e)){const o=e.getChildren()[0];if(ul(o)){const e=o.getRowSpan();a>=t&&a<=n&&(i||(i=[]),i.push(o)),a+=e}}return i}const Hr="__lexicalTableSelection";function qr(e){let t=e;for(;null!=t;){const e=t.nodeName;if("TD"===e||"TH"===e){const e=t._cell;return void 0===e?null:e}t=t.parentNode}return null}function jr(e){const t=[],n={cells:t,columns:0,rows:0};let o=e.firstChild,a=0,i=0;for(t.length=0;null!=o;){const e=o.nodeName;if("TD"===e||"TH"===e){const e={elem:o,hasBackgroundColor:""!==o.style.backgroundColor,highlighted:!1,x:a,y:i};o._cell=e;let n=t[i];void 0===n&&(n=t[i]=[]),n[a]=e}else{const e=o.firstChild;if(null!=e){o=e;continue}}const n=o.nextSibling;if(null!=n){a++,o=n;continue}const r=o.parentNode;if(null!=r){const e=r.nextSibling;if(null==e)break;i++,a=0,o=e}}return n.columns=a+1,n.rows=i+1,n}function Kr(e,t){const{cells:n}=t,o=n[0];if(o){const t=o[0];if(t){const n=(0,i.xL)(t.elem);if(n){const t=Ir(n);if(t){const n=e.getElementByKey(t.getKey());if(n)return n}}}}}function Wr(e,t,n){const o=new Set(n?n.getNodes():[]);if(o.size){const n=Kr(e,t);n&&n.classList.add("selecting")}else{const n=Kr(e,t);n&&n.classList.remove("selecting")}Jr(t,((e,t)=>{const n=e.elem;o.has(t)?(e.highlighted=!0,$r(0,e)):(e.highlighted=!1,Qr(0,e),n.getAttribute("style")||n.removeAttribute("style"))}))}function Jr(e,t){const{cells:n}=e;for(let e=0;e<n.length;e++){const o=n[e];if(o)for(let n=0;n<o.length;n++){const a=o[n];if(!a)continue;const r=(0,i.xL)(a.elem);null!==r&&t(a,r,{x:n,y:e})}}}function Ur(e,t){t.disableHighlightStyle(),Jr(t.grid,(e=>{e.highlighted=!0,$r(0,e)}))}function Vr(e,t){t.enableHighlightStyle(),Jr(t.grid,(e=>{const t=e.elem;e.highlighted=!1,Qr(0,e),t.getAttribute("style")||t.removeAttribute("style")}))}const Gr=(e,t,n,o,a)=>{const i="forward"===a;switch(a){case"backward":case"forward":return n!==(i?e.grid.columns-1:0)?Zr(t.getCellNodeFromCordsOrThrow(n+(i?1:-1),o,e.grid),i):o!==(i?e.grid.rows-1:0)?Zr(t.getCellNodeFromCordsOrThrow(i?0:e.grid.columns-1,o+(i?1:-1),e.grid),i):i?t.selectNext():t.selectPrevious(),!0;case"up":return 0!==o?Zr(t.getCellNodeFromCordsOrThrow(n,o-1,e.grid),!1):t.selectPrevious(),!0;case"down":return o!==e.grid.rows-1?Zr(t.getCellNodeFromCordsOrThrow(n,o+1,e.grid),!0):t.selectNext(),!0;default:return!1}},Xr=(e,t,n,o,a)=>{const i="forward"===a;switch(a){case"backward":case"forward":return n!==(i?e.grid.columns-1:0)&&e.setFocusCellForSelection(t.getCellFromCordsOrThrow(n+(i?1:-1),o,e.grid)),!0;case"up":return 0!==o&&(e.setFocusCellForSelection(t.getCellFromCordsOrThrow(n,o-1,e.grid)),!0);case"down":return o!==e.grid.rows-1&&(e.setFocusCellForSelection(t.getCellFromCordsOrThrow(n,o+1,e.grid)),!0);default:return!1}};function Yr(e,t){if((0,i.I2)(e)||(0,i.zq)(e)){const n=t.isParentOf(e.anchor.getNode()),o=t.isParentOf(e.focus.getNode());return n&&o}return!1}function Zr(e,t){t?e.selectStart():e.selectEnd()}function $r(e,t){const n=t.elem,o=(0,i.xL)(n);if(!ul(o))throw Error("Expected to find LexicalNode from Table Cell DOMNode");null===o.getBackgroundColor()?n.style.setProperty("background-color","var(--select-button-hover)","important"):n.style.setProperty("background-image","linear-gradient(to right, var(--select-button-hover), var(--select-button-hover)"),n.style.setProperty("caret-color","transparent")}function Qr(e,t){const n=t.elem,o=(0,i.xL)(n);if(!ul(o))throw Error("Expected to find LexicalNode from Table Cell DOMNode");null===o.getBackgroundColor()&&n.style.removeProperty("background-color"),n.style.removeProperty("background-image"),n.style.removeProperty("caret-color")}function el(e){const t=Ko(e,ul);return ul(t)?t:null}function tl(e){const t=Ko(e,_i);return _i(t)?t:null}function nl(e,t,n,o,a){const r=(0,i.vJ)();if(!Yr(r,o))return!1;if((0,i.I2)(r)&&r.isCollapsed()){const{anchor:i,focus:l}=r,s=Ko(i.getNode(),ul),c=Ko(l.getNode(),ul);if(!ul(s)||!s.is(c))return!1;const d=tl(s);if(d!==o&&null!=d){const o=e.getElementByKey(d.getKey());if(null!=o)return a.grid=jr(o),nl(e,t,n,d,a)}const u=e.getElementByKey(s.__key),p=e.getElementByKey(i.key);if(null==p||null==u)return!1;let g;if("element"===i.type)g=p.getBoundingClientRect();else{const e=window.getSelection();if(null===e||0===e.rangeCount)return!1;g=e.getRangeAt(0).getBoundingClientRect()}const m=Boolean("up"===n||"backward"===n)?s.getFirstChild():s.getLastChild();if(null==m)return!1;const h=e.getElementByKey(m.__key);if(null==h)return!1;const f=h.getBoundingClientRect();if(Boolean("up"===n||"down"===n)?"up"===n?f.top>g.top-g.height:g.bottom+g.height>f.bottom:"backward"===n?f.left<=g.left&&r.isCollapsed()&&0===r.anchor.offset&&0===r.focus.offset:g.right>=f.right){ol(t);const e=o.getCordsFromCellNode(s,a.grid);if(!t.shiftKey)return Gr(a,o,e.x,e.y,n);{const t=o.getCellFromCordsOrThrow(e.x,e.y,a.grid);a.setAnchorCellForSelection(t),a.setFocusCellForSelection(t,!0)}return!0}}else if((0,i.zq)(r)){const{anchor:i,focus:l}=r,s=Ko(i.getNode(),ul),c=Ko(l.getNode(),ul),[d]=r.getNodes(),u=e.getElementByKey(d.getKey());if(!ul(s)||!ul(c)||!_i(d)||null==u)return!1;a.updateTableGridSelection(r);const p=jr(u),g=o.getCordsFromCellNode(s,p),m=o.getCellFromCordsOrThrow(g.x,g.y,p);if(a.setAnchorCellForSelection(m),ol(t),t.shiftKey){const e=o.getCordsFromCellNode(c,p);return Xr(a,d,e.x,e.y,n)}return c.selectEnd(),!0}return!1}function ol(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}const al={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};var il=void 0,rl=void 0;function ll(e){if(il)return;e.stopPropagation(),e.preventDefault();const t=this.parentElement,n=t.parentElement.parentElement;if((!n||null==n||!n.classList.contains("selecting"))&&"-1"!==this.getAttribute("tabindex")&&t){const n=qr(t);if(n){const o=de();o&&o.isEditable()&&o.update((()=>{const a=(0,i.xL)(n.elem);if(!a)return void console.error("TableCellResizer: Table cell node not found.");const r=Ir(a),l=o.getElementByKey(r.getKey());if(!l)return void console.error("TableCellResizer: Table element not found.");const s=l.getBoundingClientRect(),c=n.elem.getBoundingClientRect();this.classList.contains("row-resize")?(this.classList.add("resizing"),this.style.left="".concat(s.left-c.left,"px"),this.style.width="".concat(s.width,"px"),t.style.setProperty("overflow","visible","important"),l.style.setProperty("overflow","visible","important"),l.classList.add("resizing")):this.classList.contains("col-resize")&&(this.classList.add("resizing"),this.style.height="".concat(s.height,"px"),this.style.top="".concat(s.top-c.top,"px"),t.style.setProperty("overflow","visible","important"),l.style.setProperty("overflow","visible","important"),l.classList.add("resizing"));const d=e instanceof MouseEvent,u=d?e.clientX:e.touches[0].clientX,p=d?e.clientY:e.touches[0].clientY;this.setAttribute("data-mouse-start",JSON.stringify({x:u,y:p})),this.setAttribute("data-mouse-pos",JSON.stringify({x:u,y:p}));const g=(m=this,function(e){setTimeout((()=>{const t=e instanceof MouseEvent,n=t?e.clientX:e.touches[0].clientX,o=t?e.clientY:e.touches[0].clientY;m.setAttribute("data-mouse-pos",JSON.stringify({x:n,y:o}));const a=m.getAttribute("data-mouse-start");if(a)try{const e=JSON.parse(String(a));if(isNaN(e.x)||isNaN(e.y))return;m.classList.contains("row-resize")?m.style.bottom="".concat(e.y-o,"px"):m.classList.contains("col-resize")&&(m.style.right="".concat(e.x-n,"px"))}catch(e){console.error(e)}}),0)});var m;il=g;const h=(f=this,function(e){var t;const n=e instanceof MouseEvent;if(!f.classList.contains("resizing"))return;if(!il)return;document.removeEventListener(Oe()?"touchmove":"mousemove",il),rl&&document.removeEventListener(Oe()?"touchend":"mouseup",rl),il=void 0,f.classList.remove("resizing");const o=null===(t=f.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.parentElement;if(o&&o.classList.remove("resizing"),e.stopPropagation(),e.preventDefault(),f.hasAttribute("data-mouse-start")){const t=f.getAttribute("data-mouse-start");f.removeAttribute("data-mouse-start"),f.removeAttribute("data-mouse-pos");const o=f.parentElement,a=qr(o);if(f.classList.contains("row-resize")){f.style.left="0px",f.style.width="100%",f.style.bottom="0px",o.style.setProperty("overflow","auto","important");try{const r=de(),l=JSON.parse(String(t)).y,s=o.getBoundingClientRect().height,c=(n?e.clientY:e.touches[0].clientY)-l;r&&r.isEditable()&&a&&r.update((()=>{const e=(0,i.xL)(a.elem);if(!e)return void console.error("TableCellResizer: Table cell node not found.");const t=Ir(e);if(!t)return void console.error("TableCellResizer: Table Node not found.");const n=r.getElementByKey(t.getKey());if(!n)return void console.error("TableCellResizer: Table element not found.");n.style.setProperty("overflow","auto","important"),n.classList.remove("resizing");const o=Lr(e);o&&o.setHeight(Math.max(s+c,33))}))}catch(e){console.error(e)}}else if(f.classList.contains("col-resize")){f.style.height="100%",f.style.top="0px",f.style.right="0px",o.style.setProperty("overflow","auto","important");try{const r=de(),l=JSON.parse(String(t)).x,s=o.getBoundingClientRect().width,c=(n?e.clientX:e.touches[0].clientX)-l;r&&r.isEditable()&&a&&r.update((()=>{const e=(0,i.xL)(a.elem);if(!ul(e))return void console.error("TableCellResizer: Table cell node not found.");const t=Ir(e),n=r.getElementByKey(t.getKey());n&&(n.style.setProperty("overflow","auto","important"),n.classList.remove("resizing"));const o=Or(e),l=t.getChildren();for(let e=0;e<l.length;e++){const t=l[e];if(!mi(t))return void console.error("Expected table row");const n=t.getChildren(),a=n.map((e=>e.getColSpan())),i=a.reduce(((e,t)=>{var n;const o=null!==(n=e[e.length-1])&&void 0!==n?n:0;return e.push(o+t),e}),[]).findIndex((e=>e>o));if(i>=n.length||i<0)return void console.error("Expected table cell to be inside of table row.");const r=n[i];if(!ul(r))return void console.error("Expected table cell");r.setWidth(Math.max(s+c,50))}}))}catch(e){console.error(e)}}}});var f;rl=h,Oe()?(document.addEventListener("touchmove",g),document.addEventListener("touchend",h)):(document.addEventListener("mousemove",g),document.addEventListener("mouseup",h))}))}}}class sl extends i.lE{static getType(){return"tablecell"}static clone(e){const t=new sl(e.__headerState,e.__colSpan,e.__width,e.__key);return t.__rowSpan=e.__rowSpan,t.__backgroundColor=e.__backgroundColor,t.__border=e.__border,t.__verticalAlign=e.__verticalAlign,t.__width||(t.__width=50),t}static importDOM(){return{td:e=>({conversion:cl,priority:0}),th:e=>({conversion:cl,priority:0})}}static importJSON(e){const t=e.colSpan||1,n=e.rowSpan||1,o=dl(e.headerState,t,e.width||void 0);return o.__rowSpan=n,o.__backgroundColor=e.backgroundColor||null,e.border&&(o.__border=e.border),e.verticalAlign&&(o.__verticalAlign=e.verticalAlign),o}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:al.NO_STATUS,t=arguments.length>2?arguments[2]:void 0;super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>3?arguments[3]:void 0),ii(this,"__active",!1),ii(this,"__canResize",!0),ii(this,"__version",1),this.__headerState=e,this.__width=t,this.__backgroundColor=null,this.__verticalAlign="middle"}createDOM(e){const t=document.createElement(this.getTag());if(this.__width&&(t.style.width="".concat(this.__width,"px")),this.__colSpan>1&&(t.colSpan=this.__colSpan,t.setAttribute("colspan",this.__colSpan.toString())),this.__rowSpan>1&&(t.rowSpan=this.__rowSpan,t.setAttribute("rowspan",this.__rowSpan.toString())),"th"===this.getTag())switch(this.__headerState){case 2:t.scope="row",t.setAttribute("scope","row");break;case 3:case 1:t.scope="col",t.setAttribute("scope","col")}if(null!==this.__backgroundColor&&(t.style.backgroundColor=this.__backgroundColor),void 0!==this.__border&&(t.style.border=this.__border),void 0!==this.__verticalAlign&&(t.style.verticalAlign=this.__verticalAlign),this.getActive()){const e=document.createElement("button");e.setAttribute("tabindex","1"),e.setAttribute("type","button"),e.setAttribute("data-table-cell-action","true"),e.setAttribute("id","table-action-menu-launch"),e.className="table-cell-action-button",e.insertAdjacentHTML("afterbegin",'<svg style="width:12px;height:12px;" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="KeyboardArrowDown"><path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"></path></svg>'),t.append(e)}if(this.getCanResize()){const e=document.createElement("div");e.className="col-resize";const n=document.createElement("div");n.className="row-resize",Oe()?(e.addEventListener("touchstart",ll),n.addEventListener("touchstart",ll)):(e.addEventListener("mousedown",ll),n.addEventListener("mousedown",ll)),t.append(e),t.append(n)}return Fo(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t.setAttribute("data-v",String(1)),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}exportDOM(e){const{element:t}=super.exportDOM(e);if(t){if((0,i.sb)(t))switch(t.setAttribute("data-v",String(1)),this.__headerState){case 2:t.setAttribute("data-scope","row");break;case 3:case 1:t.setAttribute("data-scope","col")}const e=t,n=800,o=this.getParentOrThrow().getChildrenSize();this.__colSpan>1&&(e.colSpan=this.__colSpan),this.__rowSpan>1&&(e.rowSpan=this.__rowSpan),e.style.width="".concat(this.getWidth()||Math.max(75,n/o),"px");const a=this.getVerticalAlign(),r=this.getBorder();a&&(e.style.verticalAlign=a),r&&(e.style.border=r),e.style.textAlign="start";const l=this.getBackgroundColor();null!==l?e.style.setProperty("background-color",l,"important"):e.style.setProperty("background-color",null)}return{element:t}}exportJSON(){return{...super.exportJSON(),backgroundColor:this.getBackgroundColor(),headerState:this.__headerState,type:"tablecell",width:this.getWidth(),verticalAlign:this.getVerticalAlign(),border:this.getBorder(),version:1}}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e){return this.getWritable().__headerState=e,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){return this.getWritable().__width=e,this.__width}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){this.getWritable().__backgroundColor=e}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){this.getWritable().__verticalAlign=e}getBorder(){return this.getLatest().__border}setBorder(e){this.getWritable().__border=e}setCustomStyles(e){let{border:t,verticalAlign:n,backgroundColor:o}=e;const a=this.getWritable();a.__border=t,a.__verticalAlign=n,a.__backgroundColor=o}toggleHeaderStyle(e){const t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==al.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__canResize!==this.__canResize||e.__active!==this.__active||e.__verticalAlign!==this.__verticalAlign||e.__border!==this.__border}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}getActive(){return this.getLatest().__active}setActive(e){const t=this.getWritable();return t.__active=e,t}getScope(){switch(this.getLatest().__headerState){case 2:return"row";case 3:case 1:return"col";default:return}}getCanResize(){return this.getLatest().__canResize}setCanResize(e){const t=this.getWritable();return t.__canResize=e,t}}function cl(e){const t=e,n=e.nodeName.toLowerCase();let o;var a;di.test(t.style.width)&&(o=parseFloat(t.style.width)),(a="th"===n?e instanceof HTMLElement&&"row"===e.getAttribute("data-scope")?dl(al.COLUMN,t.colSpan,o):dl(al.ROW,t.colSpan,o):dl(al.NO_STATUS,t.colSpan,o)).__rowSpan=t.rowSpan;const r=t.style.backgroundColor;""!==r&&(a.__backgroundColor=r);const l=t.style.verticalAlign,s=t.style.border;return!l||"top"!==l&&"middle"!==l&&"bottom"!==l||(a.__verticalAlign=l),s&&(a.__border=s),{forChild:(e,t)=>{if(ul(t)&&!(0,i.ff)(e)){const t=si();return(0,i.wH)(e)&&"\n"===e.getTextContent()?null:(t.append(e),t)}return e},node:a}}function dl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;return(0,i.pT)(new sl(e,t,n))}function ul(e){return e instanceof sl}function pl(){const e=(0,i.vJ)();if((0,i.I2)(e)&&!e.isCollapsed()||(0,i.zq)(e)&&!e.anchor.is(e.focus)||!(0,i.I2)(e)&&!(0,i.zq)(e))return!1;const[t]=(0,i.Jt)(e.anchor);return t.__colSpan>1||t.__rowSpan>1}const gl=(0,i.gu)("INSERT_TABLE_COMMAND"),ml=(0,i.gu)("INSERT_TABLE_COMMAND_WITH_DATA");function hl(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fl extends i.Kp{static getType(){return"math"}isKeyboardSelectable(){return!0}static clone(e){return new fl(e.__equation,e.__inline,e.__key)}constructor(e,t,n){super(n),hl(this,"__editable",!1),hl(this,"__version",1),this.__equation=e,this.__inline=null!=t&&t}static importJSON(e){const t=vl(e.equation,e.inline);return null!=e&&e.first_element&&t.setFirstElement(!0),t}exportJSON(){return{equation:this.getEquation(),inline:this.__inline,type:"math",version:1,first_element:this.getFirstElement()}}createDOM(e){const t=document.createElement(this.__inline?"span":"div");return t.className="lexical-math",t.setAttribute("data-v",String(1)),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}exportDOM(){const e=document.createElement(this.__inline?"span":"div");var t="";try{t=window.btoa(this.__equation)}catch(e){console.error(e)}return e.setAttribute("data-frank-equation",t),e.setAttribute("data-frank-inline","".concat(this.__inline)),this.__inline||e.style.setProperty("overflow-x","auto"),this.__inline?xl(e,this.__equation):_l(e,this.__equation),e.setAttribute("data-v",String(1)),this.getFirstElement()&&!Be&&e.classList.add("first-rte-element"),this.getLastElement()&&!Be&&e.classList.add("last-rte-element"),{element:e}}static importDOM(){return{div:e=>e.hasAttribute("data-frank-equation")?{conversion:bl,priority:4}:null,span:e=>e.hasAttribute("data-frank-equation")?{conversion:bl,priority:2}:null}}updateDOM(e){return Boolean(this.__inline!==e.__inline||this.__editable!==e.__editable)}getTextContent(){return this.__equation}getEquation(){return this.__equation}setEquation(e){this.getWritable().__equation=e}setEditable(e){const t=this.getWritable();return t.__editable=e,t}getEditable(){return this.getLatest().__editable}isInline(){return this.getLatest().__inline}decorate(e,t){const n=e.getElementByKey(this.__key);if(0===this.__equation.length)return this.remove(),document.createElement("div");if(n){if(this.getEditable()){const o=document.createElement("div");o.setAttribute("data-frank-equation",""),o.className="katex-equation-editor";const a=document.createElement("span");a.className="katex-equation-dollar-sign",a.innerText=this.__inline?"$":"$$";const r=document.createElement("textarea");function l(t){const n=this.value,o=this.closest("[data-frank-decorator]");if(o){const t=o.getAttribute("data-node-key");t&&e.update((()=>{const e=(0,i.ns)(t);yl(e)&&0!==n.length?e.setEquation(n):yl(e)&&e.remove()}))}}function s(t){const n=this.selectionStart,o=this.selectionEnd,a=this.value,r=this.closest("[data-frank-decorator]");if(r){const l=r.getAttribute("data-node-key");l&&("ArrowUp"===t.key?!Boolean(a.slice(0,n).includes("\n"))&&(t.preventDefault(),t.stopPropagation(),e.update((()=>{const e=(0,i.ns)(l);if(yl(e)){e.setEditable(!1);const t=e.getParentOrThrow();t&&(0,i.n1)(t.selectStart())}}))):"ArrowDown"===t.key?!Boolean(a.slice(o,a.length).includes("\n"))&&(t.preventDefault(),t.stopPropagation(),e.update((()=>{const e=(0,i.ns)(l);if(yl(e)){e.setEditable(!1);const t=e.getParentOrThrow();t&&(0,i.n1)(t.selectEnd())}}))):"ArrowLeft"===t.key?0===n?(t.preventDefault(),t.stopPropagation(),e.update((()=>{const e=(0,i.ns)(l);if(yl(e)){e.setEditable(!1);const t=e.getParentOrThrow();t&&(0,i.n1)(t.selectStart())}}))):(t.preventDefault(),t.stopPropagation(),this.setSelectionRange(n-1,n-1)):"ArrowRight"===t.key&&(t.preventDefault(),t.stopPropagation(),o===a.length?(t.preventDefault(),t.stopPropagation(),e.update((()=>{const e=(0,i.ns)(l);if(yl(e)){e.setEditable(!1);const t=e.getParentOrThrow();t&&(0,i.n1)(t.selectEnd())}}))):(t.preventDefault(),t.stopPropagation(),this.setSelectionRange(n+1,n+1))))}}r.className="katex-equation-editor",r.value=this.__equation,r.addEventListener("change",l),r.addEventListener("keydown",s,!0);const c=a.cloneNode(!0);return o.append(a),o.append(r),o.append(c),wl(n),n.append(o),setTimeout((()=>{r.focus()}),100),o}if(this.isInline()){const d=document.createElement("span");return d.setAttribute("data-frank-equation",""),d.className="inline-katex",xl(d,this.__equation),wl(n),n.append(d),d}{const u=document.createElement("div");this.getFirstElement()&&u.classList.add("first-rte-element"),this.getLastElement()&&u.classList.add("last-rte-element"),u.setAttribute("data-frank-equation",""),u.className="hz-scroll",u.style.setProperty("overflow-x","auto");const p=document.createElement("div");return p.className="katex-block",p.style.cssText="position:relative;",_l(p,this.__equation),wl(n),u.append(p),n.append(u),u}}return document.createElement("div")}}function bl(e){let t=e.getAttribute("data-frank-equation");const n="true"===e.getAttribute("data-frank-inline"),o=e.classList.contains("first-rte-element"),a=e.classList.contains("last-rte-element");if(t=window.atob(t||""),t){const e=vl(t,n);return e.setFirstElement(o),e.setLastElement(a),{node:e}}return null}function vl(){const e=new fl(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1&&void 0!==arguments[1]&&arguments[1]);return(0,i.pT)(e)}function yl(e){return e instanceof fl}function xl(e,t){Promise.resolve().then(n.bind(n,17800)).then((n=>{n.katex.render(t,e,{displayMode:!1,errorColor:"#cc0000",output:"html",strict:!1,throwOnError:!1,trust:!1})})).catch((e=>{console.error(e)}))}function _l(e,t){Promise.resolve().then(n.bind(n,17800)).then((n=>{n.katex.render(t,e,{displayMode:!0,errorColor:"#cc0000",output:"html",strict:!1,throwOnError:!1,trust:!1})})).catch((e=>{console.error(e)}))}function wl(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}const El=(0,i.gu)("INSERT_MATH_COMMAND");function kl(){const e=document.getElementById("math-markup-lexical");if(e){const t=e.querySelector("textarea"),n=t?t.value:"",o=Array.from(e.querySelectorAll('input[type="radio"]')).filter((e=>e.checked)),a=o.length?o[0].value:"block",i="block"!==a&&"inline"!==a||Boolean("block"===a),r=e.querySelector("output[data-preview]"),l=e.querySelector("form");return{dialog:e,equation:n,displayStyle:i,example:r,form:l}}return null}var Cl=void 0;function Sl(e){const t=kl();if(Cl&&clearTimeout(Cl),t&&t.example){const e=function(){this.displayStyle?(wl(this.example),this.equation.length&&(this.example.className="katex-block mt-3",this.example.style.cssText="position:relative;",_l(this.example,this.equation))):this.equation.length&&(wl(this.example),this.example.className="inline-katex mt-3",this.example.style.cssText="",xl(this.example,this.equation))}.bind(t);Cl=setTimeout(e,250)}}function Al(e){e.preventDefault();const t=kl(),n=de();t&&n&&t.dialog&&(n.dispatchCommand(El,{equation:t.equation,inline:!t.displayStyle}),me(t.dialog),t.example&&(wl(t.example),t.example.className="",t.example.style.cssText=""),this.reset())}function Tl(e){if("math-markup-lexical"===e.detail.el.id){const e=document.getElementById("math-markup-lexical");if(e){const e=kl();e&&e.form&&(e.form.addEventListener("submit",Al),e.form.addEventListener("change",Sl),e.form.addEventListener("input",Sl))}document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:e}}))}}function Nl(e){return e.hasNode(fl)?(document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",Tl),Po(e.registerCommand(i.Q$,(t=>{const n=e.getDecorators();for(let e of Object.keys(n)){const t=(0,i.ns)(e);yl(t)&&t.getEditable()&&t.setEditable(!1)}return!1}),i.Wg),e.registerCommand(El,(e=>{const{equation:t,inline:n}=e,o=vl(t,n),a=(0,i.lJ)();return(0,i.H2)([o,a]),!0}),i.jZ),e.registerCommand(i.if,(e=>{const t=(0,i.vJ)();if((0,i.I2)(t)&&t.isCollapsed()){const e=t.getNodes();if(e.length){const t=e[0];if(t){const e=Ko(t,(e=>(0,i.bS)(e)));if((0,i.bS)(e)&&"$$"===e.getTextContent().trim()){var n=e.getPreviousSibling();const t=[e];for(var o=!0,a="",r=!1;o&&(0,i.bS)(n);){const e=n.getTextContent();if(/\$\$/.test(e.trim())){r=!0,t.push(n),o=!1;break}a=n.getTextContent()+" "+a,t.push(n),n=n.getPreviousSibling()}if(r)return t.forEach((e=>e.remove(!1))),Wo(vl(a,!1)),!0}}}}return!1}),i.Wg),Ll(e))):(console.error("Editor does not have MathNode registered."),()=>{})}function Ll(e){return e.hasNode(fl)?Po(e.registerEditableListener((t=>{e.update((()=>{const e=(0,i.zl)(fl);t||e.forEach((e=>{e.setEditable(!1)}))}))})),e.registerCommand(qe,(()=>((0,i.zl)(fl).forEach((e=>{e.getEditable()&&e.setEditable(!1)})),!1)),i.jZ)):(console.error("Editor does not have MathNode registered."),()=>{})}function Il(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ml={},Ol=new Set(["http:","https:","mailto:","sms:","tel:"]);class Bl extends i.fG{static getType(){return"link"}static clone(e){return new Bl(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(arguments.length>2?arguments[2]:void 0),Il(this,"__version",1);const{target:n=null,rel:o=null,title:a=null}=t;this.__url=e,this.__target=n,this.__rel=o,this.__title=a}createDOM(e){const t=document.createElement("a");return t.href=this.sanitizeUrl(this.__url),null!==this.__target&&(t.target=this.__target),null!==this.__rel&&(t.rel=this.__rel),null!==this.__title&&(t.title=this.__title),t.setAttribute("data-v",String(1)),Fo(t,e.theme.link),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}updateDOM(e,t,n){const o=this.__url,a=this.__target,i=this.__rel,r=this.__title;return o!==e.__url&&(t.href=o),a!==e.__target&&(a?t.target=a:t.removeAttribute("target")),i!==e.__rel&&(i?t.rel=i:t.removeAttribute("rel")),r!==e.__title&&(r?t.title=r:t.removeAttribute("title")),!1}static importDOM(){return{a:e=>({conversion:Dl,priority:1})}}static importJSON(e){const t=Rl(e.url,{rel:e.rel,target:e.target,title:e.title});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}sanitizeUrl(e){try{const t=new URL(e);if(!Ol.has(t.protocol))return"about:blank"}catch(t){return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(e){this.getWritable().__url=e}getTarget(){return this.getLatest().__target}setTarget(e){this.getWritable().__target=e}getRel(){return this.getLatest().__rel}setRel(e){this.getWritable().__rel=e}getTitle(){return this.getLatest().__title}setTitle(e){this.getWritable().__title=e}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Rl(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(n,t),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,n){if(!(0,i.I2)(t))return!1;const o=t.anchor.getNode(),a=t.focus.getNode();return this.isParentOf(o)&&this.isParentOf(a)&&t.getTextContent().length>0}}function Dl(e){let t=null;if((0,i.nY)(e)){const n=e.textContent;(null!==n&&""!==n||e.children.length>0)&&(t=Rl(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function Rl(e,t){return(0,i.pT)(new Bl(e,t))}function zl(e){return e instanceof Bl}const Pl=(0,i.gu)("TOGGLE_LINK_COMMAND");function Fl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{target:o,title:a}=n,r=void 0===n.rel?"noreferrer":n.rel;if(!(0,i.I2)(e))return;const l=e.extract();if(null===t)l.forEach((e=>{const t=e.getParent();if(zl(t)){const e=t.getChildren();for(let n=0;n<e.length;n++)t.insertBefore(e[n]);t.remove()}}));else{if(1===l.length){const e=Hl(l[0],zl);if(null!==e)return e.setURL(t),void 0!==o&&e.setTarget(o),null!==r&&e.setRel(r),void(void 0!==a&&e.setTitle(a))}let e=null,n=null;l.forEach((l=>{const s=l.getParent();if(s!==n&&null!==s&&(!(0,i.ff)(l)||l.isInline())){if(zl(s))return n=s,s.setURL(t),void 0!==o&&s.setTarget(o),null!==r&&n.setRel(r),void(void 0!==a&&n.setTitle(a));if(s.is(e)||(e=s,n=Rl(t,{rel:r,target:o,title:a}),zl(s)?null===l.getPreviousSibling()?s.insertBefore(n):s.insertAfter(n):l.insertBefore(n)),zl(l)){if(l.is(n))return;if(null!==n){const e=l.getChildren();for(let t=0;t<e.length;t++)n.append(e[t])}l.remove()}else null!==n&&n.append(l)}}))}}function Hl(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}var ql={};function jl(e){if("ENTER"===e.key.toUpperCase()){e.preventDefault(),e.stopPropagation();const t=this.closest("div.floating-menu");if(t){const e=t.querySelector("button[data-lexical-link-submit], button[data-lexical-abbr-submit]");e&&e.dispatchEvent(new Event("click"))}}}function Kl(e){const t=de(),n=document.getElementById("lexical-insert-link-main-menu");if(t&&n){const e=t._config.namespace,o=ql[e],a=n.querySelector("input[data-lexical-link-input]");if((0,i.I2)(o)&&a){const e=a.value;if(e)if(Ml[t._config.namespace])t.update((()=>{const o=(0,i.ns)(String(Ml[t._config.namespace]));zl(o)&&(o.setURL(e),a.value="",document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#lexical-insert-link-main-menu"}})),n.style.display="none")}));else{t.dispatchCommand(Pl,{selection:ql[t._config.namespace],url:e,rel:"ugc"});const o=n.querySelector("p[data-error-text]");o&&o.setAttribute("hidden",""),a.value="",document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#lexical-insert-link-main-menu"}})),n.style.display="none"}else{const e=n.querySelector("p[data-error-text]");e&&e.removeAttribute("hidden")}}}}function Wl(e){const t=document.getElementById("lexical-insert-link-main-menu"),n=de();if(t&&n){const e=t.querySelector('input[type="url"]');if(e&&(0,i.I2)(ql[n._config.namespace])){n.dispatchCommand(Pl,{selection:ql[n._config.namespace],url:null,rel:"ugc"});const o=t.querySelector("p[data-error-text]");o&&o.setAttribute("hidden",""),e.value=""}}}function Jl(e){try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol||"mailto:"===t.protocol}catch(e){return!1}}function Ul(){const e=de(),t=document.getElementById("lexical-insert-link-main-menu");if(t&&e){const o=t.querySelector("button[data-lexical-remove-link]"),a=e._config.namespace,r=ql[a];var n=!1;e.getEditorState().read((()=>{(0,i.I2)(r)&&o&&Boolean(r.getNodes().filter((e=>zl(e)||zl(e.getParent()))).length>=1)&&(n=!0,o.removeAttribute("hidden"))})),!n&&o&&o.setAttribute("hidden","")}}function Vl(e){const t=de();t&&t.getEditorState().read((()=>{const e=(0,i.vJ)();if((0,i.I2)(e)){const a=e.getNodes();var n=void 0,o="";for(let e of a)if((0,i.kF)(e)){const t=e.getParent();if(zl(t)){const e=t.getKey();if(n&&e!==n){n=void 0,o="";break}n||(n=e,o=t.getURL())}}else if(zl(e)){const t=e.getKey();if(n&&t!==n){n=void 0,o="";break}n||(n=t,o=e.getURL())}const r=document.getElementById(t._config.namespace);if(r){const e=r.querySelector("input[data-lexical-link-input]");e&&(o&&n?(Ml[t._config.namespace]=n,e.value=o):(e.value="",Ml[t._config.namespace]=void 0))}}}))}function Gl(e){const t=de();t&&t.getEditorState().read((()=>{const e=(0,i.vJ)();if((0,i.I2)(e)){const a=e.getNodes();var n=void 0,o="";for(let e of a)if((0,i.kF)(e)){const t=e.getParent();if(zl(t)){const e=t.getKey();if(n&&e!==n){n=void 0,o="";break}n||(n=e,o=t.getURL())}}else if(zl(e)){const t=e.getKey();if(n&&t!==n){n=void 0,o="";break}n||(n=t,o=e.getURL())}const r=document.getElementById("lexical-insert-link-main-menu");if(r){const e=r.querySelector("input[data-lexical-link-input]");e&&(o&&n?(Ml[t._config.namespace]=n,e.value=o):(e.value="",Ml[t._config.namespace]=void 0))}}}))}function Xl(e){var t;const n=document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));if(n){const t=n.querySelector("button[data-lexical-link-button]");t&&(Oe()?t.addEventListener("touchstart",Vl):t.addEventListener("mousedown",Vl));const o=n.querySelector("button[data-lexical-link-submit]"),a=n.querySelector("input[data-lexical-link-input]"),r=n.querySelector("button[data-lexical-remove-link]");o&&o.addEventListener("click",function(e){return function(t){const n=this.closest("div.floating-menu");if(n){const t=n.querySelector("input[data-lexical-link-input]");if(t&&(0,i.I2)(ql[e._config.namespace])){const o=t.value;if(Ml[e._config.namespace])if(o)e.update((()=>{const a=(0,i.ns)(String(Ml[e._config.namespace]));if(zl(a)){a.setURL(o);const e=n.querySelector("p[data-error-text]");e&&e.setAttribute("hidden",""),t.value="",document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#".concat(n.id)}})),n.style.display="none"}}));else{const e=n.querySelector("p[data-error-text]");e&&e.removeAttribute("hidden")}else if(o){e.dispatchCommand(Pl,{selection:ql[e._config.namespace],url:o,rel:"ugc"});const a=n.querySelector("p[data-error-text]");a&&a.setAttribute("hidden",""),t.value="",document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#".concat(n.id)}})),n.style.display="none"}else{const e=n.querySelector("p[data-error-text]");e&&e.removeAttribute("hidden")}}}}}(e)),r&&r.addEventListener("click",function(e){return function(t){const n=this.closest("div.floating-menu");if(n){const t=n.querySelector('input[type="url"]');if(t&&(0,i.I2)(ql[e._config.namespace])){e.dispatchCommand(Pl,{selection:ql[e._config.namespace],url:null,rel:"ugc"});const o=n.querySelector("p[data-error-text]");o&&o.setAttribute("hidden",""),t.value=""}}}}(e)),a&&a.addEventListener("keydown",jl)}}function Yl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jl;if(e.hasNode(Bl)){Xl(e);const n=document.getElementById("float-menu-link");n&&n.addEventListener("click",Ul,!0),n&&(Oe()?n.addEventListener("touchstart",Gl):n.addEventListener("mousedown",Gl));const o=document.getElementById("lexical-insert-link-main-menu");if(o){const e=o.querySelector("button[data-lexical-link-submit]"),t=o.querySelector("input[data-lexical-link-input]"),n=o.querySelector("button[data-lexical-remove-link]");e&&e.addEventListener("click",Kl),n&&n.addEventListener("click",Wl),t&&t.addEventListener("keydown",jl)}return Po(e.registerCommand(Pl,(e=>{const{selection:n,url:o,...a}=e;return null===o?(Fl(n,null),!0):!("string"!=typeof o||!t(o)||(Fl(n,o,{rel:a.rel,title:a.title,target:a.target||"_blank"}),0))}),i.Ac),e.registerCommand(i.w,(n=>{const o=(0,i.vJ)();if(!(0,i.I2)(o)||o.isCollapsed()||!(n instanceof ClipboardEvent)||null==n.clipboardData)return!1;const a=n.clipboardData.getData("text");return!!t(a)&&!o.getNodes().some((e=>(0,i.ff)(e)))&&(e.dispatchCommand(Pl,{selection:o,url:a,rel:"ugc",target:"_blank"}),n.preventDefault(),!0)}),i.Ac),e.registerCommand(i.Mv,(()=>{const t=(0,i.vJ)();return(0,i.I2)(t)&&!t.isCollapsed()?ql[e._config.namespace]=t:ql[e._config.namespace]=void 0,!1}),i.Wg),(function(){const t=e._config.namespace;ql[t]&&delete ql[t]}),e.registerCommand(He,(()=>(Xl(e),!1)),i.jZ))}return console.error("Editor does not have LinkNode registered."),()=>{}}class Zl extends i.fG{static getType(){return"section-heading"}static clone(e){return new Zl(e.__id,e.__key)}constructor(e,t){super(t),Il(this,"__version",1),this.__id=e}createDOM(e){const t=document.createElement("a");return t.href="#".concat(this.__id),t.id=this.__id,t.className="same-page",t.setAttribute("data-v",String(1)),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}updateDOM(e,t,n){return e.__id!==this.__id}static importDOM(){return{a:e=>{var t;return e.classList.contains("same-page")||null!==(t=e.getAttribute("href"))&&void 0!==t&&t.startsWith("#")?{conversion:$l,priority:2}:null}}}static importJSON(e){const t=Ql(e.id);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),id:this.getId(),version:1,type:this.getType()}}getId(){return this.getLatest().__id}setId(e){const t=this.getWritable();return t.__id=e,t}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Ql(this.__id);return this.insertAfter(n,t),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,n){if(!(0,i.I2)(t))return!1;const o=t.anchor.getNode(),a=t.focus.getNode();return this.isParentOf(o)&&this.isParentOf(a)&&t.getTextContent().length>0}}function $l(e){let t=null;if((0,i.nY)(e)){const n=e.textContent;if(null!==n&&""!==n||e.children.length>0){const n="i"+window.crypto.randomUUID();t=Ql(e.getAttribute("id")||n)}}return{node:t}}function Ql(e){return(0,i.pT)(new Zl(e))}function es(e){return e instanceof Zl}const ts=(0,i.gu)("TOGGLE_SECTION_HEADING_COMMAND");function ns(e){var t;const n=document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));if(n){const t=n.querySelector("button[data-lexical-section-button]");t&&t.addEventListener("click",function(e){return function(){e.dispatchCommand(ts,void 0)}}(e))}}class os extends i.fG{static getType(){return"abbreviation"}static clone(e){return new os(e.__title)}constructor(e,t){super(t),Il(this,"__title",""),Il(this,"__version",1),this.__title=e}createDOM(e){const t=document.createElement("abbr");return t.setAttribute("title",this.getTitle()),t.setAttribute("data-v",String(1)),t.setAttribute("spellcheck","false"),Fo(t,e.theme.abbr),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}updateDOM(e,t,n){const o=this.__title;return o!==e.__title&&(t.title=o),!1}static importDOM(){return{abbr:e=>({conversion:as,priority:1})}}static importJSON(e){const t=is(e.title);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),title:this.getTitle(),type:this.getType(),version:1}}getTitle(){return this.getLatest().__title}setTitle(e){this.getWritable().__title=e}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=is(this.__title);return this.insertAfter(n,t),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,n){if(!(0,i.I2)(t))return!1;const o=t.anchor.getNode(),a=t.focus.getNode();return this.isParentOf(o)&&this.isParentOf(a)&&t.getTextContent().length>0}}function as(e){let t=null;if((0,i.sb)(e)&&"ABBR"===e.tagName){const n=e.textContent;(null!==n&&""!==n||e.children.length>0)&&(t=is(e.getAttribute("title")||""))}return{node:t}}function is(e){return(0,i.pT)(new os(e))}function rs(e){return e instanceof os}const ls=(0,i.gu)("TOGGLE_ABBR_COMMAND");function ss(e,t){if(!(0,i.I2)(e))return;const n=e.extract();if(null===t)n.forEach((e=>{const t=e.getParent();if(rs(t)){const e=t.getChildren();for(let n=0;n<e.length;n++)t.insertBefore(e[n]);t.remove()}}));else{if(1===n.length){const e=Hl(n[0],rs);if(null!==e)return void e.setTitle(t)}let e=null,o=null;n.forEach((n=>{const a=n.getParent();if(a!==o&&null!==a&&(!(0,i.ff)(n)||n.isInline())){if(rs(a))return o=a,void a.setTitle(t);if(a.is(e)||(e=a,o=is(t),rs(a)?null===n.getPreviousSibling()?a.insertBefore(o):a.insertAfter(o):n.insertBefore(o)),rs(n)){if(n.is(o))return;if(null!==o){const e=n.getChildren();for(let t=0;t<e.length;t++)o.append(e[t])}n.remove()}else null!==o&&o.append(n)}}))}}const cs=e=>Boolean(e.length>=1&&e.length<=200);var ds={};const us={};function ps(e){const t=de(),n=document.getElementById("lexical-insert-abbr-main");if(t&&n){const e=t._config.namespace,o=ql[e],a=n.querySelector("input[data-lexical-abbr-input]");if((0,i.I2)(o)&&a){const e=a.value;cs(e)&&(us[t._config.namespace]?t.update((()=>{const o=(0,i.ns)(String(us[t._config.namespace]));rs(o)&&(o.setTitle(e),a.value="",document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#lexical-insert-abbr-main"}})),n.style.display="none")})):(t.dispatchCommand(ls,{selection:ql[t._config.namespace],title:e}),a.value="",document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#lexical-insert-abbr-main"}})),n.style.display="none"))}}}function gs(e){const t=document.getElementById("lexical-insert-abbr-main"),n=de();if(t&&n){const e=t.querySelector('input[type="text"]');e&&(0,i.I2)(ds[n._config.namespace])&&(n.dispatchCommand(ls,{selection:ds[n._config.namespace],title:null}),e.value="")}}function ms(){const e=de(),t=document.getElementById("lexical-insert-abbr-main");if(t&&e){const o=t.querySelector("button[data-lexical-remove-abbr]"),a=e._config.namespace,r=ds[a];var n=!1;e.getEditorState().read((()=>{(0,i.I2)(r)&&o&&Boolean(r.getNodes().filter((e=>rs(e)||rs(e.getParent()))).length>=1)&&(n=!0,o.removeAttribute("hidden"))})),!n&&o&&o.setAttribute("hidden","")}}function hs(e){const t=de();t&&t.getEditorState().read((()=>{const e=(0,i.vJ)();if((0,i.I2)(e)){const a=e.getNodes();var n=void 0,o="";for(let e of a)if((0,i.kF)(e)){const t=e.getParent();if(rs(t)){const e=t.getKey();if(n&&e!==n){n=void 0,o="";break}n||(n=e,o=t.getTitle())}}else if(rs(e)){const t=e.getKey();if(n&&t!==n){n=void 0,o="";break}n||(n=t,o=e.getTitle())}const r=document.getElementById(t._config.namespace);if(r){const e=r.querySelector("input[data-lexical-abbr-input]");e&&(o&&n?(us[t._config.namespace]=n,e.value=o):(e.value="",us[t._config.namespace]=void 0))}}}))}function fs(e){const t=de();t&&t.getEditorState().read((()=>{const e=(0,i.vJ)();if((0,i.I2)(e)){const a=e.getNodes();var n=void 0,o="";for(let e of a)if((0,i.kF)(e)){const t=e.getParent();if(rs(t)){const e=t.getKey();if(n&&e!==n){n=void 0,o="";break}n||(n=e,o=t.getTitle())}}else if(rs(e)){const t=e.getKey();if(n&&t!==n){n=void 0,o="";break}n||(n=t,o=e.getTitle())}const r=document.getElementById("lexical-insert-abbr-main");if(r){const e=r.querySelector("input[data-lexical-abbr-input]");e&&(o&&n?(us[t._config.namespace]=n,e.value=o):(e.value="",us[t._config.namespace]=void 0))}}}))}function bs(e){var t;const n=document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));if(n){const t=n.querySelector("button[data-lexical-abbr-button]");t&&(Oe()?t.addEventListener("touchstart",hs):t.addEventListener("mousedown",hs));const o=n.querySelector("button[data-lexical-abbr-submit]"),a=n.querySelector("input[data-lexical-abbr-input]"),r=n.querySelector("button[data-lexical-remove-abbr]");o&&o.addEventListener("click",function(e){return function(t){const n=this.closest("div.floating-menu");if(n){const t=n.querySelector("input[data-lexical-abbr-input]");if(t&&(0,i.I2)(ds[e._config.namespace])){const o=t.value;us[e._config.namespace]?cs(o)&&e.update((()=>{const a=(0,i.ns)(String(us[e._config.namespace]));rs(a)&&(a.setTitle(o),t.value="",document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#".concat(n.id)}})),n.style.display="none")})):cs(o)&&(e.dispatchCommand(ls,{selection:ds[e._config.namespace],title:o}),t.value="",document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#".concat(n.id)}})),n.style.display="none")}}}}(e)),r&&r.addEventListener("click",function(e){return function(t){const n=this.closest("div.floating-menu");if(n){const t=n.querySelector('input[type="text"]');t&&(0,i.I2)(ds[e._config.namespace])&&(e.dispatchCommand(ls,{selection:ql[e._config.namespace],title:null}),t.value="")}}}(e)),a&&a.addEventListener("keydown",jl)}const o=document.getElementById("lexical-menu-abbr-btn");o&&o.addEventListener("click",ms,!0),o&&(Oe()?o.addEventListener("touchstart",fs):o.addEventListener("mousedown",fs));const a=document.getElementById("lexical-insert-abbr-main");if(a){const e=a.querySelector("button[data-lexical-abbr-submit]"),t=a.querySelector("input[data-lexical-abbr-input]"),n=a.querySelector("button[data-lexical-remove-abbr]");e&&e.addEventListener("click",ps),n&&n.addEventListener("click",gs),t&&t.addEventListener("keydown",jl)}}function vs(e){return e.hasNode(os)?(bs(e),Po(e.registerCommand(ls,(e=>{const{selection:t,title:n}=e;return null===n?(ss(t,null),!0):!("string"!=typeof n||!cs(n)||(ss(t,n),0))}),i.Ac),e.registerCommand(i.Mv,(()=>{const t=(0,i.vJ)();return(0,i.I2)(t)&&!t.isCollapsed()?ds[e._config.namespace]=t:ds[e._config.namespace]=void 0,!1}),i.Wg),(function(){const t=e._config.namespace;ds[t]&&delete ds[t]}),e.registerCommand(He,(()=>(bs(e),!1)),i.jZ))):(console.error("Editor does not have AbbreviationNode registered."),()=>{})}const ys="block-style-form-example";var xs={};const _s=e=>Boolean("list"===e.getType()),ws=e=>Boolean("heading"===e.getType()),Es=[{id:"lex-block-background-color",key:"backgroundColor"},{id:"lex-block-background-color-transparent",key:"backgroundColorTransparent"},{id:"lex-block-text-color",key:"textColor"},{id:"lex-block-text-color-inherit",key:"textColorInherit"},{id:"lex-block-margin",key:"margin"},{id:"lex-block-padding",key:"padding"},{id:"lex-block-margin-top",key:"marginTop"},{id:"lex-block-padding-top",key:"paddingTop"},{id:"lex-block-margin-right",key:"marginRight"},{id:"lex-block-padding-right",key:"paddingRight"},{id:"lex-block-margin-bottom",key:"marginBottom"},{id:"lex-block-padding-bottom",key:"paddingBottom"},{id:"lex-block-margin-left",key:"marginLeft"},{id:"lex-block-padding-left",key:"paddingLeft"},{id:"lex-block-border-color",key:"borderColor"},{id:"lex-block-border-color-transparent",key:"borderColorTransparent"},{id:"border-style-value",key:"borderStyle"},{id:"lex-block-border-width",key:"borderWidth"},{id:"lex-block-border-radius",key:"borderRadius"},{id:"lex-block-border-top-color",key:"borderTopColor"},{id:"lex-block-border-top-color-transparent",key:"borderTopColorTransparent"},{id:"border-top-style-value",key:"borderTopStyle"},{id:"lex-block-border-top-width",key:"borderTopWidth"},{id:"lex-block-border-top-radius",key:"borderTopRadius"},{id:"lex-block-border-right-color",key:"borderRightColor"},{id:"lex-block-border-right-color-transparent",key:"borderRightColorTransparent"},{id:"border-right-style-value",key:"borderRightStyle"},{id:"lex-block-border-right-width",key:"borderRightWidth"},{id:"lex-block-border-right-radius",key:"borderRightRadius"},{id:"lex-block-border-bottom-color",key:"borderBottomColor"},{id:"lex-block-border-bottom-color-transparent",key:"borderBottomColorTransparent"},{id:"border-bottom-style-value",key:"borderBottomStyle"},{id:"lex-block-border-bottom-width",key:"borderBottomWidth"},{id:"lex-block-border-bottom-radius",key:"borderBottomRadius"},{id:"lex-block-border-left-color",key:"borderLeftColor"},{id:"lex-block-border-left-color-transparent",key:"borderLeftColorTransparent"},{id:"border-left-style-value",key:"borderLeftStyle"},{id:"lex-block-border-left-width",key:"borderLeftWidth"},{id:"lex-block-border-left-radius",key:"borderLeftRadius"},{id:"lex-block-box-shadow-color",key:"boxShadowColor"},{id:"lex-block-box-shadow-color-transparent",key:"boxShadowColorTransparent"},{id:"lex-block-box-shadow-inset",key:"boxShadowInset"},{id:"lex-block-box-shadow-offset-x",key:"boxShadowOffsetX"},{id:"lex-block-box-shadow-offset-y",key:"boxShadowOffsetY"},{id:"lex-block-box-shadow-blur-radius",key:"boxShadowBlurRadius"},{id:"lex-block-box-shadow-spread-radius",key:"boxShadowSpreadRadius"}],ks=(e,t)=>"number"==typeof e?e.toString().concat("px"):t,Cs=new Set(["dotted","dashed","solid","double","groove","ridge","inset","outset","none","hidden"]),Ss=e=>Cs.has(e)?e:"none";function As(){const e=(t=ke(),{backgroundColor:Ee(),backgroundColorTransparent:!0,textColor:t,textColorInherit:!0,margin:0,padding:0,marginTop:0,paddingTop:0,marginRight:0,paddingRight:0,marginBottom:6,paddingBottom:0,marginLeft:0,paddingLeft:0,borderColor:t,borderColorTransparent:!0,borderStyle:"none",borderWidth:0,borderRadius:0,borderTopColor:t,borderTopColorTransparent:!0,borderTopStyle:"none",borderTopWidth:0,borderTopRadius:0,borderRightColor:t,borderRightColorTransparent:!0,borderRightStyle:"none",borderRightWidth:0,borderRightRadius:0,borderBottomColor:t,borderBottomColorTransparent:!0,borderBottomStyle:"none",borderBottomWidth:0,borderBottomRadius:0,borderLeftColor:t,borderLeftColorTransparent:!0,borderLeftStyle:"none",borderLeftWidth:0,borderLeftRadius:0,boxShadowColor:t,boxShadowColorTransparent:!0,boxShadowInset:!1,boxShadowOffsetX:0,boxShadowOffsetY:0,boxShadowBlurRadius:0,boxShadowSpreadRadius:0});var t;Es.forEach((t=>{const n=document.getElementById(t.id);if(n)switch(n.getAttribute("type")){case"number":return void(void 0!==e[t.key]&&(e[t.key]=Number(parseInt(n.value))));case"checkbox":return void(void 0!==e[t.key]&&(e[t.key]=Boolean(n.checked)));default:return void(void 0!==e[t.key]&&(e[t.key]=n.value))}}));var n="";const o=e.backgroundColorTransparent?"transparent":i.zG.test(e.backgroundColor)?e.backgroundColor:"transparent";n+="background-color:".concat(o).concat(";");const a=e.textColorInherit?"inherit":i.zG.test(e.textColor)?e.textColor:"inherit";n+="color:".concat(a).concat(";");const r=[ks(e.marginTop,"0px"),ks(e.marginRight,"0px"),ks(e.marginBottom,"6px"),ks(e.marginLeft,"0px")];n+="margin:".concat(r.join(" ")).concat(";");const l=[ks(e.paddingTop,"0px"),ks(e.paddingRight,"0px"),ks(e.paddingBottom,"0px"),ks(e.paddingLeft,"0px")];n+="padding:".concat(l.join(" ")).concat(";");const s=[ks(e.borderTopRadius,"0px"),ks(e.borderRightRadius,"0px"),ks(e.borderBottomRadius,"0px"),ks(e.borderLeftRadius,"0px")];n+="border-radius:".concat(s.join(" ")).concat(";");const c=[e.borderTopColorTransparent?"transparent":i.zG.test(e.borderTopColor)?e.borderTopColor:"transparent",e.borderRightColorTransparent?"transparent":i.zG.test(e.borderRightColor)?e.borderRightColor:"transparent",e.borderBottomColorTransparent?"transparent":i.zG.test(e.borderBottomColor)?e.borderBottomColor:"transparent",e.borderLeftColorTransparent?"transparent":i.zG.test(e.borderLeftColor)?e.borderLeftColor:"transparent"];n+="border-color:".concat(c.join(" ")).concat(";");const d=[ks(e.borderTopWidth,"0px"),ks(e.borderRightWidth,"0px"),ks(e.borderBottomWidth,"0px"),ks(e.borderLeftWidth,"0px")];n+="border-width: ".concat(d.join(" ")).concat(";");const u=[Ss(e.borderTopStyle),Ss(e.borderRightStyle),Ss(e.borderBottomStyle),Ss(e.borderLeftStyle)];n+="border-style:".concat(u.join(" ")).concat(";");const p=ks(e.boxShadowOffsetX,"0px"),g=ks(e.boxShadowOffsetY,"0px"),m=ks(e.boxShadowBlurRadius,"0px"),h=ks(e.boxShadowSpreadRadius,"0px"),f=e.boxShadowInset,b=e.boxShadowColorTransparent?"transparent":i.zG.test(e.boxShadowColor)?e.boxShadowColor:"transparent";return{cssStr:n+="box-shadow:".concat(f?"inset ":"").concat(p).concat(" ").concat(g).concat(" ").concat(m).concat(" ").concat(h).concat(" ").concat(b).concat(";"),obj:{backgroundColor:o,textColor:a,margin:r,padding:l,borderRadius:s,borderColor:c,borderWidth:d,borderType:u,boxShadowOffsetX:p,boxShadowOffsetY:g,boxShadowBlurRadius:m,boxShadowSpreadRadius:h,boxShadowInset:f,boxShadowColor:b}}}function Ts(e){const t=As(),n=document.getElementById(ys);n&&(n.style.cssText=t.cssStr)}function Ns(e){if(e.target){const a=["top","right","bottom","left"],i=e.target.id;if("lex-block-border-color"===i){var t;const e=null===(t=document.getElementById(i))||void 0===t?void 0:t.value;a.forEach((t=>{const n=document.getElementById("lex-block-border-".concat(t).concat("-color"));n&&Ne(n,e)}))}else if("lex-block-border-color-transparent"===i){var n;const e=null===(n=document.getElementById(i))||void 0===n?void 0:n.checked;a.forEach((t=>{const n=document.getElementById("lex-block-border-".concat(t).concat("-color-transparent"));n&&(n.checked=e)}))}else if("border-style-value"===i){var o;const e=document.getElementById(i),t=null==e?void 0:e.value,n=Array.from(null==e||null===(o=e.parentElement)||void 0===o?void 0:o.querySelectorAll('button[role="option"]')).filter((e=>e.getAttribute("data-val")===t)).map((e=>e.innerText));a.forEach((e=>{const o=document.getElementById("border-".concat(e).concat("-style-value"));o&&Le(o,t,n.length?n[0]:t)}))}else if("lex-block-border-width"===i){const e=document.getElementById(i).value;a.forEach((t=>{const n=document.getElementById("lex-block-border-".concat(t).concat("-width"));n&&(n.value=e)}))}else if("lex-block-border-radius"===i){const e=document.getElementById(i).value;a.forEach((t=>{const n=document.getElementById("lex-block-border-".concat(t).concat("-radius"));n&&(n.value=e)}))}else if("lex-block-margin"===i){const e=document.getElementById(i).value;a.forEach((t=>{const n=document.getElementById("lex-block-margin-".concat(t));n&&(n.value=e)}))}else if("lex-block-padding"===i){const e=document.getElementById(i).value;a.forEach((t=>{const n=document.getElementById("lex-block-padding-".concat(t));n&&(n.value=e)}))}}}function Ls(e){e.preventDefault();const t=this.closest("div.dialog-wrapper"),n=As();if(t){me(t);const e=de();e&&e.update((()=>{var t;if(t=(0,i.vJ)()||(0,i.S1)()||xs[e._config.namespace],(0,i.I2)(t)){const e=t.getNodes(),o=[];for(let t of e){const e=Ko(t,(e=>Boolean((0,i.bS)(e)||_s(e)||ws(e))));e&&o.push(e)}o.forEach((e=>{if((0,i.bS)(e)||_s(e)||ws(e))if((0,i.bS)(e)||ws(e))e.setBlockStyle(n.obj);else if(_s(e)){for(var t=e,o=!0;o;){const e=t.getParent();if(!e){o=!1;continue}const n=Ko(e,(e=>_s(e)));n?t=n:o=!1}t.setBlockStyle(n.obj)}}))}}))}}function Is(e,t,n){const o=e.querySelector("span");o&&(o.innerText=t);const a=e.nextElementSibling;if(a&&a.classList.contains("select-menu")){const e=a.querySelector('input[type="text"]');e&&(e.value=n,e.dispatchEvent(new Event("change"))),Array.from(a.querySelectorAll("button.select-option")).forEach((e=>{e.getAttribute("data-val")===n?e.setAttribute("aria-selected","true"):e.setAttribute("aria-selected","false")}))}}function Ms(e){["border-style-select-button"].concat(["top","right","bottom","left"].map((e=>"border-".concat(e,"-style-select-button")))).map((e=>document.getElementById(e))).filter((e=>null!==e)).forEach((e=>Is(e,"None","none")))}const Os=e=>Boolean("BUTTON"===e.nodeName),Bs=e=>Boolean("INPUT"===e.nodeName);function Ds(){Array.from(Es).forEach((e=>{const t=document.getElementById(e.id);if(t&&Bs(t)){const e=t.getAttribute("type");if("checkbox"===e)t.checked=!1,t.dispatchEvent(new Event("change"));else if("number"===e){const e=t.getAttribute("min"),n=t.getAttribute("max");if(e&&n){const o=parseInt(e),a=parseInt(n),i=Math.floor(o+Math.random()*(a-o));t.value=String(i),t.dispatchEvent(new Event("change"))}}else if("text"===e){if(t.hasAttribute("hidden")){const e=t.closest("div.select-menu");if(e){const n=e.previousElementSibling;if(n&&Os(n)){const e=function(){const e=["dotted","dashed","solid","double","groove","ridge","inset","outset","none","hidden"],t=e[Math.floor(Math.random()*e.length)];return{val:t,str:t[0].toUpperCase().concat(t.slice(1))}}();Is(n,e.str,e.val),t.dispatchEvent(new Event("change"))}}}}else if("color"===e){const e="#".concat(Math.floor(16777215*Math.random()).toString(16));t.value=e,t.dispatchEvent(new Event("change"))}}}))}function Rs(e){return Boolean("paragraph"===(null==e?void 0:e.__type)||"list"===(null==e?void 0:e.__type)||"heading"===(null==e?void 0:e.__type))}const zs={textAlign:"left",backgroundColor:"transparent",textColor:"inherit",margin:["6px","0px","6px","0px"],padding:"0px",borderRadius:"0px",borderColor:"transparent",borderWidth:"0px",borderType:"none",boxShadowOffsetX:"0px",boxShadowOffsetY:"0px",boxShadowBlurRadius:"0px",boxShadowSpreadRadius:"0px",boxShadowInset:!1,boxShadowColor:"transparent"};function Ps(e,t,n,o){var a=["","","",""],i=["","","",""],r=["","","",""];const l=["","","",""];if("string"==typeof e?a=[e,e,e,e]:2===e.length?a=[e[0],e[1],e[0],e[1]]:4===e.length&&(a=e),"string"==typeof t?i=[t,t,t,t]:2===t.length?i=[t[0],t[1],t[0],t[1]]:4===t.length&&(i=t),"string"==typeof n?r=[n,n,n,n]:2===n.length?r=[n[0],n[1],n[0],n[1]]:4===n.length&&(r=n),a[0]!==i[0]){if(o)return n;l[0]=r[0]}else l[0]=a[0];if(a[1]!==i[1]){if(o)return n;l[1]=r[1]}else l[1]=a[1];if(a[2]!==i[2]){if(o)return n;l[2]=r[2]}else l[2]=a[2];if(a[3]!==i[3]){if(o)return n;l[3]=r[3]}else l[3]=a[3];return l}function Fs(e,t,n){return e!==t?n:e}function Hs(e,t,n){return e!==t?n:e}function qs(e){var t=e[0];for(let n of e)if(n!==t)return!1;return!0}function js(e){if("lexical-block-edit-dialog"===e.detail.el.id){const e=de(),t=document.getElementById("lexical-block-edit-dialog");if(t&&e){["lex-block-border-color","lex-block-border-color-transparent","border-style-value","lex-block-border-width","lex-block-border-radius","lex-block-margin","lex-block-padding"].forEach((e=>{const t=document.getElementById(e);t&&(t.addEventListener("input",Ns),t.addEventListener("change",Ns))}));const t=document.querySelector('form[id="lexical-block-style-form"]');t&&(t.addEventListener("submit",Ls),t.addEventListener("change",Ts),t.addEventListener("input",Ts),t.addEventListener("reset",Ms));const n=document.getElementById("randomize-block-style-btn");n&&n.addEventListener("click",Ds),function(e){e.update((()=>{const e=(0,i.vJ)();if(e&&(0,i.I2)(e)){const t=e.getNodes(),n=new Set,o=[];for(let e of t)if(!n.has(e.__key))if(n.add(e.__key),(0,i.y6)(e)){if(Rs(e)){const t=e.getBlockStyle();o.push(structuredClone(t))}}else{const t=Ko(e,(e=>(0,i.y6)(e)));if(t&&(n.add(t.__key),Rs(t))){const e=t.getBlockStyle();o.push(structuredClone(e))}}const a=zs,r=Object.keys(zs);for(let e=0;e<o.length;e++)for(let t=0;t<r.length;t++)switch(r[t]){case"backgroundColor":a.backgroundColor=Fs(o[e].backgroundColor,0===e?o[e].backgroundColor:a.backgroundColor,zs.backgroundColor);break;case"borderColor":a.borderColor=Ps(o[e].borderColor,0===e?o[e].borderColor:a.borderColor,zs.borderColor,!0);break;case"borderRadius":a.borderRadius=Ps(o[e].borderRadius,0===e?o[e].borderRadius:a.borderRadius,zs.borderRadius,!1);break;case"borderType":a.borderType=Ps(o[e].borderType,0===e?o[e].borderType:a.borderType,zs.borderType,!1);break;case"borderWidth":a.borderWidth=Ps(o[e].borderWidth,0===e?o[e].borderWidth:a.borderWidth,zs.borderWidth,!1);break;case"boxShadowBlurRadius":a.boxShadowBlurRadius=Hs(o[e].boxShadowBlurRadius,0===e?o[e].boxShadowBlurRadius:a.boxShadowBlurRadius,zs.boxShadowBlurRadius);break;case"boxShadowColor":a.boxShadowColor=Fs(o[e].boxShadowColor,0===e?o[e].boxShadowColor:a.boxShadowColor,zs.boxShadowColor);break;case"boxShadowInset":a.boxShadowInset=Hs(o[e].boxShadowInset,0===e?o[e].boxShadowInset:a.boxShadowInset,zs.boxShadowInset);break;case"boxShadowOffsetX":a.boxShadowOffsetX=Hs(o[e].boxShadowOffsetX,0===e?o[e].boxShadowOffsetX:a.boxShadowOffsetX,zs.boxShadowOffsetX);break;case"boxShadowOffsetY":a.boxShadowOffsetY=Hs(o[e].boxShadowOffsetY,0===e?o[e].boxShadowOffsetY:a.boxShadowOffsetY,zs.boxShadowOffsetY);break;case"boxShadowSpreadRadius":a.boxShadowSpreadRadius=Hs(o[e].boxShadowSpreadRadius,0===e?o[e].boxShadowSpreadRadius:a.boxShadowSpreadRadius,zs.boxShadowSpreadRadius);break;case"margin":a.margin=Ps(o[e].margin,0===e?o[e].margin:a.margin,zs.margin,!1);break;case"padding":a.padding=Ps(o[e].padding,0===e?o[e].padding:a.padding,zs.padding,!1);break;case"textAlign":a.textAlign=Hs(0===e?o[e].textAlign:a.textAlign,o[e].textAlign,zs.textAlign);break;case"textColor":a.textColor=Fs(o[e].textColor,0===e?o[e].textColor:a.textColor,zs.textColor)}Es.forEach((e=>{if("lex-block-background-color"===e.id){const e=document.getElementById("lex-block-background-color");e&&(e.value="transparent"===a.backgroundColor?Ee():a.backgroundColor,e.dispatchEvent(new Event("change")))}else if("lex-block-background-color-transparent"===e.id){const e=document.getElementById("lex-block-background-color-transparent");e&&(e.checked="transparent"===a.backgroundColor,e.dispatchEvent(new Event("change")))}else if("lex-block-text-color"===e.id){const e=document.getElementById("lex-block-text-color");e&&(e.value="inherit"===a.textColor?ke():a.textColor,e.dispatchEvent(new Event("change")))}else if("lex-block-text-color-inherit"===e.id){const e=document.getElementById("lex-block-text-color-inherit");e&&(e.checked="inherit"===a.textColor,e.dispatchEvent(new Event("change")))}else if("lex-block-margin"===e.id){const e=document.getElementById("lex-block-margin");e&&("string"==typeof a.margin?e.value=parseInt(a.margin).toString():qs(a.margin)?e.value=parseInt(a.margin[0]).toString():e.value=parseInt("0").toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-padding"===e.id){const e=document.getElementById("lex-block-padding");e&&("string"==typeof a.padding?e.value=parseInt(a.padding).toString():qs(a.padding)?e.value=parseInt(a.padding[0]).toString():e.value=parseInt("0").toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-margin-top"===e.id){const e=document.getElementById("lex-block-margin-top");e&&(e.value=parseInt(a.margin[0]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-padding-top"===e.id){const e=document.getElementById("lex-block-padding-top");e&&(e.value=parseInt(a.padding[0]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-margin-right"===e.id){const e=document.getElementById("lex-block-margin-right");e&&(e.value=parseInt(a.margin[1]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-padding-right"===e.id){const e=document.getElementById("lex-block-padding-right");e&&(e.value=parseInt(a.padding[1]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-margin-bottom"===e.id){const e=document.getElementById("lex-block-margin-bottom");e&&(e.value=parseInt(a.margin[2]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-padding-bottom"===e.id){const e=document.getElementById("lex-block-padding-bottom");e&&(e.value=parseInt(a.padding[2]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-margin-left"===e.id){const e=document.getElementById("lex-block-margin-left");e&&(e.value=parseInt(a.margin[3]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-padding-left"===e.id){const e=document.getElementById("lex-block-padding-left");e&&(e.value=parseInt(a.padding[3]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-border-color"===e.id){const e=document.getElementById("lex-block-border-color");e&&("string"==typeof a.borderColor?e.value=a.borderColor:qs(a.borderColor)?e.value=a.borderColor[0]:e.value=ke(),e.dispatchEvent(new Event("change")))}else if("lex-block-border-color-transparent"===e.id){const e=document.getElementById("lex-block-border-color-transparent");e&&("string"==typeof a.borderColor?e.checked=Boolean("transparent"===a.borderColor):"transparent"===a.borderColor[0]&&qs(a.borderColor)?e.checked=!0:e.checked=!1,e.dispatchEvent(new Event("change")))}else if("border-style-value"===e.id){const e=document.getElementById("border-style-value");e&&("string"==typeof a.borderType?Le(e,a.borderType,a.borderType):qs(a.borderType)?Le(e,a.borderType[0],a.borderType[0]):Le(e,"none","None"),e.dispatchEvent(new Event("change")))}else if("lex-block-border-width"===e.id){const e=document.getElementById("lex-block-border-width");e&&("string"==typeof a.borderWidth?e.value=parseInt(a.borderWidth).toString():qs(a.borderWidth)?e.value=parseInt(a.borderWidth[0]).toString():e.value=parseInt("0").toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-border-radius"===e.id){const e=document.getElementById("lex-block-border-radius");e&&("string"==typeof a.borderRadius?e.value=parseInt(a.borderRadius).toString():qs(a.borderRadius)?e.value=parseInt(a.borderRadius[0]).toString():e.value=parseInt("0").toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-border-top-color"===e.id){const e=document.getElementById("lex-block-border-top-color");e&&(e.value=Boolean("transparent"===a.borderColor[0])?ke():a.borderColor[0],e.dispatchEvent(new Event("change")))}else if("lex-block-border-top-color-transparent"===e.id){const e=document.getElementById("lex-block-border-top-color-transparent");e&&(e.checked=Boolean("transparent"===a.borderColor[0]),e.dispatchEvent(new Event("change")))}else if("border-top-style-value"===e.id){const e=document.getElementById("border-top-style-value");e&&(Array.isArray(a.borderType)&&4===a.borderType.length?Le(e,a.borderType[0],a.borderType[0]):"string"==typeof a.borderType?Le(e,a.borderType,a.borderType):Le(e,"none","None"),e.dispatchEvent(new Event("change")))}else if("lex-block-border-top-width"===e.id){const e=document.getElementById("lex-block-border-top-width");e&&(e.value=parseInt(a.borderWidth[0]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-border-top-radius"===e.id){const e=document.getElementById("lex-block-border-top-radius");e&&(e.value=parseInt(a.borderRadius[0]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-border-right-color"===e.id){const e=document.getElementById("lex-block-border-right-color");e&&(e.value=Boolean("transparent"===a.borderColor[1])?ke():a.borderColor[1],e.dispatchEvent(new Event("change")))}else if("lex-block-border-right-color-transparent"===e.id){const e=document.getElementById("lex-block-border-right-color-transparent");e&&(e.checked=Boolean("transparent"===a.borderColor[1]),e.dispatchEvent(new Event("change")))}else if("border-right-style-value"===e.id){const e=document.getElementById("border-right-style-value");e&&(Array.isArray(a.borderType)&&4===a.borderType.length?Le(e,a.borderType[1],a.borderType[1]):"string"==typeof a.borderType?Le(e,a.borderType,a.borderType):Le(e,"none","None"),e.dispatchEvent(new Event("change")))}else if("lex-block-border-right-width"===e.id){const e=document.getElementById("lex-block-border-right-width");e&&(e.value=parseInt(a.borderWidth[1]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-border-right-radius"===e.id){const e=document.getElementById("lex-block-border-right-radius");e&&(e.value=parseInt(a.borderRadius[1]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-border-bottom-color"===e.id){const e=document.getElementById("lex-block-border-bottom-color");e&&(e.value=Boolean("transparent"===a.borderColor[2])?ke():a.borderColor[2],e.dispatchEvent(new Event("change")))}else if("lex-block-border-bottom-color-transparent"===e.id){const e=document.getElementById("lex-block-border-bottom-color-transparent");e&&(e.checked=Boolean("transparent"===a.borderColor[2]),e.dispatchEvent(new Event("change")))}else if("border-bottom-style-value"===e.id){const e=document.getElementById("border-bottom-style-value");e&&(Array.isArray(a.borderType)&&4===a.borderType.length?Le(e,a.borderType[2],a.borderType[2]):Array.isArray(a.borderType)&&2===a.borderType.length?Le(e,a.borderType[0],a.borderType[0]):"string"==typeof a.borderType?Le(e,a.borderType,a.borderType):Le(e,"none","None"),e.dispatchEvent(new Event("change")))}else if("lex-block-border-bottom-width"===e.id){const e=document.getElementById("lex-block-border-bottom-width");e&&(e.value=parseInt(a.borderWidth[2]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-border-bottom-radius"===e.id){const e=document.getElementById("lex-block-border-bottom-radius");e&&(e.value=parseInt(a.borderRadius[2]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-border-left-color"===e.id){const e=document.getElementById("lex-block-border-left-color");e&&(e.value=Boolean("transparent"===a.borderColor[3])?ke():a.borderColor[3],e.dispatchEvent(new Event("change")))}else if("lex-block-border-left-color-transparent"===e.id){const e=document.getElementById("lex-block-border-left-color-transparent");e&&(e.checked=Boolean("transparent"===a.borderColor[3]),e.dispatchEvent(new Event("change")))}else if("border-left-style-value"===e.id){const e=document.getElementById("border-left-style-value");e&&(Array.isArray(a.borderType)&&4===a.borderType.length?Le(e,a.borderType[3],a.borderType[3]):Array.isArray(a.borderType)&&2===a.borderType.length?Le(e,a.borderType[1],a.borderType[1]):"string"==typeof a.borderType?Le(e,a.borderType,a.borderType):Le(e,"none","None"),e.dispatchEvent(new Event("change")))}else if("lex-block-border-left-width"===e.id){const e=document.getElementById("lex-block-border-left-width");e&&(e.value=parseInt(a.borderWidth[3]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-border-left-radius"===e.id){const e=document.getElementById("lex-block-border-left-radius");e&&(e.value=parseInt(a.borderRadius[3]).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-box-shadow-color"===e.id){const e=document.getElementById("lex-block-box-shadow-color");e&&(e.value="transparent"===a.boxShadowColor?Ee():a.boxShadowColor,e.dispatchEvent(new Event("change")))}else if("lex-block-box-shadow-color-transparent"===e.id){const e=document.getElementById("lex-block-box-shadow-color-transparent");e&&(e.checked=Boolean("transparent"===a.boxShadowColor),e.dispatchEvent(new Event("change")))}else if("lex-block-box-shadow-inset"===e.id){const e=document.getElementById("lex-block-box-shadow-inset");e&&(e.checked=a.boxShadowInset,e.dispatchEvent(new Event("change")))}else if("lex-block-box-shadow-offset-x"===e.id){const e=document.getElementById("lex-block-box-shadow-offset-x");e&&(e.value=parseInt(a.boxShadowOffsetX).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-box-shadow-offset-y"===e.id){const e=document.getElementById("lex-block-box-shadow-offset-y");e&&(e.value=parseInt(a.boxShadowOffsetY).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-box-shadow-blur-radius"===e.id){const e=document.getElementById("lex-block-box-shadow-blur-radius");e&&(e.value=parseInt(a.boxShadowBlurRadius).toString(),e.dispatchEvent(new Event("change")))}else if("lex-block-box-shadow-spread-radius"===e.id){const e=document.getElementById("lex-block-box-shadow-spread-radius");e&&(e.value=parseInt(a.boxShadowSpreadRadius).toString(),e.dispatchEvent(new Event("change")))}}))}}))}(e)}document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:t}}))}}const Ks=/^#[0-9a-fA-F]{6}$/i,Ws=(e,t)=>{try{const n=Object.keys(e);for(let o of n){if("object"==typeof e[o]||"object"==typeof t[o])throw new Error("Object values should not be objects.");if(e[o]!==t[o])return!1}return Boolean(n.length===Object.keys(t).length)}catch(e){return console.error(e),!1}},Js=e=>Boolean("listitem"===e.getType()),Us=e=>Boolean("heading"===e.getType()),Vs=e=>Boolean("code"===e.getType()),Gs=e=>Boolean("mark"===e.getType());function Xs(e,t,n){t?e.setAttribute("disabled",""):e.removeAttribute("disabled"),n?e.setAttribute("aria-selected","true"):e.setAttribute("aria-selected","false")}function Ys(e){const t=(0,i.vJ)();if((0,i.I2)(t)){const f=t.isCollapsed(),b=function(e){const t=e.getNodes(),n=Ko(t[0],(e=>Boolean(e instanceof i.h||e.isShadowRoot&&e.isShadowRoot()))),o={blockNodes:new Set,elementNodes:new Set,textNodes:new Set,types:new Set,decoratorNodes:new Set,activeCell:void 0,root:n},a=new Set,r=e=>{if(o.types.add(e.getType()),a.add(e.getKey()),o.elementNodes.add(e),e.isInline()){const t=Ko(e,(e=>(0,i.ff)(e)&&!e.isInline()));t&&!a.has(t.getKey())&&r(t)}else o.blockNodes.add(e);if(Go(e)){const t=e.getParent();t&&Xo(t)&&!a.has(t.getKey())&&(a.add(t.getKey()),o.types.add(t.getType()),o.elementNodes.add(t),o.blockNodes.add(t))}o.activeCell||(e=>{const t=Ko(e,(e=>Vo(e)));t&&Vo(t)&&(o.activeCell=t)})(e)};for(let e=0;e<t.length;e++){const n=t[e].getKey();if(!a.has(n))if(o.types.add(t[e].getType()),a.add(n),t[e]instanceof i.Ey){(0,i.kF)(t[e])&&o.textNodes.add(t[e]),t[e].getParentOrThrow();const n=Ko(t[e],(e=>e instanceof i.fG));n&&r(n)}else if(t[e]instanceof i.fG)r(t[e]);else if(t[e]instanceof it)l=t[e],o.decoratorNodes.add(l);else if((0,i.wH)(t[e])){const n=t[e].getParentOrThrow();n instanceof i.fG&&r(n)}}var l;return o}(t);var n=void 0,o=void 0;const v={bold:void 0,italic:void 0,strikethrough:void 0,underline:void 0,superscript:void 0,subscript:void 0,code:void 0,kbd:void 0,quote:void 0},y=b.types.has("paragraph"),_=b.types.has("mark"),w=b.types.has("heading"),E=b.types.has("listitem"),k=b.types.has("list"),C=b.types.has("text"),S=b.types.has("link"),A=b.types.has("math"),T=b.types.has("youtube"),N=b.types.has("news"),L=b.types.has("quote");b.types.has("cell-paragraph"),b.types.has("tablecell"),b.types.has("tablerow");const I=b.types.has("table"),M=b.types.has("tab"),O=b.types.has("code"),B=b.types.has("code-highlight"),D=b.types.has("linebreak"),R=b.types.has("image"),z=b.types.has("audio-node"),P=b.types.has("video-node"),F=b.types.has("horizontal-rule"),H=Boolean(b.root&&"accordion-content"===b.root.getType()),q=Boolean(b.root&&"aside"===b.root.getType()),j=Boolean(b.types.has("section-heading")),K=Boolean(b.types.has("abbreviation")),W=Boolean(b.root&&("layout-container"===b.root.getType()||"layout-item"===b.root.getType())),J=Boolean(1===b.types.size&&b.types.has("linebreak")&&1===b.blockNodes.size&&"code"===Array.from(b.blockNodes)[0].getType()),U=Boolean(J||O||B),V=Boolean(2===b.types.size&&U&&1===b.blockNodes.size||J||1===b.types.size&&f&&U&&1===b.blockNodes.size||3===b.types.size&&U&&B&&D&&1===b.blockNodes.size||4===b.types.size&&U&&B&&D&&M&&1===b.blockNodes.size);!function(){const e=document.getElementById("font-family-settings");e&&e.value&&e.value}();const G=Ee(),X=ke(),Y=x(t,"font-family","undefined");var a=x(t,"font-weight","undefined"),r=x(t,"font-size","undefined");const Z=x(t,"line-height","undefined"),$=x(t,"letter-spacing","undefined"),Q=x(t,"background-color","undefined"),ee=x(t,"color","undefined"),te=Boolean(void 0===r);var l,s;void 0===r&&(r="1rem"),l=Ks.test(Q)?Q:G,s=Ks.test(ee)?ee:X;var c=void 0,d=void 0;for(let e of b.elementNodes)if(Js(e)&&(0===e.getIndent()?(d=!0,c=!1):4===e.getIndent()&&(d=!1,c=!0)),!1===d&&!1===c)break;for(let e of b.blockNodes){if(null!==n){const t=e.getFormatType();void 0===n&&t&&"start"!==t&&"end"!==t?n=t:(void 0===n||void 0!==n&&t!==n)&&(n=null)}if(!(0,i.bS)(e)&&!Us(e)||!1===d&&!1===c||(e.getIndent()===i.uA&&!1!==c?(c=!0,d=!1):0===e.getIndent()&&!1!==d?(d=!0,c=!1):0!==e.getIndent()&&e.getIndent()!==i.uA&&(d=!1,c=!1)),!1===d&&!1===c)break}for(let e of b.textNodes)if(Object.keys(v).forEach((t=>{const n=e.hasFormat(t);v[t]=Boolean((!0===v[t]||void 0===v[t])&&n)})),e.hasFormat("superscript")&&e.hasFormat("subscript")){const t=(0,i.M3)(e,e.getFormat());"sup"===t?(e.toggleFormat("subscript"),v.subscript=!1):"sub"===t&&(e.toggleFormat("superscript"),v.superscript=!1)}const ne=e.getRootElement();if(!ne)return;const oe=ne.closest("div.lexical-wrapper");if(oe){const{fontButton:e,headingButton:t,backgroundColorButton:x,backgroundColorInput:M,backgroundColorTransparent:O,textColorButton:B,textColorInput:D,textColorTransparent:J,markButton:G,fontWeightButton:X,blockStyleButton:ne,fontSizeButton:ae,clearContentButton:ie,indentContentButton:re,outdentContentButton:le,leftAlignButton:se,centerAlignButton:ce,rightAlignButton:de,justifyAlignButton:ue,boldButton:pe,italicButton:ge,strikethroughButton:me,underlineButton:he,kbdButton:fe,inlineQuoteButtonToolbar:be,clearFormattingButton:ve,subscriptButton:ye,superscriptButton:_e,imageButton:we,audioButton:Ee,videoButton:ke,linkButton:Ie,removeLinkButton:Oe,embedMediaButton:Be,quoteButton:De,listButton:Re,orderedListButton:ze,unorderedListButton:Pe,checkListButton:Fe,asideButton:He,leftAside:qe,rightAside:je,detailsButton:Ke,codeButton:We,codeBlockButton:Je,inlineCodeButton:Ue,mathButton:Ve,tableButton:Ge,chartButton:Xe,horizontalRuleButton:Ye,downloadLexicalStateButton:Ze,uploadLexicalStateButton:$e,sectionHeadingButton:Qe,paragraphButton:et,htmlButton:tt,gifButton:nt,speechToTextButton:ot,undoButton:at,redoButton:it,embedNews:rt,embedYoutube:lt,embedX:st,embedTikTok:ct,embedInstagram:dt,embedReddit:ut,blockQuoteButton:pt,inlineQuoteButton:gt,viewButton:mt,copyContentButton:ht,abbreviationButton:ft,removeAbbreviationButton:bt,columnLayoutButton:vt}=Me(oe),yt=oe.querySelector("div[data-lex-code-language-wrapper]");if(V&&yt){yt.removeAttribute("hidden");const e=yt.querySelector('input[type="text"]'),t=Array.from(b.blockNodes).filter((e=>Vs(e)))[0];t&&e&&Le(e,o=t.getLanguage()||"Auto",o)}else yt&&yt.setAttribute("hidden","");const xt=!Boolean(1===b.blockNodes.size&&b.types.has("heading")),_t=V,wt=(0,i.Ni)().isEmpty();if(ie&&xe(ie,Boolean(wt),!1),re&&xe(re,Boolean(!0===c||V),!1),le&&xe(le,Boolean(!0===d||V),!1),se&&xe(se,!1,Boolean("left"===n)),ce&&xe(ce,!1,Boolean("center"===n)),de&&xe(de,!1,Boolean("right"===n)),ue&&xe(ue,!1,Boolean("justify"===n)),pe&&xe(pe,_t,Boolean(!0===v.bold)),ge&&xe(ge,_t,Boolean(!0===v.italic)),me&&xe(me,_t,Boolean(!0===v.strikethrough)),he&&xe(he,_t,Boolean(!0===v.underline)),fe&&xe(fe,_t,!0===Boolean(v.kbd)),be&&xe(be,_t,!0===Boolean(v.quote)),ve&&xe(ve,_t,!1),ye&&xe(ye,_t,Boolean(!0===v.subscript)),_e&&xe(_e,_t,Boolean(!0===v.superscript)),Qe&&xe(Qe,xt,j),we&&xe(we,V,R),Ee&&xe(Ee,V||W,z),ke&&xe(ke,V||W,P),Ie&&xe(Ie,Boolean(f||_||V),Boolean(S)),S&&Oe?Oe.removeAttribute("hidden"):Oe&&Oe.setAttribute("hidden",""),Be&&xe(Be,V||W,Boolean(T||N)),K&&bt?bt.removeAttribute("hidden"):bt&&bt.setAttribute("hidden",""),ft&&xe(ft,Boolean(f||_||V),Boolean(K)),De&&xe(De,V,L),Re&&xe(Re,V,k||E),k){const e=new Set(Array.from(b.blockNodes).filter((e=>"list"===e.getType())).map((e=>e.__listType)));ze&&xe(ze,!1,e.has("number")),Pe&&xe(Pe,!1,e.has("bullet")),Fe&&xe(Fe,!1,e.has("check"))}else ze&&xe(ze,!1,!1),Pe&&xe(Pe,!1,!1),Fe&&xe(Fe,!1,!1);if(He&&xe(He,V||W,q),q){const e=new Set(Array.from(b.blockNodes).filter((e=>"aside"===e.getType())).map((e=>e.__side)));qe&&xe(qe,e.has("left"),!1),je&&xe(je,e.has("right"),!1)}else qe&&xe(qe,!1,!1),je&&xe(je,!1,!1);if(Ke&&xe(Ke,V||W,H),We&&xe(We,!1,U),Ue&&Xs(Ue,U,Boolean(v.code)),Je&&Xs(Je,!1,!1),Ve&&xe(Ve,V,A),Ge&&xe(Ge,V||W,Boolean(b.activeCell)),Xe&&xe(Xe,!0,!1),Ye&&xe(Ye,V,Boolean(F)),$e&&xe($e,!1,!1),Ze&&xe(Ze,!1,!1),e){xe(e,V,!1);const t=Boolean(""!==Y&&"undefined"!==Y);Se(e,t?Y:"Font"),Ce(e,t?Y.concat(";"):"Inherit")}if(ae){xe(ae,Boolean(V||_),!1);var u=void 0;for(let e of Array.from($c))if(Ws(Qc[e],{"font-size":r,"letter-spacing":$,"line-height":Z})){u=e;break}const e=void 0!==u?u:"Size";Se(ae,e),Ce(ae,"Size"!==e?e:"Inherit")}if(X){const e=Zc.has(a);xe(X,Boolean(!0===v.bold||V),!1),Se(X,e?a:"Weight"),Ce(X,e?a:"Inherit")}D&&Ne(D,s),J&&(J.checked="undefined"===ee),M&&Ne(M,l),O&&(O.checked="undefined"===Q);var p=!0,g=void 0,m=!0,h=void 0;const Et=oe.querySelector("fieldset[data-lexical-highlight]"),kt=Array.from(oe.querySelectorAll('button[data-dispatch="CREATE_HEADING_COMMAND"]'));if(_||w||y){for(let e of b.elementNodes){if(p)if(Gs(e)){const t=e.getMarkClass();void 0!==g&&t!==g?(g="none",p=!1):void 0===g&&(g=t)}else g="none",p=!1;if(m)if(Us(e)||(0,i.bS)(e)){const t=Us(e)?e.getTag():"p";void 0!==h&&t!==h?(h=void 0,m=!1):void 0===h&&(h=t)}else h=void 0,m=!1;if(!p&&!m)break}Et&&Ae(Et,g),Te(kt,h)}else Et&&Ae(Et,"none"),Te(kt,void 0);const Ct=Boolean(!f&&!V&&!te||f&&_&&C&&2===b.types.size);t&&xe(t,Boolean(E||V),!1),G&&xe(G,Boolean(!Ct),!1),B&&xe(B,Boolean(V),!1),x&&xe(x,Boolean(V),!1),ne&&xe(ne,!Boolean(y||k||E||w),!1),et&&xe(et,!1,!1),tt&&xe(tt,Boolean(V),!1),nt&&xe(nt,Boolean(V),!1),ot&&xe(ot,Boolean(V),!1),at&&xe(at,!1,!1),it&&xe(it,!1,!1),rt&&xe(rt,Boolean(V),!1),lt&&xe(lt,Boolean(V),!1),st&&xe(st,Boolean(V),!1),ct&&xe(ct,Boolean(V),!1),dt&&xe(dt,Boolean(V),!1),ut&&xe(ut,Boolean(V),!1),pt&&xe(pt,Boolean(V),!1),gt&&xe(gt,Boolean(V),!1),mt&&xe(mt,Boolean(V),!1),vt&&xe(vt,Boolean(V||I),!1)}return{text:v,code:{language:o,insideCode:V},link:{link:S},style:{background:{disable:Boolean(V),transparent:"undefined"===Q,color:l},text:{disable:Boolean(V),transparent:"undefined"===ee,color:s}},abbr:{abbr:K}}}}const Zs={},$s=()=>document.getElementById("report-container"),Qs=e=>{const t=$s();t&&(t.innerText=e),t&&t.removeAttribute("hidden"),setTimeout((()=>{const e=$s();e&&e.setAttribute("hidden","")}),1e3)},ec={"\n":e=>{let{selection:t}=e;t.insertParagraph()},redo:e=>{let{editor:t}=e;t.dispatchCommand(i.V3,void 0)},undo:e=>{let{editor:t}=e;t.dispatchCommand(i.ZK,void 0)}};function tc(e){const t=this.closest("div.lexical-wrapper"),n=this.classList.contains("playing");if(t&&t.id&&Zs[t.id]){const e=Zs[t.id];n?(this.classList.remove("playing"),e.stop()):(this.classList.add("playing"),e.start())}}function nc(e){if(Boolean(void 0!==typeof(null===globalThis||void 0===globalThis?void 0:globalThis.window)&&("SpeechRecognition"in(null===globalThis||void 0===globalThis?void 0:globalThis.window)||"webkitSpeechRecognition"in(null===globalThis||void 0===globalThis?void 0:globalThis.window))&&!ee(window.navigator.userAgent))){var t;const n=window.SpeechRecognition||window.webkitSpeechRecognition,o=e._config.namespace,a=document.getElementById(o)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));if(a){const e=a.querySelector("button[data-lexical-speech-to-text]");!n&&e?e.setAttribute("disabled",""):e&&e.addEventListener("click",tc)}return n&&(Zs[o]=new n,Zs[o].continuous=!0,Zs[o].interimResults=!0,Zs[o].addEventListener("result",function(e){return function(t){const n=t.results.item(t.resultIndex),{transcript:o}=n.item(0);if(Qs(o),!n.isFinal)return;const a=pe()[e];a&&a.update((()=>{const e=(0,i.vJ)();if((0,i.I2)(e)){const t=ec[o.toLowerCase().trim()];t?t({editor:a,selection:e}):o.match(/\s*\n\s*/)?e.insertParagraph():e.insertText(o)}}))}}(o))),()=>{Zs[o]&&(Zs[o].stop(),delete Zs[o])}}{var n;const t=e._config.namespace,o=document.getElementById(t)||(null===(n=e._rootElement)||void 0===n?void 0:n.closest("div.lexical-wrapper"));if(o){const e=o.querySelector("button[data-lexical-speech-to-text]");e&&e.setAttribute("hidden","")}return()=>{}}}class oc extends i.fG{static getType(){return"annotation"}static clone(e){const t=e.__start,n=e.__end,o=e.__content,a=e.__reference_id;var i=void 0;return e.__text_color&&e.__background_color&&(i={text_color:e.__text_color,background_color:e.__background_color}),new oc({start:t,end:n,content:o,reference_id:a},i,e.__key)}constructor(e,t,n){var o,a,i;super(n),o=this,i=1,(a=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(a="__version"))in o?Object.defineProperty(o,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[a]=i,this.__start=e.start,this.__end=e.end,this.__content=e.content,this.__reference_id=e.reference_id,t&&(this.__text_color=t.text_color,this.__background_color=t.background_color)}getStart(){return this.getLatest().__start}setStart(e){const t=this.getWritable();return t.__start=e,t}getEnd(){return this.getLatest().__end}setEnd(e){const t=this.getWritable();return t.__end=e,t}getContent(){return this.getLatest().__content}setContent(e){const t=this.getWritable();return t.__content=e,t}getReferenceId(){return this.getLatest().__reference_id}setReferenceId(e){const t=this.getWritable();return t.__reference_id=e,t}getTextColor(){return this.getLatest().__text_color}setTextColor(e){const t=this.getWritable();return t.__text_color=e,t}getBackgroundColor(){return this.getLatest().__background_color}setBackgroundColor(e){const t=this.getWritable();return t.__background_color=e,t}createDOM(e){const t=document.createElement("span");t.setAttribute("hidden",""),t.setAttribute("data-annotation-node",""),t.setAttribute("data-start",String(this.getStart())),t.setAttribute("data-end",String(this.getEnd())),t.setAttribute("data-content",String(this.getContent())),t.setAttribute("data-reference-id",this.getReferenceId());const[n,o]=[this.getTextColor(),this.getBackgroundColor()];return n&&o&&(t.setAttribute("data-text-color",n),t.setAttribute("data-background-color",o)),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}updateDOM(e,t){return!1}static importDOM(){return{span:e=>e.hasAttribute("data-annotation-node")&&e.hasAttribute("data-reference-id")&&e.hasAttribute("data-start")&&e.hasAttribute("data-end")&&e.hasAttribute("data-content")?{conversion:ac,priority:i.d}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);return{element:t}}static importJSON(e){const{start:t,end:n,content:o,reference_id:a}=e,i=e.text_color,r=e.background_color;var l=void 0;i&&r&&(l={text_color:i,background_color:r});const s=function(e,t){return new oc(e,t)}({start:t,end:n,content:o,reference_id:a},l);return s}exportJSON(){return{...super.exportJSON(),type:this.getType(),start:this.getStart(),end:this.getEnd(),content:this.getContent(),reference_id:this.getReferenceId(),version:1,text_color:this.getTextColor(),background_color:this.getBackgroundColor()}}}function ac(e){e.getAttribute("data-annotation-node");const t=e.getAttribute("data-start"),n=e.getAttribute("data-end"),o=e.getAttribute("data-content"),a=e.getAttribute("data-reference-id"),i=e.getAttribute("data-text-color"),r=e.getAttribute("data-background-color");if(t&&n&&o&&a){const e=parseInt(t),l=parseInt(n);return i&&r?{node:new oc({start:e,end:l,content:o,reference_id:a},{text_color:i,background_color:r})}:{node:new oc({start:e,end:l,content:o,reference_id:a})}}return{node:new oc({start:0,end:0,content:"",reference_id:""})}}const ic={current_editor_id:null,timeout:null};const rc={},lc={children:[],direction:null,format:"left",indent:0,type:"paragraph",version:1,first_element:!1,blockStyle:{textAlign:"left",backgroundColor:"transparent",textColor:"inherit",margin:["6px","0px"],padding:"0px",borderRadius:"0px",borderColor:"transparent",borderWidth:"0px",borderType:"none",boxShadowOffsetX:"0px",boxShadowOffsetY:"0px",boxShadowBlurRadius:"0px",boxShadowSpreadRadius:"0px",boxShadowInset:!1,boxShadowColor:"transparent"}};async function sc(e){const t={root:{children:[],direction:"ltr",format:"",indent:0,type:"root",version:1}};for(let n of e)t.root.children.push(n);return t.root.children.length||t.root.children.push(lc),await window.convertNodesToMarkdownString(t)}function cc(e){const t=e.exportJSON();if(t.children||(t.children=[]),e.getChildren)for(let n of e.getChildren()){const e=cc(n);t.children.push(e)}return t}function dc(e){const t=e.exportJSON();if(t.children||(t.children=[]),e.getChildren)for(let n of e.getChildren()){const e=cc(n);t.children.push(e)}return t}async function uc(e){const t=de();if(t){const n=t._config.namespace;try{const[e,o]=await new Promise(((e,n)=>{t.update((()=>{const t=(0,i.vJ)()||(0,i.S1)();if((0,i.I2)(t)){const r=t.getNodes(),l=r[r.length-1];var n=Ko(l,(e=>(0,i.ff)(e)));if(n){for(var o=[],a=n;(0,i.ff)(a);)o=[a].concat(o),a=a.getPreviousSibling();const t=Oo({size:"small",inline:!0});l.insertAfter(t),e([o.slice(-10).map(dc),[t.getKey()]])}}}))})),a=await sc(e);window.socket&&(window.socket.on("ai-write",mc),window.socket.emit("ai-write",{markdown_context:a,type:"write"},(e=>{let{error:t,message:a,message_id:i}=e;t?document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Something went wrong writing with Artificial Intelligence."}})):rc[i]={type:"write",editorID:n,nodes:o,markdown:""}})))}catch(e){console.error(e),document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Something went wrong writing with Artificial Intelligence."}}))}}}async function pc(e){const t=de();if(t){const n=t._config.namespace;try{const[e,o,a]=await new Promise(((e,n)=>{t.update((()=>{const t=(0,i.vJ)()||(0,i.S1)();if((0,i.I2)(t)){const a=Ko(t.getNodes()[0],(e=>(0,i.ff)(e)));if(a){for(var n=[],o=a;(0,i.ff)(o);)n=[o].concat(n),o=o.getPreviousSibling();const t=Oo({size:"medium",inline:!1});a.insertAfter(t),a.remove(),e([[dc(a)],n.slice(-10).map(dc),t.getKey()])}}}))})),r=await sc(e),l=await sc(o);window.socket&&(window.socket.on("ai-write",mc),window.socket.emit("ai-write",{type:"rewrite",rewrite_markdown:r,markdown_context:l},(e=>{let{message_id:t,error:o,message:i}=e;o?document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBBAR",{detail:{severity:"error",message:i}})):rc[t]={editorID:n,type:"rewrite",nodesToReplace:[a],markdown:""}})))}catch(e){console.error(e),document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Something went wrong rewriting block using Artificial Intelligence."}}))}}}async function gc(e){const t=de();if(t){const n=t._config.namespace;try{const[e,o,a,r,l]=await new Promise(((e,n)=>{t.update((()=>{const t=(0,i.vJ)()||(0,i.S1)();if((0,i.I2)(t)){const s=t.getTextContent();var o=[],a=[];const c=Ko(t.getNodes()[0],(e=>(0,i.ff)(e)));if((0,i.ff)(c)){for(var r=c.getPreviousSibling();(0,i.ff)(r);)o=[r].concat(o),r=r.getPreviousSibling();for(var l=c.getNextSibling();(0,i.ff)(l);)a.push(l),l=l.getNextSibling();const n=t.getNodes().map((e=>e.getKey()));return void e([n,s,[dc(c)],o.slice(-10).map(dc),a.slice(-10).map(dc)])}n("Something went wrong with rewriting markdown selection.")}}))})),s=await sc(a),c=await sc(r),d=await sc(l);window.socket&&(window.socket.on("ai-write",mc),window.socket.emit("ai-write",{type:"rewrite-selection",selection_text_content:o,markdown_to_rewrite:s,markdown_context_before:c,markdown_context_after:d},(t=>{let{message_id:o,error:a,message:i}=t;a?document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBBAR",{detail:{severity:"error",message:i}})):rc[o]={editorID:n,type:"rewrite-selection",selectionNodes:e,markdown:""}})))}catch(e){console.error(e),document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Something went wrong rewriting selection using Artificial Intelligence."}}))}}}async function mc(e){const t=rc[e.message_id];if(t){t.markdown=e.markdown;const a=pe()[t.editorID];var n=!1,o="";if(a){try{o=await window.markdownToHTMLAi(t.markdown)}catch(e){n=!0}a.update((()=>{if(n){switch(t.type){case"rewrite":t.nodesToReplace.map((e=>(0,i.ns)(e))).forEach((e=>{Mo(e)&&e.remove()}));break;case"rewrite-selection":t.selectionNodes.map((e=>(0,i.ns)(e))).forEach((e=>{Mo(e)&&e.remove()}));break;case"write":t.nodes.map((e=>(0,i.ns)(e))).forEach((e=>{Mo(e)&&e.remove()}))}document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Something went wrong with the AI writing!"}})),!e.end&&window.socket&&(window.socket.emit("ai-write-end",{message_id:e.message_id}),delete rc[e.message_id])}else{const n=(new DOMParser).parseFromString(o,"text/html"),s=Yo(a,n);switch(t.type){case"write":{const n=t.nodes[t.nodes.length-1],o=(0,i.ns)(n);if(o){var r=o,l=0;const n=[];for(;l<s.length||t.nodes.length-1-l>-1;){if(l<s.length&&(r.insertAfter(s[l]),r.selectNext(),r=s[l],n.push(s[l])),t.nodes.length-1-l>-1){const e=t.nodes[t.nodes.length-1-l],n=(0,i.ns)(e);n&&n.remove()}l+=1}if(!e.end){const e=Oo({size:"small",inline:!0});r.insertAfter(e),r.selectNext(),n.push(e)}t.nodes=n.map((e=>e.getKey()))}break}case"rewrite":for(let n=t.nodesToReplace.length-1;n>-1;n--)if(0===n){const o=t.nodesToReplace[n],a=(0,i.ns)(o);if(a){r=a,l=0;const n=[];for(;l<s.length;)r.insertAfter(s[l]),r.selectNext(),n.push(s[l]),0===l&&r.remove(),r=s[l],l+=1;if(!e.end){const e=Oo({size:"medium",inline:!1});r.insertAfter(e),r.selectNext(),n.push(e)}t.nodesToReplace=n.map((e=>e.getKey()))}}else{const e=t.nodesToReplace[n],o=(0,i.ns)(e);o&&o.remove()}break;case"rewrite-selection":for(let n=t.selectionNodes.length-1;n>-1;n--)if(0===n){const o=t.selectionNodes[n],a=(0,i.ns)(o);if(a){r=a,l=0;const n=[];for(;l<s.length;)r.insertAfter(s[l]),r.selectNext(),n.push(s[l]),0===l&&r.remove(),r=s[l],l+=1;if(!e.end){const e=Oo({size:"small",inline:!0});r.insertAfter(e),r.selectNext(),n.push(e)}t.selectionNodes=n.map((e=>e.getKey()))}}else{const e=t.selectionNodes[n],o=(0,i.ns)(e);o&&o.remove()}}}}))}}}function hc(e){const t=document.getElementById("write-with-ai-button"),n=document.getElementById("rewrite-with-ai-button");return t&&t.addEventListener("click",uc),n&&n.addEventListener("click",pc),Po(e.registerCommand(i.Mv,(()=>{ic.timeout&&(clearTimeout(ic.timeout),ic.timeout=null),hd(),ic.current_editor_id=e._config.namespace;const t=(0,i.vJ)();return function(){const e=document.getElementById("enable-ai-writer");if(e)return e.checked}()&&(0,i.I2)(t)&&t.isCollapsed()?ic.timeout=setTimeout((()=>{!function(){const e=de(),t=document.getElementById("rewrite-with-ai-button"),n=document.getElementById("write-with-ai-button");e&&e.isEditable()&&t&&n&&e.getEditorState().read((()=>{const o=(0,i.vJ)(),a=document.getSelection(),r=e.getRootElement();(0,i.I2)(o)&&o.isCollapsed()&&a&&r&&(u(o.anchor)?(t.setAttribute("hidden",""),n.removeAttribute("hidden")):(n.setAttribute("hidden",""),t.removeAttribute("hidden")),function(){const e=Xc();hd();const t=document.getElementById(nd),n=de(),o=document.getSelection();if(t&&n&&n.isEditable()&&o){const a=n.getRootElement();if(a){if(o&&a&&o.rangeCount>0){const t=Ie(o,a);if(Xc()&&t){const n=o.getRangeAt(0).commonAncestorContainer;if(0===t.left&&0===t.right&&n instanceof HTMLElement){const e=n.getBoundingClientRect();t.left=e.left,t.right=e.right,t.top+=e.top}e.style.top="calc(".concat(t.top.toString().concat("px")+" + var(--safe-area-inset-top-0px) + var(--virtual-keyboard-height)",")"),e.style.left=((t.left+t.right)/2).toString().concat("px")}}t.style.display="flex";const i=function(){const e=document.getSelection(),o=n.getRootElement();if(!(e&&o&&e.rangeCount>0))return;{const t=Ie(e,o);if(Xc()&&t){const n=e.getRangeAt(0).commonAncestorContainer;if(0===t.left&&0===t.right&&n instanceof HTMLElement){const e=n.getBoundingClientRect();t.left=e.left,t.right=e.right,t.top+=e.top}this.style.top="calc(".concat(t.top.toString().concat("px")+" + var(--safe-area-inset-top-0px) + var(--virtual-keyboard-height)",")"),this.style.left=((t.left+t.right)/2).toString().concat("px")}}const a={placement:"top",middleware:[(0,ga.cY)(6),(0,ma.BN)(),(0,ma.UU)()]};(0,ma.rD)(this,t,a).then((e=>{let{x:n,y:o}=e;const a={left:"".concat(n,"px"),top:"calc(".concat(o.toString().concat("px")+" + var(--safe-area-inset-top-0px) + var(--virtual-keyboard-height)",")"),opacity:"1"};Object.assign(t.style,a)}))}.bind(e);i();const r=(0,ma.ll)(e,t,i);Gc[od]&&(Gc[od](),delete Gc[od]),Gc[od]=r}else hd()}else hd()}())}))}()}),2e3):hd(),!1}),i.d),e.registerCommand(i.pF,(()=>(setTimeout((()=>{ic.timeout&&(clearTimeout(ic.timeout),ic.timeout=null),hd()}),100),!1)),i.d),(()=>{ic.timeout&&(clearTimeout(ic.timeout),ic.timeout=null),Object.entries(rc).forEach((t=>{let[n,o]=t;o.editorID===e._config.namespace&&(window.socket&&window.socket.emit("ai-write-end",{message_id:n}),delete rc[n])})),hd()}))}class fc extends i.Kp{constructor(e,t){super(t),this.__maxHeight=e}static getType(){return"max-height-button"}static clone(e){return new fc(e.getMaxHeight(),e.__key)}createDOM(e){return document.createElement("span")}updateDOM(e,t,n){return!1}static importDOM(){return null}exportDOM(e){const{element:t}=super.exportDOM(e);return{element:t}}getMaxHeight(){return this.getLatest().__maxHeight}setMaxHeight(e){const t=this.getWritable();return t.__maxHeight=e,t}static importJSON(e){return bc(e.maxHeight)}exportJSON(){return{...super.exportJSON(),type:"max-height-button",version:1,maxHeight:this.getMaxHeight()}}collapseAtStart(){return!1}isInline(){return!0}decorate(e,t){const n=e.getElementByKey(this.__key);if(n&&0===n.children.length){const e=function(e,t){const n=document.createElement("button");return n.insertAdjacentHTML("afterbegin",'<svg style="transition: transform 0.5s ease-in-out;" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="KeyboardArrowDown"><path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"></path></svg>'),n.classList.add("icon","filled","primary","medium"),n.setAttribute("type","button"),n.setAttribute("aria-label","Hide/Show Content"),n.style.cssText="position:absolute; bottom: 1rem; right: 1rem;",n.addEventListener("click",function(e,t){return function(n){const o=this.querySelector("svg"),a=document.getElementById(e);if(a&&o)if("true"===a.getAttribute("data-abbreviated")){a.setAttribute("data-abbreviated","false"),a.style.setProperty("scrollbar-width","none","important"),a.style.setProperty("overflow-y","scroll");const e=a.scrollHeight;a.style.setProperty("transition","max-height 0.5s ease-in-out"),a.style.setProperty("max-height",e.toString().concat("px")),o.style.setProperty("transform","rotate(180deg)","important"),setTimeout((()=>{a.style.setProperty("max-height","auto"),a.style.removeProperty("overflow-y"),a.style.removeProperty("transition")}),550)}else"false"===a.getAttribute("data-abbreviated")&&(a.setAttribute("data-abbreviated","true"),a.style.setProperty("transition","max-height 0.5s ease-in-out"),a.style.setProperty("overflow-y","hidden"),a.style.setProperty("max-height",t.toString().concat("px")),o.style.setProperty("transform","rotate(0deg)","important"),setTimeout((()=>{a.style.removeProperty("transition")}),550))}}(e.namespace,t)),n}(t,this.getMaxHeight());return n.append(e),e}return document.createElement("div")}}function bc(e){return new fc(e)}function vc(e){var t;const n=document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));if(n){const t=n.getAttribute("data-max-height");if(t)if(n.style.setProperty("position","relative","important"),n.style.setProperty("max-height",t.concat("px"),"important"),n.style.setProperty("scrollbar-width","none","important"),n.style.setProperty("overflow-y","scroll"),n.scrollHeight>n.offsetHeight){if(n.style.setProperty("overflow-y","hidden"),n.setAttribute("data-abbreviated","true"),n.style.removeProperty("scrollbar-width"),t&&Number.isInteger(parseInt(t)))return e.update((()=>{(0,i.Ni)().append(bc(parseInt(t)))})),Po(e.registerEditableListener((e=>{e&&(0,i.zl)(fc).forEach((e=>e.remove()))})),e.registerMutationListener(fc,(e=>{for(const[t,n]of e)"created"===n&&(0,i.zl)(fc).slice(1).forEach((e=>e.remove()))})))}else n.style.removeProperty("position"),n.style.removeProperty("max-height"),n.style.removeProperty("overflow-y"),n.style.removeProperty("scrollbar-width")}return()=>{}}const yc={tag:"history-merge"},xc=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);class _c extends i.Ey{static clone(e){return new _c(e.__text,e.__uuid,e.__key)}static getType(){return"autocomplete"}static importJSON(e){return(0,i.sT)("")}exportJSON(){return{...super.exportJSON(),uuid:xc,type:"autocomplete"}}constructor(e,t,n){super(e,n),this.__uuid=t}updateDOM(e,t,n){return!1}exportDOM(e){return{element:null}}importDOM(){return null}excludeFromCopy(){return!0}createDOM(e){const t=super.createDOM(e);return t.classList.add("autocomplete"),this.__uuid!==xc&&(t.style.display="none"),t}}let wc=null,Ec=null,kc=null,Cc=0,Sc="";var Ac=null;function Tc(e){var t;if(!(0,i.I2)(e)||!e.isCollapsed())return[!1,""];const n=e.getNodes()[0],o=e.anchor;if(!(0,i.kF)(n)||!n.isSimpleText()||!u(o)||null!==n.getNextSibling()&&"autocomplete"!==(null===(t=n.getNextSibling())||void 0===t?void 0:t.getType()))return[!1,""];const a=[],r=n.getTextContent();let l,s=n.getTextContentSize();for(;s--&&s>=0&&" "!==(l=r[s]);)a.push(l);return 0===a.length?[!1,""]:[!0,a.reverse().join("")]}function Nc(){const e=null!==wc?(0,i.ns)(wc):null;null!==e&&e.isAttached()&&(e.remove(),wc=null),null!==Ac&&(Ac=null),Ec=null,kc=null,Cc=0,Sc=""}function Lc(e){const t=e.getKey();e.__uuid===xc&&t!==wc&&Nc()}function Ic(e){return function(){e.update((()=>{const t=(0,i.vJ)(),[n,o]=Tc(t);var a;if(n){if(o!==Ec&&(Nc(),window.socket&&function(){const e=document.getElementById("include-autocomplete-suggestions");return null==e?void 0:e.checked}())){var r=window.crypto.randomUUID();const t=[o,r];Ec=o,Ac=r,window.socket&&window.socket.emit("ai-autocomplete",t,(a=e._config.namespace,function(e){const t=de();if(t&&t._config.namespace===a)!function(e,t,n){var o=!1;Ac===e&&null!==n||t.update((()=>{Nc(),o=!0})),o||se()===t._config.namespace&&t.update((()=>{const e=(0,i.vJ)(),[t,o]=Tc(e);if(!t||o!==Ec||!(0,i.I2)(e))return void Nc();const a=e.clone(),r=e.getNodes()[0];Cc=r.getFormat(),Sc=r.getStyle();const l=(s=function(e){const t=Oe();return"".concat(e," ").concat(t?"(SWIPE ⮕)":"(TAB)")}(String(n)),c=xc,new _c(s,c).setMode("token")).setFormat(Cc).setStyle(Sc.concat("opacity: 0.4;"));var s,c;wc=l.getKey(),e.insertNodes([l]),(0,i.n1)(a),kc=n}),yc)}(e[1],t,e[0]);else{const e=pe()[a];e&&e.update((()=>{Nc()}))}}))}}else Nc()}),yc)}}function Mc(){if(null===kc||null===wc)return!1;const e=(0,i.ns)(wc);if(null===e)return!1;const t=(0,i.sT)(kc).setFormat(Cc).setStyle(Sc);return e.replace(t),t.selectNext(),Nc(),!0}function Oc(e){return!!Mc()&&(e.preventDefault(),!0)}function Bc(e){return function(t,n){e.update((()=>{Mc()?n.preventDefault():(0,i.JA)(yc.tag)}))}}function Dc(e){const t=e.getRootElement();return e.update((()=>{(0,i.zl)(_c).forEach((e=>e.remove(!1)))})),Po(e.registerNodeTransform(_c,Lc),e.registerUpdateListener(Ic(e)),e.registerCommand(i.OX,Oc,i.Jj),e.registerCommand(i.JM,Oc,i.Ac),...null!==t?[(n=t,o=Bc(e),M(n,((e,t)=>{const[n,a]=e;n>0&&n>Math.abs(a)&&o(n,t)})))]:[],function(e){return function(){e.update((()=>{Nc()}),yc)}}(e));var n,o}(0,i.gu)("LAUNCH_ARTICLE_SELECTION_MENU");const Rc=(0,i.gu)("ADD_COMMENT_ARTICLE_COMMAND"),zc=(0,i.gu)("RECEIVE_COMMENT_ARTICLE_COMMAND"),Pc=(0,i.gu)("ADD_ANNOTATE_ARTICLE_COMMAND"),Fc=(0,i.gu)("RECEIVE_ANNOTATE_ARTICLE_COMMAND"),Hc=(0,i.gu)("SCROLL_TO_NODE"),qc=(0,i.gu)("COPY_LINK_SELECTION"),jc=(0,i.gu)("UPDATE_TOOLBAR_COMMAND"),Kc=(0,i.gu)("FONT_FAMILY_CHANGE"),Wc=(0,i.gu)("FONT_WEIGHT_CHANGE"),Jc=(0,i.gu)("FONT_SIZE_CHANGE"),Uc=((0,i.gu)("LAUNCH_TABLE_MENU"),(0,i.gu)("LAUNCH_SELECTION_MENU")),Vc=(0,i.gu)("ASK_AI_COMMAND"),Gc={};function Xc(){return document.getElementById("text-table-selection-ref")}const Yc=new Set(["Anuphan, sans-serif;","Arial, sans-serif;","Verdana, sans-serif;","Tahoma, sans-serif;","Trebuchet MS, sans-serif;","Times New Roman, serif;","Georgia, serif;","Garamond, serif;","Courier New, monospace;","Brush Script MT, cursive;"]),Zc=new Set(["100","200","300","400","500","600","700"]),$c=new Set(["caption","body2","body1","h6","h5","h4","h3","h2","h1"]),Qc={caption:{"font-size":"0.75rem","line-height":"1.66","letter-spacing":"0.03333em"},body2:{"font-size":"0.875rem","line-height":"1.43","letter-spacing":"0.01071em"},body1:{"font-size":"1rem","line-height":"1.5","letter-spacing":"0.00938em"},h6:{"font-size":"1.15rem","line-height":"1.6","letter-spacing":"0.0075em"},h5:{"font-size":"1.35rem","line-height":"1.334","letter-spacing":"0em"},h4:{"font-size":"1.6rem","line-height":"1.2944","letter-spacing":"0.00294em"},h3:{"font-size":"1.85rem","line-height":"1.2548","letter-spacing":"0.00588"},h2:{"font-size":"2.1rem","line-height":"1.205","letter-spacing":"0.0042em"},h1:{"font-size":"2.6rem","line-height":"1.167","letter-spacing":"0em"}},ed=new Set(["left","center","right","justify"]),td=new Set(["bold","italic","strikethrough","underline","superscript","subscript","mark","code","quote","kbd"]),nd="ai-writer-helper-menu",od="text-selection-menu-toolbar-rte",ad="text-selection-article";var id=void 0,rd=void 0;const ld=500;function sd(e){const t=de();if(t&&i.zG.test(this.value)&&i.zG.test(this.value)){rd&&clearTimeout(rd);const e=this.value,n=this.parentElement;if(n){const e=n.nextElementSibling?n.nextElementSibling.querySelector('input[type="checkbox"]'):null;e&&(e.checked=!1)}rd=setTimeout((function(){t.dispatchCommand(Re,e)}),ld)}}function cd(e){const t=de();if(t&&i.zG.test(this.value)){rd&&clearTimeout(rd);const e=this.value,n=this.parentElement;if(n){const e=n.nextElementSibling?n.nextElementSibling.querySelector('input[type="checkbox"]'):null;e&&(e.checked=!1)}rd=setTimeout((function(){t.dispatchCommand(ze,e)}),ld)}}function dd(e){const t=de();if(t)if(this.checked)this.setAttribute("checked",""),t.dispatchCommand(De,{type:"text",color:null});else{var n;this.removeAttribute("checked");const e=null===(n=this.parentElement)||void 0===n?void 0:n.parentElement;if(e){const n=e.querySelector("input#floating-text-color-color");n&&t.dispatchCommand(De,{type:"text",color:n.value})}}}function ud(e){const t=de();if(t)if(this.checked)this.setAttribute("checked",""),t.dispatchCommand(De,{type:"background",color:null});else{var n;this.removeAttribute("checked");const e=null===(n=this.parentElement)||void 0===n?void 0:n.parentElement;if(e){const n=e.querySelector("input#floating-bg-color-bg-color");n&&t.dispatchCommand(De,{type:"background",color:n.value})}}}const pd=new Set(["REDO_COMMAND","UNDO_COMMAND","CLEAR_EDITOR_COMMAND","INSERT_LINE_BREAK_COMMAND","INDENT_CONTENT_COMMAND","OUTDENT_CONTENT_COMMAND","FORMAT_ELEMENT_COMMAND","FORMAT_TEXT_COMMAND","MAKE_TRANSPARENT"]);function gd(e){const t=this.closest("div.lexical-wrapper"),n=this.getAttribute("data-dispatch"),o=this.getAttribute("data-payload");if(t&&n){e.preventDefault(),e.stopPropagation();const a=t.id,r=pe(),l=a?r[a]:void 0;if(l)try{switch(n){case"REDO_COMMAND":return l.dispatchCommand(i.V3,void 0),void l.dispatchCommand(jc,void 0);case"UNDO_COMMAND":return void l.dispatchCommand(i.ZK,void 0);case"CLEAR_EDITOR_COMMAND":const e="true"===o;return void l.dispatchCommand(i.SK,e);case"INSERT_LINE_BREAK_COMMAND":return void l.dispatchCommand(i.FE,void 0);case"INDENT_CONTENT_COMMAND":return l.dispatchCommand(i.Pi,void 0),void l.dispatchCommand(jc,void 0);case"OUTDENT_CONTENT_COMMAND":return l.dispatchCommand(i.si,void 0),void l.dispatchCommand(jc,void 0);case"FORMAT_ELEMENT_COMMAND":return void(ed.has(o)&&(l.dispatchCommand(i.fU,o),l.dispatchCommand(jc,void 0)));case"FORMAT_TEXT_COMMAND":return void(td.has(o)&&(l.dispatchCommand(i.mB,o),this.classList.toggle("selected")));default:return void console.error("Unrecognized Command: ".concat(n))}}catch(e){console.error(e)}}}function md(){const e=document.getElementById(od);document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#lexical-insert-link-main-menu"}}));const t=document.getElementById("lexical-insert-link-main-menu");t&&(t.style.display="none"),document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#floating-bg-color-menu"}}));const n=document.getElementById("floating-bg-color-menu");n&&(n.style.display="none"),document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#floating-text-color-menu"}}));const o=document.getElementById("floating-text-color-menu");o&&(o.style.display="none"),document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#lexical-insert-abbr-main"}}));const a=document.getElementById("lexical-insert-abbr-main");if(a&&(a.style.display="none"),e&&Gc[od]){try{Gc[od](),delete Gc[od]}catch(e){}e.style.display="none",e.style.opacity="0"}}function hd(){const e=document.getElementById(nd);if(e){if(Gc[nd])try{Gc[nd](),delete Gc[nd]}catch(e){}e.style.display="none",e.style.opacity="0"}}const fd=()=>{window.closeFloatingContextMenu=md()};var bd=!1;function vd(){const e=document.getElementById(ad),t=document.getElementById("share-selection-comment-menu");if(t&&Gc["share-selection-comment-menu"]){try{Gc["share-selection-comment-menu"](),delete Gc["share-selection-comment-menu"]}catch(e){}t.style.display="none",t.style.opacity="0"}if(e&&Gc[ad]){try{Gc[ad](),delete Gc[ad]}catch(e){}e.style.display="none",e.style.opacity="0"}}function yd(e){this.classList.toggle("selected"),e.stopPropagation(),e.preventDefault();const t=this.getAttribute("data-payload");if(t&&td.has(t)){const e=de();e&&e.dispatchCommand(i.mB,t)}}function xd(e){e.stopPropagation(),e.preventDefault();const t=de();t&&t.dispatchCommand(Pe,void 0)}function _d(e){e.stopPropagation(),e.stopImmediatePropagation()}function wd(e){const t=this.closest("div.lexical-wrapper");if(t){const e=t.id;if(e){const t=pe()[e];t&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.freeze({});const n=new Date,o={editorState:e.getEditorState(),lastSaved:n.getTime(),source:t.source||"Lexical",version:ai},a=t.fileName||n.toISOString();!function(e,t){const n=document.createElement("a"),o=document.body;if(null===o)return;o.appendChild(n),n.style.display="none";const a=JSON.stringify(e),i=new Blob([a],{type:"octet/stream"}),r=window.URL.createObjectURL(i);n.href=r,n.download=t,n.click(),window.URL.revokeObjectURL(r),n.remove()}(o,"".concat(a,".lexical"))}(t,{fileName:e})}}}function Ed(e,t){const n=document.createElement("div");n.setAttribute("id","prev_"+Math.random().toString().slice(2)),n.classList.add("lexical-wrapper","example-render","mt-2"),n.setAttribute("data-placeholder",""),n.setAttribute("data-rich-text-editor",""),n.setAttribute("data-type","article"),n.style.cssText="background-color: var(--background)!important; padding: 2px 5px!important; border-radius: 6px;",n.setAttribute("data-type",t),e.append(n),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:e}}))}function kd(){const e=document.getElementById("current-lexical-editor-upload");if(e){const t=e.value;if(t){const e=document.getElementById(t);if(e){const t=e.querySelector("div[data-rich-text-editor]");if(t)return t.getAttribute("data-type")}}}return null}async function Cd(e){e.stopPropagation(),e.preventDefault();const t=this.closest("div.dialog-wrapper"),n=this.querySelector('input[type="radio"]:checked');if(t&&n){const o=n.value;try{const e=await fetch("/ai-chat/search/".concat(encodeURIComponent(o)),{headers:{"Content-Type":"application/json","X-CSRF-Token":Ze()}}),t=await e.json(),n=t.str,a=t.chat_id,i=t.chat_name;if(!n||!a||!i)throw new Error("Something went wrong.");const r=de();r&&r.dispatchCommand(zo,{html:n,chat_id:a,chat_name:i})}catch(e){console.error(e),setTimeout((()=>{document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Something went wrong getting the AI chat."}}))}),200)}me(t)}}function Sd(e){if("lex-upload-file-dialog"===e.detail.el.id){console.log("Upload Lexical File Dialog");const e=document.getElementById("lex-upload-file-dialog");if(e){var t;const e=document.getElementById("lexical-state-upload"),n=document.getElementById("markdown-file-upload"),o=document.getElementById("notebook-file-upload"),a=document.getElementById("tex-file-upload"),i=document.getElementById("upload-lex-file-input"),r=document.getElementById("upload-md-file-input"),l=document.getElementById("upload-ipynb-file-input"),s=document.getElementById("upload-tex-file-input");e&&n&&o&&a&&(e.addEventListener("submit",Id),e.addEventListener("reset",Ld),n.addEventListener("reset",Ld),o.addEventListener("reset",Ld),a.addEventListener("reset",Ld)),i&&i.addEventListener("change",Ad),r&&r.addEventListener("change",Td),l&&l.addEventListener("change",Nd),s&&s.addEventListener("change",Nd);const c=(null===(t=de())||void 0===t||null===(t=t._config)||void 0===t?void 0:t.namespace)||"full",d=document.getElementById("lex-upload-file-dialog"),u=document.getElementById("upload-lex-file-input-output"),p=document.getElementById("upload-md-file-input-output"),g=document.getElementById("upload-ipynb-file-input-output"),m=document.getElementById("upload-tex-file-input-output"),h=document.getElementById("insert-ai-chat-rte");h&&h.addEventListener("submit",Cd);const f=document.getElementById("current-lexical-editor-upload");if(u&&f&&p&&g&&m&&d){f.value=c;const e=kd();if(e){const t=Array.from(u.querySelectorAll("div[data-rich-text-editor]"));t&&t.forEach((e=>e.dispatchEvent(new CustomEvent("delete-lexical-instance")))),u.innerHTML="",p.innerHTML="",g.innerHTML="",m.innerHTML="",Ed(u,e),Ed(p,e),Ed(g,e),Ed(m,e)}window.htmx&&window.htmx.process(d),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:d}}))}}document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:e}}))}}async function Ad(e){e.preventDefault(),e.stopImmediatePropagation();const t=this.files,n=this.closest("form");if(t&&n){const o=t[0],a=n.querySelector("div.lexical-wrapper");if(o&&a&&a.id)try{const e=await o.text(),t=pe()[a.id],n=JSON.parse(e.toString());if(t){const e=t.parseEditorState(n.editorState);t.setEditorState(e),t.setEditable(!1);const o=t._rootElement;o&&document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:o}}))}}catch(e){console.error(e)}}}async function Td(e){e.preventDefault(),e.stopImmediatePropagation();const t=this.files,n=this.closest("form");if(t&&n){const o=t[0],a=n.querySelector("div.lexical-wrapper");if(o&&a&&a.id)try{const e=await o.text();if(window.markdownToHTMLAi){const t=await window.markdownToHTMLAi(e),n=pe()[a.id];if(n){n.update((()=>{const e=(new DOMParser).parseFromString(t,"text/html"),o=Yo(n,e),a=(0,i.Ni)();a&&(a.clear(),a.append(...o),a.selectEnd())})),n.setEditable(!1);const e=n._rootElement;e&&document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:e}}))}}}catch(e){console.error(e),document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Something went wrong parsing the markdown file."}}))}}}async function Nd(e){var t;const n=this.closest("form");if(t="upload-ipynb-file-input"===this.id?"notebook":"tex",null===this.files||this.files.length<1)return void document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Unable to find file for file upload."}}));if(!n)return void document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Unable to find form for lexical file upload."}}));const o=n.querySelector("div.lexical-wrapper");if(!o)return void document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Unable to find form for lexical file upload."}}));if(!pe()[o.id])return void document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Unable to find output editor for lexical file upload."}}));const a=this.files[0],i=new FormData;i.append("file",a),fetch("/api/lexical-file-upload/".concat(t),{method:"POST",body:i}).then((e=>{if(200!==e.status)throw new Error("Something went wrong getting the lexical state for the file upload.");return e.json()})).then((e=>{})).catch((e=>{console.error(e)}))}function Ld(e){var t;t="markdown-file-upload"===this.id?"upload-md-file-input-output":"notebook-file-upload"===this.id?"upload-ipynb-file-input-output":"tex-file-upload"===this.id?"upload-tex-file-input-output":"upload-lex-file-input-output";const n=document.getElementById(t),o=this.querySelector("div.lexical-wrapper");o&&o.dispatchEvent(new CustomEvent("delete-lexical-instance")),n&&(n.innerHTML="");const a=kd();a&&n&&(Ed(n,a),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:n}})))}function Id(e){e.preventDefault(),e.stopPropagation();const t=this.closest("div.dialog-wrapper"),n=this.querySelector('input[accept=".lexical"]'),o=document.getElementById("current-lexical-editor-upload");try{if(n&&t&&o&&o.value){const e=this.querySelector("div.lexical-wrapper");if(e){const n=e.id,a=pe();if(n){const e=a[n],i=a[o.value];if(e&&i){const n=e.getEditorState().toJSON(),o=i.parseEditorState(n);i.setEditorState(o),me(t)}}}}}catch(e){console.error(e)}}function Md(){id&&clearTimeout(id),id=setTimeout((()=>{md()}),100)}function Od(e){id&&clearTimeout(id)}function Bd(){id&&clearTimeout(id)}function Dd(e,t){m(e,"Inherit"===t?{"font-family":null}:{"font-family":t.replace(";","")})}function Rd(e,t){m(e,"Inherit"===t?{"font-weight":null}:{"font-weight":t})}function zd(e,t){m(e,"Inherit"===t?{"font-size":null,"line-height":null,"letter-spacing":null}:Qc[t])}function Pd(e,t){m(e,{color:t})}function Fd(e,t){m(e,{"background-color":t})}function Hd(e,t){"background"===t.type?(m(e,{"background-color":t.color}),(0,i.n1)(e)):"text"===t.type&&(m(e,{color:t.color}),(0,i.n1)(e))}function qd(e){const t=e.getNodes();for(let e of t)(0,i.kF)(e)&&(e.setFormat(0),e.setStyle(""))}var jd=!1,Kd=!1,Wd=!1,Jd=!1,Ud=!1;const Vd={facebook:null,x:null,reddit:null,linkedin:null,email:null,link:null,pinterest:null,"whats-app":null,telegram:null,tumblr:null,pocket:null,buffer:null,digg:null,mix:null,vkonate:null,xing:null,evernote:null,hacker:null,flipboard:null,mename:null,blogger:null,odnoklassiniki:null,yahoo:null,google:null,renren:null,weibo:null,baidu:null,line:null},Gd=new Set(["1","2","3","4","5","6"]);function Xd(){const e=(0,i.vJ)();if((0,i.I2)(e)&&e.isCollapsed()){const t=e.getNodes();if(t.length){const e=Ko(t[0],(e=>za(e)||(0,i.bS)(e)));if(e)return e}}}function Yd(e){const t=document.getElementById("lexical-insert-link-main-menu");if("floating-bg-color-button"===this.id){const e=document.getElementById("floating-text-color-menu");e&&(e.style.display="none"),t&&(t.style.display="none"),document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#floating-text-color-menu"}})),document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#lexical-insert-link-main-menu"}}))}else if("floating-text-color-button"===this.id){const e=document.getElementById("floating-bg-color-menu");e&&(e.style.display="none"),t&&(t.style.display="none"),document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#floating-bg-color-menu"}})),document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#lexical-insert-link-main-menu"}}))}}function Zd(e){if(e.altKey&&"P"===e.key.toUpperCase()){const e=de();e&&e.update((()=>{const e=Xd(),t=(0,i.vJ)();e&&(0,i.I2)(t)&&f(t,(()=>(0,i.lJ)()))}))}else{if(e.altKey&&"H"===e.key.toUpperCase()&&!jd)return void(jd=!0);if(jd&&e.altKey&&Gd.has(e.key)){const t="h".concat(e.key),n=de();n&&n.hasNode(Ma)&&n.update((()=>{const e=Xd(),n=(0,i.vJ)();e&&(0,i.I2)(n)&&f(n,(()=>Ra(t)))}))}else{if(e.altKey&&"T"===e.key.toUpperCase()&&!Kd)return void(Kd=!0);if(Kd&&e.altKey&&"C"===e.key.toUpperCase()){const e=de();e&&e.dispatchCommand(i.mB,"code")}else if(Kd&&e.altKey&&"Q"===e.key.toUpperCase()){const e=de();e&&e.dispatchCommand(i.mB,"quote")}else if(Kd&&e.altKey&&"K"===e.key.toUpperCase()){const e=de();e&&e.dispatchCommand(i.mB,"kbd")}else if(Kd&&e.altKey&&"S"===e.key.toUpperCase()){const e=de();e&&e.dispatchCommand(i.mB,"strikethrough")}else if(Kd&&e.altKey&&"Y"===e.key.toUpperCase()){const e=de();e&&e.dispatchCommand(Pe,void 0)}else if(Kd&&e.altKey&&"B"===e.key.toUpperCase()){const e=de();e&&e.dispatchCommand(i.mB,"subscript")}else if(Kd&&e.altKey&&"P"===e.key.toUpperCase()){const e=de();e&&e.dispatchCommand(i.mB,"superscript")}else{if(e.altKey&&"S"===e.key.toUpperCase()&&!Wd)return void(Wd=!0);if(Wd&&e.altKey&&"C"===e.key.toUpperCase()){const e=de();e&&Z(e)&&e.dispatchCommand(Jc,"caption")}else if(Wd&&e.altKey&&"V"===e.key.toUpperCase()){const e=de();e&&Z(e)&&e.dispatchCommand(Jc,"body2")}else if(Wd&&e.altKey&&"B"===e.key.toUpperCase()){const e=de();e&&Z(e)&&e.dispatchCommand(Jc,"body1")}else if(Wd&&e.altKey&&"6"===e.key){const e=de();e&&Z(e)&&e.dispatchCommand(Jc,"h6")}else if(Wd&&e.altKey&&"5"===e.key){const e=de();e&&Z(e)&&e.dispatchCommand(Jc,"h5")}else if(Wd&&e.altKey&&"4"===e.key){const e=de();e&&Z(e)&&e.dispatchCommand(Jc,"h4")}else if(Wd&&e.altKey&&"3"===e.key){const e=de();e&&Z(e)&&e.dispatchCommand(Jc,"h3")}else if(Wd&&e.altKey&&"2"===e.key){const e=de();e&&Z(e)&&e.dispatchCommand(Jc,"h2")}else if(Wd&&e.altKey&&"1"===e.key){const e=de();e&&Z(e)&&e.dispatchCommand(Jc,"h1")}else if(Wd&&e.altKey&&"I"===e.key.toUpperCase()){const e=de();e&&e.dispatchCommand(Jc,"Inherit")}else{if(e.altKey&&"W"===e.key.toUpperCase()&&!Jd)return void(Jd=!0);if(Jd&&e.altKey&&"1"===e.key){const e=de();e&&e.dispatchCommand(Wc,"100")}else if(Jd&&e.altKey&&"2"===e.key){const e=de();e&&e.dispatchCommand(Wc,"200")}else if(Jd&&e.altKey&&"3"===e.key){const e=de();e&&e.dispatchCommand(Wc,"300")}else if(Jd&&e.altKey&&"4"===e.key){const e=de();e&&e.dispatchCommand(Wc,"400")}else if(Jd&&e.altKey&&"5"===e.key){const e=de();e&&e.dispatchCommand(Wc,"500")}else if(Jd&&e.altKey&&"6"===e.key){const e=de();e&&e.dispatchCommand(Wc,"600")}else if(Jd&&e.altKey&&"7"===e.key){const e=de();e&&e.dispatchCommand(Wc,"700")}else if(Jd&&e.altKey&&"I"===e.key.toUpperCase()){const e=de();e&&e.dispatchCommand(Wc,"Inherit")}else{if(e.altKey&&"A"===e.key.toUpperCase()&&!Ud)return void(Ud=!0);if(Ud&&e.altKey&&"L"===e.key.toUpperCase()){const e=de();e&&e.dispatchCommand(i.fU,"left")}else if(Ud&&e.altKey&&"C"===e.key.toUpperCase()){const e=de();e&&e.dispatchCommand(i.fU,"center")}else if(Ud&&e.altKey&&"R"===e.key.toUpperCase()){const e=de();e&&e.dispatchCommand(i.fU,"right")}else if(Ud&&e.altKey&&"J"===e.key.toUpperCase()){const e=de();e&&e.dispatchCommand(i.fU,"justify")}}}}}}jd=!1,Kd=!1,Wd=!1,Jd=!1,Ud=!1}function $d(e){var t;const n=e._config.namespace,o=document.getElementById(n)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));if(o){o.addEventListener("keydown",Zd);const t=o.querySelector("input[data-lexical-font-input]"),n=o.querySelector("input[data-lexical-font-weight-input]"),a=o.querySelector("input[data-lexical-font-size-input]"),r=o.querySelector("input[data-lexical-text-color]"),l=o.querySelector("input[data-lexical-text-transparent]"),s=o.querySelector("input[data-lexical-background-color]"),c=o.querySelector("input[data-lexical-background-transparent]"),d=o.querySelector("button[data-insert-paragraph-button]");t&&t.addEventListener("change",function(e){return function(){(Yc.has(this.value)||"Inherit"===this.value)&&e.dispatchCommand(Kc,this.value)}}(e)),n&&n.addEventListener("change",function(e){return function(){(Zc.has(this.value)||"Inherit"===this.value)&&e.dispatchCommand(Wc,this.value)}}(e)),a&&a.addEventListener("change",function(e){return function(){($c.has(this.value)||"Inherit"===this.value)&&e.dispatchCommand(Jc,this.value)}}(e)),r&&!Qe(e)&&r.addEventListener("input",function(e){return function(){const t=this.value,n=this.parentElement;if(n){const e=n.nextElementSibling?n.nextElementSibling.querySelector('input[type="checkbox"]'):null;e&&(e.checked=!1)}i.zG.test(t)&&(rd&&clearTimeout(rd),rd=setTimeout((function(){e.dispatchCommand(Re,t)}),ld))}}(e)),s&&!Qe(e)&&s.addEventListener("input",function(e){return function(t){if(i.zG.test(this.value)){rd&&clearTimeout(rd);const t=this.value,n=this.parentElement;if(n){const e=n.nextElementSibling?n.nextElementSibling.querySelector('input[type="checkbox"]'):null;e&&(e.checked=!1)}rd=setTimeout((function(){e.dispatchCommand(ze,t)}),ld)}}}(e)),d&&d.addEventListener("click",function(e){return function(){e.update((()=>{const e=(0,i.Ni)(),t=(0,i.lJ)();e.append(t),(0,i.n1)(t.select())}))}}(e)),Array.from(o.querySelectorAll("button[data-dispatch]")).forEach((t=>{const n=t.getAttribute("data-dispatch");pd.has(n)?null!==t.getAttribute("data-mouse-down")?(t.addEventListener("mousedown",gd),t.addEventListener("touchstart",gd)):t.addEventListener("click",gd):"CLEAR_TEXT_FORMATTING"===n&&t.addEventListener("click",function(e){return function(){e.dispatchCommand(Pe,void 0)}}(e))}));const u=o.querySelector("button[data-download-state]");u&&u.addEventListener("click",wd),l&&l.addEventListener("change",function(e){return function(){const t=e.getRootElement();if(t){const n=t.closest("div.lexical-wrapper");if(n)if(this.checked)this.setAttribute("checked",""),e.dispatchCommand(De,{type:"text",color:null});else{this.removeAttribute("checked");const t=n.querySelector("input[data-lexical-text-color]");t&&e.dispatchCommand(De,{type:"text",color:t.value})}}}}(e)),c&&c.addEventListener("change",function(e){return function(){const t=e.getRootElement();if(t){const n=t.closest("div.lexical-wrapper");if(n)if(this.checked)this.setAttribute("checked",""),e.dispatchCommand(De,{type:"background",color:null});else{this.removeAttribute("checked");const t=n.querySelector("input[data-lexical-background-color]");t&&e.dispatchCommand(De,{type:"background",color:t.value})}}}}(e)),o.addEventListener("focusout",Md),o.addEventListener("focusin",Bd)}}function Qd(e){if("view-content-lexical"===e.detail.el.id){const e=document.getElementById("view-content-lexical");if(e){const t=document.querySelector("html"),n=de();if(e&&n&&t){const e=n.getEditorState(),o=pe()["example-mobile-view-lexical-editor"],a=pe()["example-tablet-view-lexical-editor"],i=pe()["example-desktop-view-lexical-editor"];if(o&&a&&i){o.setEditable(!0);const n=o.parseEditorState(e.toJSON());o.setEditorState(n),o.setEditable(!1),a.setEditable(!0);const r=a.parseEditorState(e.toJSON());a.setEditorState(r),a.setEditable(!1),i.setEditable(!0);const l=i.parseEditorState(e.toJSON());i.setEditorState(l),i.setEditable(!1),t.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED"))}}}document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:e}}))}}function eu(){Object.keys(Gc).forEach((e=>{try{Gc[e](),delete Gc[e],vd(),md(),hd()}catch(e){}}))}function tu(e){document.addEventListener("HIDE_OPEN_POPOVERS",eu),fd();const t=document.getElementById(od);t&&t.addEventListener("focusin",Od);const n=document.getElementById(od);if(n){n.addEventListener("click",_d),n.addEventListener("mousedown",_d),n.addEventListener("touchstart",_d),Array.from(n.querySelectorAll('button[data-dispatch="FORMAT_TEXT_COMMAND"]')).forEach((e=>{null!==e.getAttribute("data-mouse-down")?(e.addEventListener("mousedown",yd,!0),e.addEventListener("touchstart",yd,!0)):e.addEventListener("click",yd,!0)}));const t=n.querySelector('button[data-dispatch="CLEAR_TEXT_FORMATTING"]');t&&t.addEventListener("click",xd,!0);const o=n.querySelector("#floating-bg-color-button"),a=n.querySelector("#floating-bg-color-bg-color"),i=n.querySelector("#floating-bg-color-transparent"),r=n.querySelector("#floating-text-color-button"),l=n.querySelector("#floating-text-color-color"),s=n.querySelector("#floating-text-color-transparent"),c=n.querySelector('button[data-dispatch="REWRITE_WITH_AI"]');c&&c.addEventListener("click",gc),o&&!Qe(e)&&o.addEventListener("click",Yd),a&&!Qe(e)&&a.addEventListener("input",cd),i&&!Qe(e)&&i.addEventListener("change",ud),r&&!Qe(e)&&r.addEventListener("click",Yd),l&&!Qe(e)&&l.addEventListener("input",sd),s&&!Qe(e)&&s.addEventListener("change",dd)}$d(e),document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",Sd),document.addEventListener("OPEN_LEXICAL_DIALOG",tt),document.addEventListener("CLOSE_LEXICAL_DIALOG",nt);const o=[e.registerCommand(Kc,(t=>{const n=(0,i.vJ)();if((0,i.I2)(n)){var o;Dd(n,t),(0,i.n1)(n),e.dispatchCommand(jc,void 0);const a=document.getElementById(e._config.namespace)||(null===(o=e._rootElement)||void 0===o?void 0:o.closest("div.lexical-wrapper"));return a&&a.focus(),!0}return!1}),i.jZ),e.registerCommand(Wc,(t=>{const n=(0,i.vJ)();if((0,i.I2)(n)){var o;Rd(n,t),(0,i.n1)(n),e.dispatchCommand(jc,void 0);const a=document.getElementById(e._config.namespace)||(null===(o=e._rootElement)||void 0===o?void 0:o.closest("div.lexical-wrapper"));return a&&a.focus(),!0}return!1}),i.jZ),e.registerCommand(Jc,(t=>{const n=(0,i.vJ)();if((0,i.I2)(n)){var o;zd(n,t),(0,i.n1)(n),e.dispatchCommand(jc,void 0);const a=document.getElementById(e._config.namespace)||(null===(o=e._rootElement)||void 0===o?void 0:o.closest("div.lexical-wrapper"));return a&&a.focus(),!0}return!1}),i.jZ),e.registerCommand(De,(t=>{const n=(0,i.vJ)();return!!(0,i.I2)(n)&&(Hd(n,t),e.dispatchCommand(jc,void 0),e.focus(),!0)}),i.Ac),e.registerCommand(i.Mv,(()=>(md(),e.dispatchCommand(jc,void 0),!1)),i.jZ),e.registerCommand(jc,(()=>{const t=Ys(e),n=(0,i.vJ)();return(0,i.I2)(n)&&!n.isCollapsed()?e.dispatchCommand(Uc,t):md(),!1}),i.Ac),e.registerCommand(Uc,(t=>{if(e.isEditable()){!function(e,t){if(e){const n=document.getElementById("text-selection-menu-toolbar-rte");if(n){const o=n.querySelector('button[data-payload="bold"]'),a=n.querySelector('button[data-payload="italic"]'),i=n.querySelector('button[data-payload="strikethrough"]'),r=n.querySelector('button[data-payload="underline"]'),l=n.querySelector('button[data-payload="subscript"]'),s=n.querySelector('button[data-payload="superscript"]'),c=n.querySelector("button[data-menu-insert-link]"),d=n.querySelector('button[data-payload="code"]'),u=n.querySelector('button[data-dispatch="FORMAT_TEXT_COMMAND"][data-payload="kbd"]'),p=n.querySelector('button[data-dispatch="FORMAT_TEXT_COMMAND"][data-payload="quote"]'),g=n.querySelector('button[data-dispatch="CLEAR_TEXT_FORMATTING"]'),m=Boolean(0===Object.values(e.text).filter((e=>Boolean(e))).length),h=n.querySelector("#floating-bg-color-button"),f=n.querySelector("#floating-bg-color-bg-color"),b=n.querySelector("#floating-bg-color-transparent"),v=n.querySelector("#floating-text-color-button"),y=n.querySelector("#floating-text-color-color"),x=n.querySelector("#floating-text-color-transparent"),_=n.querySelector("button[data-menu-abbr-button]");o&&xe(o,!1,Boolean(e.text.bold)),a&&xe(a,!1,Boolean(e.text.italic)),i&&xe(i,!1,Boolean(e.text.strikethrough)),r&&xe(r,!1,Boolean(e.text.underline)),c&&xe(c,!1,Boolean(e.link.link)),l&&xe(l,!1,Boolean(e.text.subscript)),s&&xe(s,!1,Boolean(e.text.superscript)),d&&xe(d,!1,Boolean(e.text.code)),u&&xe(u,!1,Boolean(e.text.kbd)),p&&xe(p,!1,Boolean(e.text.quote)),g&&xe(g,m,!1),_&&xe(_,!1,Boolean(e.abbr.abbr)),h&&(Qe(t)?xe(h,!0,!1):xe(h,e.style.background.disable,!1)),f&&(Qe(t)?Ne(f,Ee()):Ne(f,e.style.background.color)),b&&(e.style.background.transparent||Qe(t)?b.checked=!0:b.checked=!1),v&&(Qe(t)?xe(v,!0,!1):xe(v,e.style.text.disable,!1)),y&&(Qe(t)?Ne(y,ke()):Ne(y,e.style.text.color)),x&&(e.style.text.transparent||Qe(t)?x.checked=!0:x.checked=!1)}}}(t,e);const n=se(),o=(0,i.vJ)();if((0,i.I2)(o)&&o.getNodes().length>=1&&!o.isCollapsed()){const o=document.getSelection(),a=e.getRootElement();if(a&&o&&o.rangeCount>0&&n===e._config.namespace){const n=Ie(o,a);if(Xc())return Xc().style.top="calc(".concat(n.top.toString().concat("px")+" + var(--safe-area-inset-top-0px) + var(--virtual-keyboard-height)",")"),Xc().style.left=((n.left+n.right)/2).toString().concat("px"),t&&!t.code.insideCode&&function(e,t){vd();const n=document.getElementById(od),o=se();document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#lexical-insert-link-main-menu"}}));const a=document.getElementById("lexical-insert-link-main-menu");a&&(a.style.display="none"),document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#floating-bg-color-menu"}}));const i=document.getElementById("floating-bg-color-menu");i&&(i.style.display="none"),document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#floating-text-color-menu"}}));const r=document.getElementById("floating-text-color-menu");r&&(r.style.display="none"),document.dispatchEvent(new CustomEvent("HIDE_OPEN_POPOVER",{detail:{str:"#lexical-insert-abbr-main"}}));const l=document.getElementById("lexical-insert-abbr-main");if(l&&(l.style.display="none"),n&&o===t._config.namespace){n.style.display="flex";const o=function(){const e=document.getSelection(),o=t.getRootElement();if(!(e&&o&&e.rangeCount>0))return;{const t=Ie(e,o);Xc()&&(this.style.top="calc(".concat(t.top.toString().concat("px")+" + var(--safe-area-inset-top-0px) + var(--virtual-keyboard-height)",")"),this.style.left=((t.left+t.right)/2).toString().concat("px"))}const a={placement:"top",middleware:[(0,ga.cY)(6),(0,ma.BN)(),(0,ma.UU)()]};(0,ma.rD)(this,n,a).then((e=>{let{x:t,y:o}=e;const a={left:"".concat(t,"px"),top:"calc(".concat(o.toString().concat("px")+" + var(--safe-area-inset-top-0px) + var(--virtual-keyboard-height)",")"),opacity:"1"};Object.assign(n.style,a)}))}.bind(e);o();const a=(0,ma.ll)(e,n,o);Gc[od]&&(Gc[od](),delete Gc[od]),Gc[od]=a}else md()}(Xc(),e),!0}}}return md(),!1}),i.jZ),e.registerCommand(Pe,(()=>{const e=(0,i.vJ)();return(0,i.I2)(e)&&qd(e),!0}),i.jZ),nc(e),()=>{var t;const n=document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));n&&n.removeEventListener("keydown",Zd)},e.registerCommand(i.pF,(()=>{var t;const n=e._config.namespace,o=document.getElementById(n)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));if(o){const e=Me(o);Object.values(e).forEach((e=>{e&&"BUTTON"===e.nodeName&&e.removeAttribute("disabled")}))}return Md(),!1}),i.jZ),e.registerCommand(Vc,(e=>{let{url:t,selection:n,context:o}=e;const a=(0,i.Ni)();if(a){a.clear();const e=(0,i.lJ)();e.append((0,i.sT)("<CONTEXT>\n".concat(o,'\n</CONTEXT>\nBased on the provided context, what does the following mean: "').concat(n,'"?')));const r=(0,i.lJ)();r.append((0,i.sT)("You can find out more about the context or selection by visiting: "));const l=Rl(t);l.append((0,i.sT)("frankmbrown.net")),r.append(l),a.append(e,r),a.selectEnd()}const r=document.getElementById("ai-chat-dialog");return r&&he(r),!0}),i.jZ),e.registerCommand(He,(()=>($d(e),!1)),i.jZ)];e.hasNode(Bo)&&o.push(e.registerCommand(zo,(e=>{const t=Ro(e);return(0,i.H2)([t]),!0}),i.jZ));const a=document.getElementById(e._config.namespace);return a&&a.querySelector("button[data-lexical-view-sizes]")&&document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",Qd),Qe(e)||o.push(e.registerCommand(Re,(t=>{const n=(0,i.vJ)();return!(!(0,i.I2)(n)||Qe(e)||(Pd(n,t),(0,i.n1)(n),e.dispatchCommand(jc,void 0),e.focus(),0))}),i.jZ),e.registerCommand(ze,(t=>{const n=(0,i.vJ)();return!(!(0,i.I2)(n)||Qe(e)||(Fd(n,t),(0,i.n1)(n),e.dispatchCommand(jc,void 0),e.focus(),0))}),i.jZ),function(e){return document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",js),Po(e.registerCommand(i.Mv,(()=>{const t=(0,i.vJ)();return(0,i.I2)(t)?xs[e._config.namespace]=t:xs[e._config.namespace]=void 0,!1}),i.d),(function(){xs[e._config.namespace]&&delete xs[e._config.namespace]}))}(e)),Po(...o)}function nu(e){return Po((()=>{}))}function ou(e){e._lexicalHandled||vd()}function au(e){const t=de();t&&t.dispatchCommand(Rc,void 0)}function iu(e){const t=de();t&&t.dispatchCommand(Pc,void 0)}function ru(e){const t=de();t&&t.dispatchCommand(qc,void 0)}function lu(){if(Vd.facebook){const e=document.createElement("a");e.target="_blank",e.href="https://www.facebook.com/share.php?u=".concat(encodeURI(Vd.facebook.payload)),e.target="_blank",e.click()}}function su(){if(Vd.x){const e=document.createElement("a");e.target="_blank",e.href="http://twitter.com/share?&url=".concat(Vd.x.payload.url,"&text=").concat(Vd.x.payload.text),e.click()}}function cu(){if(Vd.reddit){const e=document.createElement("a");e.target="_blank",e.href="http://www.reddit.com/submit?url=".concat(Vd.reddit.payload.url,"&title=").concat(Vd.reddit.payload.title,"&type=LINK"),e.click()}}function du(){if(Vd.linkedin){const e=document.createElement("a");e.target="_blank",e.href="https://www.linkedin.com/sharing/share-offsite/?url=".concat(Vd.linkedin.payload),e.target="_blank",e.click()}}function uu(){if(Vd.email){const e=document.createElement("a");e.target="_blank";const t="mailto:?subject=".concat(encodeURIComponent(Vd.email.payload.subject),"&body=").concat(encodeURIComponent(Vd.email.payload.body));e.href=t,e.click()}}function pu(){Vd.link&&navigator.clipboard.writeText(Vd.link.payload).then((()=>{var e;"article"===(null===(e=Vd.link)||void 0===e?void 0:e.type)?document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"success",message:"Copied link to article selection to clipboard!"}})):document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"success",message:"Copied link to comment to clipboard!"}}))})).catch((e=>{var t;console.error(e),"article"===(null===(t=Vd.link)||void 0===t?void 0:t.type)?document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Failed to copy link to selection to clipbaord!"}})):document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Failed to copy link to comment to clipbaord!"}}))}))}function gu(){if(Vd.pinterest){const{url:e,image:t,title:n}=Vd.pinterest.payload,o=document.createElement("a");o.href="https://pinterest.com/pin/create/button/?url=".concat(e,"&media=").concat(t,"&description=").concat(n),o.target="_blank",o.click()}}function mu(){if(Vd["whats-app"]){const e=document.createElement("a"),{url:t,title:n}=Vd["whats-app"].payload;e.href="https://api.whatsapp.com/send?text=".concat(n," ").concat(t),e.target="_blank",e.click()}}function hu(){if(Vd.telegram){const e=document.createElement("a"),{url:t,title:n}=Vd.telegram.payload;e.href="https://telegram.me/share/url?url=".concat(t,"&text=").concat(n),e.target="_blank",e.click()}}function fu(){if(Vd.tumblr){const e=document.createElement("a"),{url:t,title:n,description:o}=Vd.tumblr.payload;e.href="https://www.tumblr.com/widgets/share/tool?canonicalUrl=".concat(t,"&title=").concat(n,"&caption=").concat(o),e.target="_blank",e.click()}}function bu(){if(Vd.pocket){const e=document.createElement("a"),{url:t,title:n}=Vd.pocket.payload;e.href="https://getpocket.com/save?url=".concat(t,"&title=").concat(n),e.target="_blank",e.click()}}function vu(){if(Vd.buffer){const e=document.createElement("a"),{url:t,title:n}=Vd.buffer.payload;e.href="https://buffer.com/add?text=".concat(n,"&url=").concat(t),e.target="_blank",e.click()}}function yu(){if(Vd.digg){const e=document.createElement("a"),{url:t,title:n}=Vd.digg.payload;e.href="https://digg.com/submit?url=".concat(t,"&title=").concat(n),e.target="_blank",e.click()}}function xu(){if(Vd.mix){const e=document.createElement("a"),t=Vd.mix.payload;e.href="https://mix.com/add?url=".concat(t),e.target="_blank",e.click()}}function _u(){if(Vd.vkonate){const e=document.createElement("a"),{url:t,title:n,description:o,image:a}=Vd.vkonate.payload;e.href="https://vk.com/share.php?url=".concat(t,"&title=").concat(n,"&description=").concat(o,"&image=").concat(a,"&noparse=true"),e.target="_blank",e.click()}}function wu(){if(Vd.xing){const e=document.createElement("a"),t=Vd.xing.payload;e.href="https://www.xing.com/spi/shares/new?url=".concat(t),e.target="_blank",e.click()}}function Eu(){if(Vd.evernote){const e=document.createElement("a"),{url:t,title:n}=Vd.evernote.payload;e.href="https://www.evernote.com/clip.action?url=".concat(t,"&title=").concat(n),e.target="_blank",e.click()}}function ku(){if(Vd.hacker){const e=document.createElement("a"),{url:t,title:n}=Vd.hacker.payload;e.href="https://news.ycombinator.com/submitlink?u=".concat(t,"&t=").concat(n),e.target="_blank",e.click()}}function Cu(){if(Vd.flipboard){const e=document.createElement("a"),{url:t,title:n}=Vd.flipboard.payload;e.href="https://share.flipboard.com/bookmarklet/popout?url=".concat(t,"&title=").concat(n),e.target="_blank",e.click()}}function Su(){if(Vd.mename){const e=document.createElement("a"),t=Vd.mename.payload;e.href="https://www.meneame.net/submit.php?url=".concat(t),e.target="_blank",e.click()}}function Au(){if(Vd.blogger){const e=document.createElement("a"),{url:t,title:n,description:o}=Vd.blogger.payload;e.href="https://www.blogger.com/blog-this.g?u=".concat(t,"&n=").concat(n,"&t=").concat(o),e.target="_blank",e.click()}}function Tu(){if(Vd.odnoklassiniki){const e=document.createElement("a"),t=Vd.odnoklassiniki.payload;e.href="https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl=".concat(t),e.target="_blank",e.click()}}function Nu(){if(Vd.yahoo){const e=document.createElement("a"),t=Vd.yahoo.payload;e.href="http://compose.mail.yahoo.com/?body=".concat(t),e.target="_blank",e.click()}}function Lu(){if(Vd.google){const e=document.createElement("a"),{url:t,title:n,description:o}=Vd.google.payload;e.href="https://www.google.com/bookmarks/mark?op=add&bkmk=".concat(t,"&title=").concat(n,"&annotation=").concat(o),e.target="_blank",e.click()}}function Iu(){if(Vd.line){const e=document.createElement("a"),t=Vd.line.payload;e.href="https://social-plugins.line.me/lineit/share?url=".concat(t),e.target="_blank",e.click()}}function Mu(){if(Vd.renren){const e=document.createElement("a"),{url:t,title:n,description:o}=Vd.renren.payload;e.href="http://widget.renren.com/dialog/share?resourceUrl=".concat(t,"&srcUrl=").concat(t,"&title=").concat(n,"&description=").concat(o),e.target="_blank",e.click()}}function Ou(){if(Vd.weibo){const e=document.createElement("a"),{url:t,title:n}=Vd.weibo.payload;e.href="http://service.weibo.com/share/share.php?url=".concat(t,"&title=").concat(n,"&pic=&appkey="),e.target="_blank",e.click()}}function Bu(){if(Vd.baidu){const e=document.createElement("a"),{url:t,title:n}=Vd.baidu.payload;e.href="http://cang.baidu.com/do/add?it=".concat(n,"&iu=").concat(t,"&fr=ien#nw=1"),e.target="_blank",e.click()}}function Du(e){const t=de();if(t&&t._rootElement){const e=t._rootElement;t.getEditorState().read((()=>{const n=(0,i.vJ)();if((0,i.I2)(n)){var o,a;const i=n.getTextContent(),c=document.title,d=null===(o=document.getElementById("PAGE_DESCRIPTION"))||void 0===o?void 0:o.getAttribute("content");var r=c;d&&(r+="\n"+d),r+="\n"+i;const{start:u,end:p,content:g}=Pu(e),m=t._config.namespace;var l=window.location.href;l=l.concat("?scroll_to_node=true&namespace=".concat(encodeURIComponent(m),"&start=").concat(encodeURIComponent(u),"&end=").concat(encodeURIComponent(p),"&content=").concat(encodeURIComponent(g)));const h=(null===(a=document.getElementById("META_OG_IMAGE"))||void 0===a?void 0:a.getAttribute("content"))||"";var s=l+"\n"+(d?"\n"+d:"")+"\n"+i;Vd.facebook={type:"article",payload:l},Vd.x={type:"article",payload:{url:l,text:r}},Vd.reddit={type:"article",payload:{url:l,title:c}},Vd.linkedin={type:"article",payload:l},Vd.email={type:"article",payload:{subject:c,body:s}},Vd.link={type:"article",payload:l},Vd.pinterest={type:"article",payload:{url:l,title:c,image:h}},Vd["whats-app"]={type:"article",payload:{url:l,title:c,image:h}},Vd.telegram={type:"article",payload:{url:l,title:c}},Vd.tumblr={type:"article",payload:{url:l,title:c,description:d||""}},Vd.pocket={type:"article",payload:{url:l,title:c}},Vd.buffer={type:"article",payload:{url:l,title:c}},Vd.digg={type:"article",payload:{url:l,title:c}},Vd.mix={type:"article",payload:l},Vd.vkonate={type:"article",payload:{url:l,title:c,description:d||"",image:h}},Vd.xing={type:"article",payload:l},Vd.evernote={type:"article",payload:{url:l,title:c}},Vd.hacker={type:"article",payload:{url:l,title:c}},Vd.flipboard={type:"article",payload:{url:l,title:c}},Vd.mename={type:"article",payload:l},Vd.blogger={type:"article",payload:{url:l,title:c,description:d||""}},Vd.odnoklassiniki={type:"article",payload:l},Vd.yahoo={type:"article",payload:l},Vd.google={type:"article",payload:{url:l,title:c,description:d||""}},Vd.renren={type:"article",payload:{url:l,title:c,description:d||""}},Vd.weibo={type:"article",payload:{url:l,title:c}},Vd.baidu={type:"article",payload:{url:l,title:c}},Vd.line={type:"article",payload:l}}}))}}function Ru(){const e=de();e&&e.getEditorState().read((()=>{const t=new URL(window.location.href);t.hash=e._config.namespace;const n=t.href,o=(0,i.vJ)();if((0,i.I2)(o)){const e=o.getTextContent();var a="";const t=o.getNodes();var r=void 0;for(let e of t){const t=Ko(e,(e=>(0,i.hV)(e.getParent())));if(t){r=t;break}}if(r)for(var l=r;l&&a.length<1e3;)a=l.getTextContent()+a,l=l.getPreviousSibling();const s=pe()["ai-chat-editor"];s&&(vd(),s.dispatchCommand(Vc,{url:n,selection:e,context:a}))}}))}function zu(e,t){const n=[];var o,a,i,r=0,l=[t=t||document.body],s=document.createRange();s.setStart(t,0),s.collapse(!0);for(var c=!1,d=!1;a=l.pop();)if(3===a.nodeType){if(i=r+a.length,e.start>=r&&e.start<=i&&(s.setStart(a,e.start-r),n.push({node:a,start:e.start-r}),c=!0),e.end>=r&&e.end<=i){s.setEnd(a,e.end-r),n.push({node:a,end:e.end-r}),d=!0;break}c&&!d&&n.push({node:a}),r=i}else for(o=a.childNodes.length;o--;)l.push(a.childNodes[o]);return{range:s,nodes:n}}function Pu(e){e=e||document.body;var t=window.getSelection(),n=null!=t&&t.rangeCount?t.getRangeAt(0).cloneRange():document.createRange(),o=n.startContainer,a=n.startOffset,i={content:n.toString()};return n.selectNodeContents(e),n.setEnd(o,a),i.start=n.toString().length,i.end=i.start+i.content.length,i}function Fu(e,t){document.addEventListener("HIDE_OPEN_POPOVERS",eu),Uu();const n=document.getElementById(ad);if(n){n.addEventListener("click",_d),document.addEventListener("click",ou);const e=n.querySelector('button[data-dispatch="COMMENT_ARTICLE_COMMAND"]'),t=n.querySelector('button[data-dispatch="ANNOTATE_ARTICLE_COMMAND"]'),o=n.querySelector('button[data-dispatch="COPY_LINK_SELECTION"]'),a=n.querySelector('button[data-dispatch="ASK_AI_SELECTION"]'),i=n.querySelector("#share-lex-selection-button");e&&e.addEventListener("click",au),t&&t.addEventListener("click",iu),o&&o.addEventListener("click",ru),i&&(Oe()?i.addEventListener("touchstart",Du):i.addEventListener("mousedown",Du)),a&&a.addEventListener("click",Ru)}const o=[e.registerCommand(i.Mv,(()=>{vd();const n=(0,i.vJ)();if((0,i.I2)(n)&&n.getNodes().length>=1&&!n.isCollapsed()){const n=document.getSelection(),o=e.getRootElement();if(o&&n&&n.rangeCount>0&&se()===e._config.namespace){const a=Ie(n,o);if(Xc())return Xc().style.top="calc(".concat(a.top.toString().concat("px")+" + var(--safe-area-inset-top-0px) + var(--virtual-keyboard-height)",")"),Xc().style.left=((a.left+a.right)/2).toString().concat("px"),md(),function(e,t,n,o){md(),bd=Boolean("mobile"===Q());const a=/(?:\b(MS)?IE\s+|\bTrident\/7\.0;.*\s+rv:|\bEdge\/)(\d+)/.test(navigator.userAgent),i=document.getElementById(ad);if(i&&n===t._config.namespace){if(o){const e=i.querySelector('button[data-comment-button][data-dispatch="COMMENT_ARTICLE_COMMAND"]');e&&e.setAttribute("disabled","")}i.style.display="flex";const n=function(){const e=document.getSelection(),n=t.getRootElement();if(!(e&&n&&e.rangeCount>0))return;{const t=Ie(e,n);Xc()&&(this.style.top="calc(".concat(bd||a?t.top.toFixed(0).concat("px")+" + ".concat(t.height.toFixed(0).concat("px"))+" + 3rem + var(--safe-area-inset-top-0px) + var(--virtual-keyboard-height)":t.top.toString().concat("px")+" + var(--safe-area-inset-top-0px) + var(--virtual-keyboard-height)",")"),this.style.left=((t.left+t.right)/2).toString().concat("px"))}const o={placement:"top",middleware:[(0,ga.cY)(6),(0,ma.BN)(),(0,ma.UU)()]};(0,ma.rD)(this,i,o).then((e=>{let{x:t,y:n}=e;const o={left:"".concat(t,"px"),top:"calc(".concat(n.toString().concat("px")+" + var(--safe-area-inset-top-0px) + var(--virtual-keyboard-height)",")"),opacity:"1"};Object.assign(i.style,o)}))}.bind(e);n();const r=(0,ma.ll)(e,i,n);Gc[ad]&&(Gc[ad](),delete Gc[ad]),Gc[ad]=r}else vd()}(Xc(),e,e._config.namespace,t),!0}}return vd(),!1}),i.jZ),e.registerCommand(i.d8,(e=>{const t=(0,i.vJ)();return!!(!(0,i.I2)(t)||t.getNodes().length<1||t.isCollapsed())&&(vd(),!0)}),i.jZ),function(){document.removeEventListener("click",vd)},e.registerCommand(Pc,(()=>{const t=e._rootElement,n=(0,i.vJ)()||(0,i.S1)();if((0,i.I2)(n)&&t){const e=t.classList.contains("lexical-wrapper")?t:t.closest("div.lexical-wrapper"),n=pe()["annotate-editor"];if(n&&n.isEditable()&&e){const o=e.id,a=document.getElementById("annotate-editor");if(a&&a.closest("form")){const e=document.getElementById("annotation-start"),a=document.getElementById("annotation-end"),i=document.getElementById("annotation-content"),r=document.getElementById("annotation-reference-id"),l=Pu(t);e&&a&&i&&r&&o.startsWith("id_")&&l.content.length>=1&&Number.isInteger(l.start)&&Number.isInteger(l.end)&&(e.value=String(l.start),a.value=String(l.end),i.value=String(l.content),r.value=String(o.slice(3)),vd(),n.dispatchCommand(Fc,void 0))}}else n&&n.isEditable()||document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"You must be logged in to add an annotation to the article."}}))}return!1}),i.jZ),e.registerCommand(qc,(()=>{const t=e._rootElement,n=(0,i.vJ)();if((0,i.I2)(n)&&t){const n=Pu(t);var o=window.location.href;o=o.concat("?scroll_to_node=true&namespace=".concat(encodeURIComponent(e._config.namespace),"&start=").concat(encodeURIComponent(n.start),"&end=").concat(encodeURIComponent(n.end),"&content=").concat(encodeURIComponent(n.content))),navigator.clipboard.writeText(o).then((()=>{vd(),document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"success",message:"Successfully copied link URL to clipboard!"}}))})).catch((e=>{console.error(e),document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Something went wrong copying the link URL to the clipboard."}}))}))}return!1}),i.jZ),e.registerCommand(Hc,(t=>{const n=e._rootElement;if(n){const{range:e,nodes:o}=zu(t,n);if(o.length){const t=o[0].node.parentElement;t&&t.scrollIntoView();const n=new Highlight(e);n.type="highlight",CSS.highlights.set("temp-highlight",n),setTimeout((()=>{CSS.highlights.delete("temp-highlight")}),4e3)}return!0}return!1}),i.jZ)];return t||o.push(e.registerCommand(Rc,(()=>{const t=(0,i.vJ)()||(0,i.S1)();if((0,i.I2)(t)){const t=aa(e),n=pe();if(n["comment-editor"]&&n["comment-editor"].isEditable()&&t){vd();const e=document.getElementById("hide-comment-hide-show");e&&e.hasAttribute("hidden")&&e.removeAttribute("hidden"),n["comment-editor"].dispatchCommand(zc,t)}else n["comment-editor"]&&n["comment-editor"].isEditable()||document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"You must be logged in to add a comment to the article."}}))}return!1}),i.jZ)),Po(...o)}const Hu={ImageNode:Dn,AudioNode:Et,VideoNode:At,YouTubeNode:pt,NewsNode:ct,TwitterNode:bo,TikTokNode:ko,InstagramNode:ro,HTMLNode:Zn,TableNode:vi,MathNode:fl},qu={ImageNode:"Image",AudioNode:"Audio Element",VideoNode:"Video Element",YouTubeNode:"YouTube Video",NewsNode:"News Link",TwitterNode:"Twitter Embed",TikTokNode:"TikTok Embed",InstagramNode:"Instagram Embed",HTMLNode:"HTML node",TableNode:"Table",MathNode:"Block Math node"},ju=[{count:1,nodes:["ImageNode","AudioNode","VideoNode","YouTubeNode","NewsNode","TwitterNode","TikTokNode","InstagramNode"]},{count:1,nodes:["HTMLNode","TableNode","MathNode"]}],Ku={};function Wu(e,t,n,o){return a=>{for(const[r,l]of a)"updated"!==l&&e.update((()=>{const e=[];for(let t of o){const n=Hu[t];"MathNode"===t?e.push(...(0,i.zl)(n).filter((e=>!e.isInline()))):e.push(...(0,i.zl)(n))}if(e.length>n){var a=o.map((e=>qu[e])).slice(0,o.length-1).join(", ");a+=", or "+qu[o[o.length-1]];const t=e.sort(((e,t)=>parseInt(t.getKey())-parseInt(e.getKey())));for(var r=e.length-n;r>0;)t[r].remove(),r-=1;l="Only ".concat(n," of ").concat(a," nodes are allowed in the comments."),document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:l}}))}else e.length===n?o.forEach((e=>{Ku[t][e]=!0})):o.forEach((e=>{Ku[t][e]=!1}));var l}))}}function Ju(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ju;const n=[e.registerCommand(zc,(t=>{const n=La(),o=sa(JSON.parse(t).nodes);n.append(...o);const a=(0,i.Ni)();return a&&e.isEditable()&&a.append(n),e._rootElement&&(e._rootElement.scrollIntoView(),e.focus()),!0}),i.jZ)],o=e._config.namespace;Ku[o]={ImageNode:!1,AudioNode:!1,VideoNode:!1,YouTubeNode:!1,NewsNode:!1,TwitterNode:!1,TikTokNode:!1,InstagramNode:!1,HTMLNode:!1,TableNode:!1,MathNode:!1};for(let a=0;a<t.length;a++){const i=t[a].nodes,r=t[a].count;for(let t=0;t<i.length;t++){const a=i[t],l=Hu[a];e.hasNode(l)&&n.push(e.registerMutationListener(l,Wu(e,o,r,i)))}}return n.push(e.registerCommand(jc,(()=>{var t;const n=document.getElementById(o)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));if(n){const{imageButton:e,gifButton:t,audioButton:a,videoButton:i,embedNews:r,embedYoutube:l,embedX:s,embedTikTok:c,embedInstagram:d,embedReddit:u,embedMediaButton:p,codeButton:g,codeBlockButton:m,mathButton:h,tableButton:f,htmlButton:b}=Me(n),v=Ku[o];Object.entries(v).forEach((n=>{let[o,u]=n;switch(o){case"ImageNode":u&&e&&!e.hasAttribute("diabled")&&e.setAttribute("disabled",""),u&&t&&!t.hasAttribute("diabled")&&t.setAttribute("disabled","");break;case"AudioNode":u&&a&&!a.hasAttribute("diabled")&&a.setAttribute("disabled","");break;case"VideoNode":u&&i&&!i.hasAttribute("diabled")&&i.setAttribute("disabled","");break;case"YouTubeNode":u&&l&&!l.hasAttribute("diabled")&&l.setAttribute("disabled","");break;case"NewsNode":u&&r&&!r.hasAttribute("diabled")&&r.setAttribute("disabled","");break;case"TwitterNode":u&&s&&!s.hasAttribute("diabled")&&s.setAttribute("disabled","");break;case"TikTokNode":u&&c&&!c.hasAttribute("diabled")&&c.setAttribute("disabled","");break;case"InstagramNode":u&&d&&!d.hasAttribute("diabled")&&d.setAttribute("disabled","");break;case"HTMLNode":u&&b&&!b.hasAttribute("diabled")&&b.setAttribute("disabled","");break;case"TableNode":u&&f&&!f.hasAttribute("diabled")&&f.setAttribute("disabled","");break;case"MathNode":u&&h&&!h.hasAttribute("diabled")&&h.setAttribute("disabled","")}}))}return!1}),i.jZ)),n.push((()=>{delete Ku[o]})),Po(...n)}function Uu(){const e=document.getElementById("share-facebook-button-lex-menu");e&&e.addEventListener("click",lu);const t=document.getElementById("share-x-button-lex-menu");t&&t.addEventListener("click",su);const n=document.getElementById("share-reddit-button-lex-menu");n&&n.addEventListener("click",cu);const o=document.getElementById("share-linkedin-button-lex-menu");o&&o.addEventListener("click",du);const a=document.getElementById("share-email-button-lex-menu");a&&a.addEventListener("click",uu);const i=document.getElementById("copy-link-button-lex-menu");i&&i.addEventListener("click",pu);const r=document.getElementById("share-pinterest-button-lex-menu");r&&r.addEventListener("click",gu);const l=document.getElementById("share-WhatsApp-button-lex-menu");l&&l.addEventListener("click",mu);const s=document.getElementById("share-Telegram-button-lex-menu");s&&s.addEventListener("click",hu);const c=document.getElementById("share-Tumblr-button-lex-menu");c&&c.addEventListener("click",fu);const d=document.getElementById("share-Pocket-button-lex-menu");d&&d.addEventListener("click",bu);const u=document.getElementById("share-Buffer-button-lex-menu");u&&u.addEventListener("click",vu);const p=document.getElementById("share-Digg-button-lex-menu");p&&p.addEventListener("click",yu);const g=document.getElementById("share-Mix-button-lex-menu");g&&g.addEventListener("click",xu);const m=document.getElementById("share-VKontakte-button-lex-menu");m&&m.addEventListener("click",_u);const h=document.getElementById("share-XING-button-lex-menu");h&&h.addEventListener("click",wu);const f=document.getElementById("share-Evernote-button-lex-menu");f&&f.addEventListener("click",Eu);const b=document.getElementById("share-HackerNews-button-lex-menu");b&&b.addEventListener("click",ku);const v=document.getElementById("share-Flipboard-button-lex-menu");v&&v.addEventListener("click",Cu);const y=document.getElementById("share-meneame-button-lex-menu");y&&y.addEventListener("click",Su);const x=document.getElementById("share-blogger-button-lex-menu");x&&x.addEventListener("click",Au);const _=document.getElementById("share-Odnoklassniki-button-lex-menu");_&&_.addEventListener("click",Tu);const w=document.getElementById("share-yahoo_mai-button-lex-menu");w&&w.addEventListener("click",Nu);const E=document.getElementById("share-google_bookmarks-button-lex-menu");E&&E.addEventListener("click",Lu);const k=document.getElementById("share-line-button-lex-menu");k&&k.addEventListener("click",Iu);const C=document.getElementById("share-renren-button-lex-menu");C&&C.addEventListener("click",Mu);const S=document.getElementById("share-weibo-button-lex-menu");S&&S.addEventListener("click",Ou);const A=document.getElementById("share-baidu-button-lex-menu");A&&A.addEventListener("click",Bu)}function Vu(e){const t=e.querySelector("div.comment-body"),n=e.querySelector("img[data-profile-picture]"),o=e.querySelector("button.show-comment");o&&t&&n&&(n.setAttribute("hidden",""),o.removeAttribute("hidden"),t.setAttribute("hidden",""),e.setAttribute("data-hidden","true"))}function Gu(e){const t=e.querySelector("div.comment-body"),n=e.querySelector("img[data-profile-picture]"),o=e.querySelector("button.show-comment");o&&t&&n&&(o.setAttribute("hidden",""),n.removeAttribute("hidden"),t.removeAttribute("hidden"),e.setAttribute("data-hidden","false"))}function Xu(e){const t=this.closest("div[data-comment-tree-wrapper]");t&&"false"===t.getAttribute("data-hidden")&&Vu(t)}function Yu(){const e=this.closest("div[data-comment-tree-wrapper]");e&&"true"===e.getAttribute("data-hidden")&&Gu(e)}function Zu(){const e=this.closest("div[data-comment-tree-wrapper]");e&&"true"===e.getAttribute("data-hidden")?Gu(e):e&&"false"===e.getAttribute("data-hidden")&&Vu(e)}function $u(e,t,n){return function(){e.getEditorState().read((()=>{var e,o;const a=(0,i.Nv)(),r=document.title+" - "+n.concat("'s Comment"),l=null===(e=document.getElementById("PAGE_DESCRIPTION"))||void 0===e?void 0:e.getAttribute("content");var s=r;l&&(s+="\n"+l),s+="\n"+a;const c=new URL(window.location.href);c.hash=t;var d=c.href;const u=(null===(o=document.getElementById("META_OG_IMAGE"))||void 0===o?void 0:o.getAttribute("content"))||"";var p=d+"\n"+(l?"\n"+l:"")+"\n"+a;Vd.facebook={type:"article",payload:d},Vd.x={type:"article",payload:{url:d,text:s}},Vd.reddit={type:"article",payload:{url:d,title:r}},Vd.linkedin={type:"article",payload:d},Vd.email={type:"article",payload:{subject:r,body:p}},Vd.link={type:"article",payload:d},Vd.pinterest={type:"article",payload:{url:d,title:r,image:u}},Vd["whats-app"]={type:"article",payload:{url:d,title:r,image:u}},Vd.telegram={type:"article",payload:{url:d,title:r}},Vd.tumblr={type:"article",payload:{url:d,title:r,description:l||""}},Vd.pocket={type:"article",payload:{url:d,title:r}},Vd.buffer={type:"article",payload:{url:d,title:r}},Vd.digg={type:"article",payload:{url:d,title:r}},Vd.mix={type:"article",payload:d},Vd.vkonate={type:"article",payload:{url:d,title:r,description:l||"",image:u}},Vd.xing={type:"article",payload:d},Vd.evernote={type:"article",payload:{url:d,title:r}},Vd.hacker={type:"article",payload:{url:d,title:r}},Vd.flipboard={type:"article",payload:{url:d,title:r}},Vd.mename={type:"article",payload:d},Vd.blogger={type:"article",payload:{url:d,title:r,description:l||""}},Vd.odnoklassiniki={type:"article",payload:d},Vd.yahoo={type:"article",payload:d},Vd.google={type:"article",payload:{url:d,title:r,description:l||""}},Vd.renren={type:"article",payload:{url:d,title:r,description:l||""}},Vd.weibo={type:"article",payload:{url:d,title:r}},Vd.baidu={type:"article",payload:{url:d,title:r}},Vd.line={type:"article",payload:d}}))}}function Qu(e){Uu();const t=e._rootElement;if(t){const n=t.closest("div[data-comment-tree-wrapper]");if(n){const t=n.id,o=n.querySelector("a[data-username]");window.commentObserver&&window.commentObserver.observe(n);const a=n.querySelector("div.hide-comment-summary");a&&a.addEventListener("click",Zu);const i=n.querySelector("div.comment-sidebar");i&&i.addEventListener("click",Xu);const r=n.querySelector("button.show-comment");r&&r.addEventListener("click",Yu);const l=n.querySelector("button[data-share-button]");l&&o&&(Oe()?l.addEventListener("touchstart",$u(e,t,o.innerText.trim())):l.addEventListener("mousedown",$u(e,t,o.innerText.trim())))}}return()=>{}}function ep(){const e=this.querySelector("svg"),t=this.closest("div[data-annotation]");if(e&&t){const n=t.querySelector("div[data-annotation-content]");n&&(""===e.style.cssText?(e.style.cssText="transform: rotate(180deg);",n.setAttribute("hidden","")):(e.style.cssText="",n.removeAttribute("hidden")))}}function tp(e){return function(){if(e.length){const t=e[0].node.parentElement;t&&t.scrollIntoView()}}}var np;function op(e){if("insert-previous-lexical"===e.detail.el.id){const e=de(),t=document.getElementById("upload-prev-lexical-state-out"),n=document.getElementById("insert-previous-lexical"),o=document.querySelector("#insert-previous-lexical form");n&&t&&o&&e&&(t.innerHTML="",Ed(t,"full"),document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:t}})),o.addEventListener("submit",function(e){return function(t){const n=document.getElementById("insert-previous-lexical");if(t.preventDefault(),t.stopPropagation(),np&&n){const t=e.parseEditorState(np);e.setEditorState(t),me(n)}}}(e)),document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:n}})))}}function ap(){const e=document.getElementById("upload-prev-lexical-state-out");if(e){console.log("onAfterReloadHistoryDialogOpen");const t=e.querySelector("div.lexical-wrapper");if(t&&np){const e=t.id,n=pe()[e];if(n){const e=n.parseEditorState(np);n.setEditorState(e)}}}}function ip(){const e=document.querySelector('div.lexical-wrapper div[data-rich-text-editor][data-type="full"][data-editable="true"]');if(e){const t=e.id,n=pe()[t];if(n){const e=JSON.stringify(n.toJSON()),t="frankmbrown-"+window.location.pathname+"-new";window.localStorage.setItem(t,e)}}}const rp=1e3;function lp(e){return Po(e.registerCommand(i.WW,(t=>{const n=e.getRootElement();if(!n)return!1;const o=n.closest("div.lexical-wrapper");if(!o)return!1;const a=_e(o,"REDO_COMMAND",void 0);return a&&(t?ye(a):ve(a)),e.dispatchCommand(jc,void 0),!1}),i.Ac),e.registerCommand(i.Kf,(t=>{const n=e.getRootElement();if(!n)return!1;const o=n.closest("div.lexical-wrapper");if(!o)return!1;const a=_e(o,"UNDO_COMMAND",void 0);return a&&(t?ye(a):ve(a)),e.dispatchCommand(jc,void 0),!1}),i.Ac),function(e,t,n){const o=function(e,t){let n=Date.now(),o=up;return(a,r,l,s,c,d)=>{const u=Date.now();if(d.has("historic"))return o=up,n=u,dp;const p=function(e,t,n,o,a){if(null===e||0===n.size&&0===o.size&&!a)return up;const r=t._selection,l=e._selection;if(a)return pp;if(!((0,i.I2)(r)&&(0,i.I2)(l)&&l.isCollapsed()&&r.isCollapsed()))return up;const s=function(e,t,n){const o=e._nodeMap,a=[];for(const e of t){const t=o.get(e);void 0!==t&&a.push(t)}for(const[e,t]of n){if(!t)continue;const n=o.get(e);void 0===n||(0,i.hV)(n)||a.push(n)}return a}(t,n,o);if(0===s.length)return up;if(s.length>1){const n=t._nodeMap,o=n.get(r.anchor.key),a=n.get(l.anchor.key);return o&&a&&!e._nodeMap.has(o.__key)&&(0,i.kF)(o)&&1===o.__text.length&&1===r.anchor.offset?gp:up}const c=s[0],d=e._nodeMap.get(c.__key);if(!(0,i.kF)(d)||!(0,i.kF)(c)||d.__mode!==c.__mode)return up;const u=d.__text,p=c.__text;if(u===p)return up;const g=r.anchor,m=l.anchor;if(g.key!==m.key||"text"!==g.type)return up;const h=g.offset,f=m.offset,b=p.length-u.length;return 1===b&&f===h-1?gp:-1===b&&f===h+1?mp:-1===b&&f===h?hp:up}(a,r,s,c,e.isComposing()),g=(()=>{const g=null===l||l.editor===e,m=d.has("history-push");if(!m&&g&&d.has("history-merge"))return sp;if(null===a)return cp;const h=r._selection;return s.size>0||c.size>0?!1===m&&p!==up&&p===o&&u<n+t&&g||1===s.size&&function(e,t,n){const o=t._nodeMap.get(e),a=n._nodeMap.get(e),r=t._selection,l=n._selection;let s=!1;return(0,i.I2)(r)&&(0,i.I2)(l)&&(s="element"===r.anchor.type&&"element"===r.focus.type&&"text"===l.anchor.type&&"text"===l.focus.type),!(s||!(0,i.kF)(o)||!(0,i.kF)(a))&&(o.__type===a.__type&&o.__text===a.__text&&o.__mode===a.__mode&&o.__detail===a.__detail&&o.__style===a.__style&&o.__format===a.__format&&o.__parent===a.__parent)}(Array.from(s)[0],a,r)?sp:cp:null!==h?sp:dp})();return n=u,o=p,g}}(e,n),a=n=>{let{editorState:a,prevEditorState:r,dirtyLeaves:l,dirtyElements:s,tags:c}=n;const d=t.current,u=t.redoStack,p=t.undoStack,g=null===d?null:d.editorState;if(null!==d&&a===g)return;const m=o(r,a,d,l,s,c);if(m===cp)0!==u.length&&(t.redoStack=[],e.dispatchCommand(i.WW,!1)),null!==d&&(p.push({...d}),e.dispatchCommand(i.Kf,!0));else if(m===dp)return;t.current={editor:e,editorState:a}},r=Po(e.registerCommand(i.ZK,(()=>(function(e,t){const n=t.redoStack,o=t.undoStack;if(0!==o.length){const a=t.current,r=o.pop();null!==a&&(n.push(a),e.dispatchCommand(i.WW,!0)),0===o.length&&e.dispatchCommand(i.Kf,!1),t.current=r||null,r&&r.editor.setEditorState(r.editorState,{tag:"historic"})}}(e,t),!0)),i.jZ),e.registerCommand(i.V3,(()=>(function(e,t){const n=t.redoStack,o=t.undoStack;if(0!==n.length){const a=t.current;null!==a&&(o.push(a),e.dispatchCommand(i.Kf,!0));const r=n.pop();0===n.length&&e.dispatchCommand(i.WW,!1),t.current=r||null,r&&r.editor.setEditorState(r.editorState,{tag:"historic"})}}(e,t),!0)),i.jZ),e.registerCommand(i.SK,(e=>(!0===e&&fp(t),!1)),i.jZ),e.registerCommand(i.t5,(()=>(fp(t),e.dispatchCommand(i.WW,!1),e.dispatchCommand(i.Kf,!1),!0)),i.jZ),e.registerUpdateListener(a)),l=e.registerUpdateListener(a);return()=>{r(),l()}}(e,{current:null,redoStack:[],undoStack:[]},rp))}const sp=0,cp=1,dp=2,up=0,pp=1,gp=2,mp=3,hp=4;function fp(e){e.undoStack=[],e.redoStack=[],e.current=null}function bp(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vp(e){let t=1,n=e.getParent();for(;null!=n;){if(zp(n)){const e=n.getParent();if(Wp(e)){t++,n=e.getParent();continue}throw Error("A ListItemNode must have a ListNode for a parent.")}return t}return t}function yp(e){let t=e.getParent();if(!Wp(t))throw Error("A ListItemNode must have a ListNode for a parent.");let n=t;for(;null!==n;)n=n.getParent(),Wp(n)&&(t=n);return t}function xp(e){let t=[];const n=e.getChildren().filter(zp);for(let e=0;e<n.length;e++){const o=n[e],a=o.getFirstChild();Wp(a)?t=t.concat(xp(a)):t.push(o)}return t}function _p(e){return zp(e)&&Wp(e.getFirstChild())}function wp(e){return Rp().append(e)}function Ep(e,t){return zp(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function kp(e){const t=e.getParent();let n=1;if(null!=t){if(!Wp(t))throw Error("$getListItemValue: list node is not parent of list item node");n=t.getStart()}const o=e.getPreviousSiblings();for(let e=0;e<o.length;e++){const t=o[e];zp(t)&&!Wp(t.getFirstChild())&&n++}return n}function Cp(e,t){e.update((()=>{const e=(0,i.vJ)();if((0,i.I2)(e)||(0,i.zq)(e)){const n=e.getNodes(),o=e.anchor.getNode(),a=o.getParent();if(Ep(o,n)){const e=Kp(t);if((0,i.Iq)(a)){o.replace(e);const t=Rp();(0,i.ff)(o)&&(t.setFormat(o.getFormatType()),t.setIndent(o.getIndent())),e.append(t)}else if(zp(o)){const t=o.getParentOrThrow();Sp(e,t.getChildren()),t.replace(e)}return}{const e=new Set;for(let o=0;o<n.length;o++){const a=n[o];if(!(0,i.ff)(a)||!a.isEmpty()||zp(a)||e.has(a.getKey())){if((0,i.jG)(a)){let n=a.getParent();for(;null!=n;){const o=n.getKey();if(Wp(n)){if(!e.has(o)){const a=Kp(t);Sp(a,n.getChildren()),n.replace(a),Np(a),e.add(o)}break}{const a=n.getParent();if((0,i.Iq)(a)&&!e.has(o)){e.add(o),Ap(n,t);break}n=a}}}}else Ap(a,t)}}}}))}function Sp(e,t){e.splice(e.getChildrenSize(),0,t)}function Ap(e,t){if(Wp(e))return e;const n=e.getPreviousSibling(),o=e.getNextSibling(),a=Rp();if(a.setFormat(e.getFormatType()),a.setIndent(e.getIndent()),Sp(a,e.getChildren()),Wp(n)&&t===n.getListType())return n.append(a),e.remove(),Wp(o)&&t===o.getListType()&&(Sp(n,o.getChildren()),o.remove()),n;if(Wp(o)&&t===o.getListType())return o.getFirstChildOrThrow().insertBefore(a),e.remove(),o;{const n=Kp(t);return n.append(a),e.replace(n),Np(n),n}}function Tp(e,t){const n=e.getLastChild(),o=t.getFirstChild();n&&o&&_p(n)&&_p(o)&&(Tp(n.getFirstChild(),o.getFirstChild()),o.remove());const a=t.getChildren();a.length>0&&(e.append(...a),Np(e)),t.remove()}function Np(e,t){const n=t||e.getChildren();if(void 0!==n)for(let e=0;e<n.length;e++){const t=n[e];if(zp(t)){const e=t.getValue(),n=kp(t);e!==n&&t.setValue(n)}}}function Lp(e){const t=new Set;if(_p(e)||t.has(e.getKey()))return;const n=e.getParent(),o=e.getNextSibling(),a=e.getPreviousSibling();if(_p(o)&&_p(a)){const n=a.getFirstChild();if(Wp(n)){n.append(e);const a=o.getFirstChild();Wp(a)&&(Sp(n,a.getChildren()),o.remove(),t.add(o.getKey())),Np(n)}}else if(_p(o)){const t=o.getFirstChild();if(Wp(t)){const n=t.getFirstChild();null!==n&&n.insertBefore(e),Np(t)}}else if(_p(a)){const t=a.getFirstChild();Wp(t)&&(t.append(e),Np(t))}else if(Wp(n)){const t=Rp(),i=Kp(n.getListType());t.append(i),i.append(e),a?a.insertAfter(t):o?o.insertBefore(t):n.append(t),Np(i)}Wp(n)&&Np(n)}function Ip(e){if(_p(e))return;const t=e.getParent(),n=t?t.getParent():void 0,o=n?n.getParent():void 0;if(Wp(o)&&zp(n)&&Wp(t)){const a=t?t.getFirstChild():void 0,i=t?t.getLastChild():void 0;if(e.is(a))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(i))n.insertAfter(e),t.isEmpty()&&n.remove();else{const o=t.getListType(),a=Rp(),i=Kp(o);a.append(i),e.getPreviousSiblings().forEach((e=>i.append(e)));const r=Rp(),l=Kp(o);r.append(l),Sp(l,e.getNextSiblings()),n.insertBefore(a),n.insertAfter(r),n.replace(e)}Np(t),Np(o)}}class Mp extends i.fG{static getType(){return"listitem"}static clone(e){return new Mp(e.__value,e.__checked,e.__key)}constructor(e,t,n){super(n),bp(this,"__version",1),this.__value=void 0===e?1:e,this.__checked=t,this.__format=0}createDOM(e){const t=document.createElement("li"),n=this.getParent();return Wp(n)&&"check"===n.getListType()&&Bp(t,this,null),t.value=this.__value,Op(t,e.theme,this),t.setAttribute("data-v",String(1)),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}updateDOM(e,t,n){const o=this.getParent();return Wp(o)&&"check"===o.getListType()&&Bp(t,this,e),t.value=this.__value,Op(t,n.theme,this),!1}static transform(){return e=>{const t=e.getParent();Wp(t)&&(Np(t),"check"!==t.getListType()&&null!=e.getChecked()&&e.setChecked(void 0))}}static importDOM(){return{li:e=>({conversion:Dp,priority:0})}}static importJSON(e){const t=Rp();return t.setChecked(e.checked),t.setValue(e.value),t.setFormat(e.format),t.setDirection(e.direction),t}exportDOM(e){const t=this.createDOM(e._config);return t.style.textAlign=this.getFormatType(),t.setAttribute("data-v",String(1)),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(){for(let e=0;e<arguments.length;e++){const t=e<0||arguments.length<=e?void 0:arguments[e];if((0,i.ff)(t)&&this.canMergeWith(t)){const e=t.getChildren();this.append(...e),t.remove()}else super.append(t)}return this}replace(e,t){if(zp(e))return super.replace(e);this.setIndent(0);const n=this.getParentOrThrow();if(!Wp(n))return e;if(n.__first===this.getKey())n.insertBefore(e);else if(n.__last===this.getKey())n.insertAfter(e);else{const t=Kp(n.getListType());let o=this.getNextSibling();for(;o;){const e=o;o=o.getNextSibling(),t.append(e)}n.insertAfter(e),e.insertAfter(t)}return t&&this.getChildren().forEach((t=>{e.append(t)})),this.remove(),0===n.getChildrenSize()&&n.remove(),e}insertAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getParentOrThrow();if(!Wp(n))throw Error("insertAfter: list node is not parent of list item node");const o=this.getNextSiblings();if(zp(e)){const n=super.insertAfter(e,t),o=e.getParentOrThrow();return Wp(o)&&Np(o),n}if(Wp(e)){let n=e;const o=e.getChildren();for(let e=o.length-1;e>=0;e--)n=o[e],this.insertAfter(n,t);return n}if(n.insertAfter(e,t),0!==o.length){const a=Kp(n.getListType());o.forEach((e=>a.append(e))),e.insertAfter(a,t)}return e}remove(e){const t=this.getPreviousSibling(),n=this.getNextSibling();if(super.remove(e),t&&n&&_p(t)&&_p(n))Tp(t.getFirstChild(),n.getFirstChild()),n.remove();else if(n){const e=n.getParent();Wp(e)&&Np(e)}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Rp(null==this.__checked&&void 0);return this.insertAfter(n,t),n}collapseAtStart(e){const t=(0,i.lJ)();this.getChildren().forEach((e=>t.append(e)));const n=this.getParentOrThrow(),o=n.getParentOrThrow(),a=zp(o);if(1===n.getChildrenSize())if(a)n.remove(),o.select();else{n.insertBefore(t),n.remove();const o=e.anchor,a=e.focus,i=t.getKey();"element"===o.type&&o.getNode().is(this)&&o.set(i,o.offset,"element"),"element"===a.type&&a.getNode().is(this)&&a.set(i,a.offset,"element")}else n.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getChecked(){return this.getLatest().__checked}setChecked(e){this.getWritable().__checked=e}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){const e=this.getParent();if(null===e)return this.getLatest().__indent;let t=e.getParentOrThrow(),n=0;for(;zp(t);)t=t.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(e){if(!("number"==typeof e&&e>-1))throw Error("Invalid indent value.");let t=this.getIndent();for(;t!==e;)t<e?(Lp(this),t++):(Ip(this),t--);return this}insertBefore(e){if(zp(e)){const e=this.getParentOrThrow();Wp(e)&&Np(e,this.getNextSiblings())}return super.insertBefore(e)}canInsertAfter(e){return zp(e)}canReplaceWith(e){return zp(e)}canMergeWith(e){return(0,i.bS)(e)||zp(e)}extractWithChild(e,t){if(!(0,i.I2)(t))return!1;const n=t.anchor.getNode(),o=t.focus.getNode();return this.isParentOf(n)&&this.isParentOf(o)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return Kp("bullet")}setFormat(e){return this.getWritable().__format=0,this}}function Op(e,t,n){const o=[],a=[],i=t.list,r=i?i.listitem:void 0;let l;if(i&&i.nested&&(l=i.nested.listitem),void 0!==r){const e=r.split(" ");o.push(...e)}if(i){const e=n.getParent(),t=Wp(e)&&"check"===e.getListType(),r=n.getChecked();t&&!r||a.push(i.listitemUnchecked),t&&r||a.push(i.listitemChecked),t&&o.push(r?i.listitemChecked:i.listitemUnchecked)}if(void 0!==l){const e=l.split(" ");n.getChildren().some((e=>Wp(e)))?o.push(...e):a.push(...e)}a.length>0&&Ho(e,...a),o.length>0&&Fo(e,...o)}function Bp(e,t,n,o){Wp(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function Dp(e){return{node:Rp((0,i.sb)(e)&&"true"===e.getAttribute("aria-checked"))}}function Rp(e){return(0,i.pT)(new Mp(void 0,e))}function zp(e){return e instanceof Mp}class Pp extends i.pi{static getType(){return"list"}static clone(e){const t=e.__listType||jp[e.__tag];return new Pp(t,e.__start,e.__key,e.getBlockStyle())}constructor(e,t,n,o){super(n),bp(this,"__version",1);const a=jp[e]||e;this.__listType=a,this.__tag="number"===a?"ol":"ul",this.__start=t,o&&(this.__blockStyle=o)}getTag(){return this.__tag}setListType(e){const t=this.getWritable();t.__listType=e,t.__tag="number"===e?"ol":"ul"}getListType(){return this.__listType}getStart(){return this.__start}createDOM(e,t){const n=this.__tag,o=document.createElement(n);if(1!==this.__start&&o.setAttribute("start",String(this.__start)),o.__lexicalListType=this.__listType,1===this.getIndent()){const e=(0,i.oK)(this,"list");o.style.cssText=e}else{const e=(0,i.oK)(this,"list");o.style.cssText=e}return Fp(o,e.theme,this),this.getFirstElement()&&o.classList.add("first-rte-element"),this.getLastElement()&&o.classList.add("last-rte-element"),o.setAttribute("data-v",String(1)),o}updateDOM(e,t,n){if(e.__tag!==this.__tag)return!0;const o=(0,i.oK)(this.getLatest(),"list");return t.style.cssText=o,Fp(t,n.theme,this),!1}static importDOM(){return{ol:e=>({conversion:qp,priority:0}),ul:e=>({conversion:qp,priority:0})}}static importJSON(e){const t=Kp(e.listType,e.start);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t.setBlockStyle(structuredClone(e.blockStyle)),t.setFirstElement(null==e?void 0:e.first_element),t}exportDOM(e){const{element:t}=super.exportDOM(e);if(t&&(0,i.sb)(t)){1!==this.__start&&t.setAttribute("start",String(this.__start)),"check"===this.__listType&&t.setAttribute("__lexicalListType","check");const e=(0,i.oK)(this,"list");t.style.cssText=e;const n=this.getDirection();n&&(t.dir=n),t.setAttribute("data-v",String(1))}return{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(){for(let e=0;e<arguments.length;e++){const t=e<0||arguments.length<=e?void 0:arguments[e];if(zp(t))super.append(t);else{const e=Rp();if(Wp(t))e.append(t);else if((0,i.ff)(t)){const n=(0,i.sT)(t.getTextContent());e.append(n)}else e.append(t);super.append(e)}}return Np(this),this}extractWithChild(e){return zp(e)}setBlockStyle(e){const t=this.getParent();if(zp(t)){const n=t.getParent();return Wp(n)?(n.setBlockStyle(e),this):this}return super.setBlockStyle(e)}getBlockStyle(){return super.getBlockStyle()}getBlockStyleForDialog(){const e=this.getParent();if(zp(e)){const t=e.getParentOrThrow();return Wp(t)?t.getBlockStyle():super.getBlockStyle()}return super.getBlockStyle()}}function Fp(e,t,n){const o=[],a=[],i=t.list;if(void 0!==i){const e=i["".concat(n.__listType,"Depth")]||[],t=vp(n)-1,r=t%e.length,l=e[r],s=i[n.__listType];let c;const d=i.nested;if(void 0!==d&&d.list&&(c=d.list),void 0!==s&&o.push(s),void 0!==l){const t=l.split(" ");o.push(...t);for(let t=0;t<e.length;t++)t!==r&&a.push(n.__tag+t)}if(void 0!==c){const e=c.split(" ");t>1?o.push(...e):a.push(...e)}}a.length>0&&Ho(e,...a),o.length>0&&Fo(e,...o)}function Hp(e){const t=[];for(let n=0;n<e.length;n++){const o=e[n];if(zp(o)){t.push(o);const e=o.getChildren();e.length>1&&e.forEach((e=>{Wp(e)&&t.push(wp(e))}))}else t.push(wp(o))}return t}function qp(e){const t=e.nodeName.toLowerCase();let n=null;if("ol"===t?n=Kp("number",e.start):"ul"===t&&(n=(0,i.sb)(e)&&"check"===e.getAttribute("__lexicallisttype")?Kp("check"):Kp("bullet")),(0,i.sb)(e)&&n){const o=e;if(o.classList.contains("first-rte-element")&&n&&n.setFirstElement(!0),o.classList.contains("last-rte-element")&&n&&n.setLastElement(!0),o.style&&null!==o.style.cssText){const e="ul"===t||"ol"===t?t:"ul",a=(0,i.Dz)(o.style.cssText,e);n.setFormat(a.textAlign);const r=0;n.setIndent(r);const l=o.getAttribute("dir");"ltr"===l||"rtl"===l?n.setDirection(l):n.setDirection("ltr"),n.setBlockStyle(a)}}return{after:Hp,node:n}}const jp={ol:"number",ul:"bullet"};function Kp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,i.pT)(new Pp(e,t))}function Wp(e){return e instanceof Pp}function Jp(e,t){return function(){e.dispatchCommand(t,void 0)}}function Up(e,t){const n=e.target;if(null===n||!(0,i.sb)(n))return;const o=n.firstChild;if(null!=o&&(0,i.sb)(o)&&("UL"===o.tagName||"OL"===o.tagName))return;const a=n.parentNode;if(!a||"check"!==a.__lexicalListType)return;const r=n.getBoundingClientRect(),l=e.pageX/function(e){if(N)return 1;let t=1;for(;e;)t*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;return t}(n);("rtl"===n.dir?l<r.right&&l>r.right-20:l<r.left&&l>r.left-20)&&t()}function Vp(e){Up(e,(()=>{const t=e.target,n=function(e){let t=e;for(;t;){if(t.__lexicalEditor)return t.__lexicalEditor;t=t.parentNode}return null}(t);null!=n&&n.isEditable()&&n.update((()=>{if(e.target){const e=(0,i.xL)(t);zp(e)&&(t.focus(),e.toggleChecked())}}))}))}function Gp(e){Up(e,(()=>{e.preventDefault()}))}function Xp(){const e=document.activeElement;return null!=e&&"LI"===e.tagName&&null!=e.parentNode&&"check"===e.parentNode.__lexicalListType?e:null}function Yp(e,t,n){const o=Xp();return null!=o&&t.update((()=>{const a=(0,i.xL)(o);if(!zp(a))return;const r=function(e,t){let n=t?e.getPreviousSibling():e.getNextSibling(),o=e;for(;null==n&&zp(o);)o=o.getParentOrThrow().getParent(),null!=o&&(n=t?o.getPreviousSibling():o.getNextSibling());for(;zp(n);){const e=t?n.getLastChild():n.getFirstChild();if(!Wp(e))return n;n=t?e.getLastChild():e.getFirstChild()}return null}(a,n);if(null!=r){r.selectStart();const n=t.getElementByKey(r.__key);null!=n&&(e.preventDefault(),setTimeout((()=>{n.focus()}),0))}})),!1}function Zp(e){var t;const n=document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));if(n){const t=n.querySelector('button[data-dispatch="INSERT_UNORDERED_LIST_COMMAND"]'),o=n.querySelector('button[data-dispatch="INSERT_ORDERED_LIST_COMMAND"]'),a=n.querySelector('button[data-dispatch="INSERT_CHECK_LIST_COMMAND"]');o&&(null!==o.getAttribute("data-mouse-down")?Oe()?o.addEventListener("touchstart",Jp(e,eg)):o.addEventListener("mousedown",Jp(e,eg)):o.addEventListener("click",Jp(e,eg))),t&&(null!==t.getAttribute("data-mouse-down")?(t.addEventListener("mousedown",Jp(e,Qp)),t.addEventListener("touchstart",Jp(e,Qp))):t.addEventListener("click",Jp(e,Qp))),a&&(null!==a.getAttribute("data-mouse-down")?Oe()?a.addEventListener("touchstart",Jp(e,tg)):a.addEventListener("mousedown",Jp(e,tg)):a.addEventListener("click",Jp(e,tg)))}}function $p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return e.hasNodes([Pp,Mp])?(Zp(e),Po(e.registerCommand(eg,(()=>(Cp(e,"number"),!0)),i.Ac),e.registerCommand(Qp,(()=>(Cp(e,"bullet"),!0)),i.Ac),e.registerCommand(tg,(()=>(Cp(e,"check"),!0)),i.Ac),e.registerCommand(ng,(()=>(function(e){e.update((()=>{const e=(0,i.vJ)();if((0,i.I2)(e)){const t=new Set,n=e.getNodes(),o=e.anchor.getNode();if(Ep(o,n))t.add(yp(o));else for(let e=0;e<n.length;e++){const o=n[e];if((0,i.jG)(o)){const e=qo(o,Mp);null!=e&&t.add(yp(e))}}for(const n of t){let t=n;const o=xp(n);for(const n of o){const o=(0,i.lJ)();Sp(o,n.getChildren()),t.insertAfter(o),t=o,n.__key===e.anchor.key&&e.anchor.set(o.getKey(),0,"element"),n.__key===e.focus.key&&e.focus.set(o.getKey(),0,"element"),n.remove()}n.remove()}}}))}(e),!0)),i.Ac),e.registerCommand(i.XK,(()=>!!function(){const e=(0,i.vJ)();if(!(0,i.I2)(e)||!e.isCollapsed())return!1;const t=e.anchor.getNode();if(!zp(t)||0!==t.getChildrenSize())return!1;const n=yp(t),o=t.getParent();if(!Wp(o))throw Error("A ListItemNode must have a ListNode for a parent.");const a=o.getParent();let r;if((0,i.Iq)(a))r=(0,i.lJ)(),n.insertAfter(r);else{if(!zp(a))return!1;r=Rp(),a.insertAfter(r)}r.select();const l=t.getNextSiblings();if(l.length>0){const e=Kp(o.getListType());if((0,i.bS)(r))r.insertAfter(e);else{const t=Rp();t.append(e),r.insertAfter(t)}l.forEach((t=>{t.remove(),e.append(t)}))}return function(e){let t=e;for(;null==t.getNextSibling()&&null==t.getPreviousSibling();){const e=t.getParent();if(null==e||!zp(t)&&!Wp(t))break;t=e}t.remove()}(t),!0}()),i.Ac),e.registerCommand(i.Pi,(()=>!function(e){const t=(0,i.vJ)();if(!(0,i.I2)(t))return!1;const n=function(e){const t=e.getNodes();return 0===t.length?new Set([e.anchor.getNode().getParentOrThrow(),e.focus.getNode().getParentOrThrow()]):new Set(t.map((e=>(0,i.ff)(e)?e:e.getParentOrThrow())))}(t);let o=0;for(const e of n)if(Wp(e))o=Math.max(vp(e)+1,o);else if(zp(e)){const t=e.getParent();if(!Wp(t))return console.error("ListMaxIndentLevelPlugin: A ListItemNode must have a ListNode for a parent."),!1;o=Math.max(vp(t)+1,o)}return o<=e}(t)),i.d),e.registerCommand(i.OX,(t=>{const n=(0,i.vJ)(),o=document.getElementById("disabled-default-tab");if(o&&o.checked){t.preventDefault(),t.stopPropagation();const o=(0,i.Ni)();if(o&&o.isEmpty())return o.append((0,i.lJ)().append((0,i.ev)())),(0,i.n1)(o.selectEnd()),!0;if((0,i.I2)(n)){const t=n.getNodes();if(n.isCollapsed()){const n=t[0];if(!n)return!1;if((0,i.kF)(n)){const t=n.getParentOrThrow();if(zp(t))return e.dispatchCommand(i.Pi,void 0),!0;if((0,i.bS)(t))return e.dispatchCommand(i.YW,void 0),!0}else{if(zp(n))return e.dispatchCommand(i.Pi,void 0),!0;if((0,i.bS)(n)&&0===n.getChildren().length)return n.append((0,i.ev)()),!0}}}}return!1}),i.Ac),e.registerCommand(i.bb,(t=>Yp(t,e,!1)),i.Ac),e.registerCommand(i.UD,(t=>Yp(t,e,!0)),i.Ac),e.registerCommand(i.Q$,(t=>{if(null!=Xp()){const t=e.getRootElement();return null!=t&&t.focus(),!0}return!1}),i.Ac),e.registerCommand(i.Hu,(t=>{const n=Xp();return!(null==n||!e.isEditable()||(e.update((()=>{const e=(0,i.xL)(n);zp(e)&&(t.preventDefault(),e.toggleChecked())})),0))}),i.Ac),e.registerCommand(i.AX,(t=>e.getEditorState().read((()=>{const n=(0,i.vJ)();if((0,i.I2)(n)&&n.isCollapsed()){const{anchor:o}=n,a="element"===o.type;if(a||0===o.offset){const n=o.getNode(),r=Ko(n,(e=>(0,i.ff)(e)&&!e.isInline()));if(zp(r)){const o=r.getParent();if(Wp(o)&&"check"===o.getListType()&&(a||r.getFirstDescendant()===n)){const n=e.getElementByKey(r.__key);if(null!=n&&document.activeElement!==n)return n.focus(),t.preventDefault(),!0}}}}return!1}))),i.Ac),e.registerRootListener(((e,t)=>{null!==e&&(e.addEventListener("click",Vp,!0),e.addEventListener("pointerdown",Gp)),null!==t&&(t.removeEventListener("click",Vp),t.removeEventListener("pointerdown",Gp))})),e.registerCommand(He,(()=>(Zp(e),!1)),i.jZ))):(console.error("ListNode or ListItemNode is not registered on the editor."),()=>{})}const Qp=(0,i.gu)("INSERT_UNORDERED_LIST_COMMAND"),eg=(0,i.gu)("INSERT_ORDERED_LIST_COMMAND"),tg=(0,i.gu)("INSERT_CHECK_LIST_COMMAND"),ng=(0,i.gu)("REMOVE_LIST_COMMAND");class og extends i.fG{constructor(e,t){super(t),this.__side=e,this.__version=1}static getType(){return"aside"}static clone(e){return new og(e.__side,e.__key)}createDOM(e,t){const n=document.createElement("aside");return n.classList.add(this.getSide(),"rte"),n.setAttribute("data-v",String(1)),n}updateDOM(){return!1}static importDOM(){return{aside:e=>({conversion:ag,priority:1})}}exportDOM(e){const{element:t}=super.exportDOM(e);return t&&(0,i.sb)(t)&&(this.isEmpty()&&t.append(document.createElement("br")),t.setAttribute("data-v",String(1))),{element:t}}static importJSON(e){return ig(e.side)}exportJSON(){return{...super.exportJSON(),side:this.getSide(),type:"aside",version:1}}insertNewAfter(e,t){const n=(0,i.lJ)(),o=this.getDirection();return n.setDirection(o),this.insertAfter(n,t),n}collapseAtStart(){return this.replace((0,i.lJ)()),!0}getSide(){return this.getLatest().__side}setIndent(e){return this.getWritable()}setFormat(e){return this.getWritable()}isShadowRoot(){return!0}canReplaceWith(e){return(0,i.bS)(e)}}function ag(e){return{node:ig(e.classList.contains("left")?"left":"right")}}function ig(e){return(0,i.pT)(new og(e))}const rg=(0,i.gu)("INSERT_ASIDE_ELEMENT");function lg(e){return function(){const t=this.getAttribute("data-payload");"left"===t?e.dispatchCommand(rg,{side:"left"}):"right"===t&&e.dispatchCommand(rg,{side:"right"})}}function sg(e){var t;(document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper")))&&Array.from(document.querySelectorAll('button[data-dispatch="INSERT_ASIDE_COMMAND"]')).forEach((t=>{null!==t.getAttribute("data-mouse-down")?Oe()?t.addEventListener("touchstart",lg(e)):t.addEventListener("mousedown",lg(e)):t.addEventListener("click",lg(e))}))}function cg(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dg(e){return{node:pg()}}n(46218),n(84825);class ug extends i.fG{constructor(){super(...arguments),cg(this,"__version",1)}static getType(){return"accordion-content"}static clone(e){return new ug(e.__key)}createDOM(e){const t=document.createElement("div");return t.classList.add("accordion-content"),t.setAttribute("data-v",String(1)),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}updateDOM(e,t){return!1}static importDOM(){return{div:e=>e.hasAttribute("data-frank-accordion-content")?{conversion:dg,priority:4}:null}}exportDOM(){const e=document.createElement("div");return e.setAttribute("data-frank-accordion-content","true"),e.setAttribute("data-v",String(1)),{element:e}}static importJSON(e){return pg()}isShadowRoot(){return!0}exportJSON(){return{...super.exportJSON(),type:"accordion-content",version:1}}canBeEmpty(){return!1}}function pg(){return new ug}function gg(e){return e instanceof ug}class mg extends i.fG{constructor(e,t){let{flat:n,summary:o}=e;super(t),cg(this,"__open",!1),cg(this,"__version",1),this.__summary=o,this.__flat=n}static getType(){return"details"}static clone(e){return new mg({summary:e.getSummary(),flat:e.getFlat()},e.__key)}createDOM(e,t){const n=document.createElement("details");n.setAttribute("data-node-key",this.getKey()),n.classList.add("rte"),this.getFlat()&&n.classList.add("flat");const o=document.createElement("span");o.innerText=this.getSummary(),o.classList.add("h6","bold"),o.setAttribute("contenteditable","false");const a=document.createElement("summary");var r;return a.setAttribute("contenteditable","false"),a.setAttribute("data-rte",""),a.append(o),a.insertAdjacentHTML("beforeend",'<svg contenteditable="false" class="details" focusable="false" inert viewBox="0 0 24 24"><path contenteditable="false" d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"></path></svg>'),n.append(a),a.addEventListener("click",(r=this.__key,function(e){const t=this.closest("div.lexical-wrapper"),n=this.parentElement;if(t&&n&&"DETAILS"===n.nodeName){const e=n.hasAttribute("open"),o=t.id,a=pe()[o];a&&a.isEditable()&&a.update((()=>{const t=(0,i.ns)(r);bg(t)&&t.setOpen(!e)}))}}),!0),this.__open&&n.setAttribute("open",""),n.setAttribute("data-v",String(1)),this.getFirstElement()&&n.classList.add("first-rte-element"),this.getLastElement()&&n.classList.add("last-rte-element"),n}updateDOM(e,t,n){return e.__flat!==this.getFlat()||e.__summary!==this.getSummary()||e.__open!==this.getOpen()}exportDOM(){const e=document.createElement("details");return e.setAttribute("data-details-summary",this.getSummary()),e.setAttribute("data-flat",String(this.getFlat())),e.setAttribute("data-v",String(1)),this.getFirstElement()&&!Be&&e.classList.add("first-rte-element"),this.getLastElement()&&!Be&&e.classList.add("last-rte-element"),{element:e}}static importDOM(){return{details:e=>({conversion:hg,priority:1})}}static importJSON(e){const{flat:t,summary:n}=e,o=fg({summary:n,flat:t});return o.setFirstElement(null==e?void 0:e.first_element),o}exportJSON(){return{...super.exportJSON(),summary:this.getSummary(),flat:this.getFlat(),type:"details",version:1}}getSummary(){return this.getLatest().__summary}setSummary(e){const t=this.getWritable();return t.__summary=e.slice(0,50),t}getFlat(){return this.getLatest().__flat}setFlat(e){const t=this.getWritable();return t.__flat=e,t}append(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===this.getChildrenSize()&&gg(t[0]))return super.append(t[0].append(...t.slice(1)));if(1===this.getChildrenSize())return super.append(...t.filter((e=>!bg(e)&&!gg(e))));{const e=pg(),t=this.getChildren();return e.append(...t.filter((e=>!bg(e)&&!gg(e)))),super.clear(),super.append(e)}}canIndent(){return!1}isShadowRoot(){return!0}select(e,t){if(0===e&&0===t||!e&&!t){const n=this.getChildren().filter((e=>gg(e)));return 1===n.length?n[0].select(e,t):super.select(e,t)}return super.select(e,t)}setOpen(e){const t=this.getWritable();return t.__open=e,t}getOpen(){return this.getLatest().__open}}function hg(e){const t=String(e.getAttribute("data-details-summary")),n=Boolean("true"===e.getAttribute("data-flat")),o=e.classList.contains("first-rte-element"),a=e.classList.contains("last-rte-element"),i=fg({summary:t,flat:n});return i.setFirstElement(o),i.setLastElement(a),{node:i}}function fg(e){let{summary:t,flat:n}=e;return new mg({flat:n,summary:t})}function bg(e){return e instanceof mg}const vg=(0,i.gu)("INSERT_DETAILS_COMMAND");var yg=null;function xg(){const e=document.getElementById("lexical-insert-details-form"),t=document.getElementById("details-content-lexical");if(e&&t){const n=e.querySelector('input[id="lexical-details-summary-title"]'),o=e.querySelector('input[id="lexical-insert-details-flat"]'),a=t.querySelector("span[data-output]"),i=t.querySelector("details[data-output]");return{form:e,dialog:t,summary:n?n.value:null,flat:Boolean(!0===(null==o?void 0:o.checked)),outputSpan:a,outputDetails:i,summaryEl:n}}return null}function _g(e){e.stopPropagation();const t=xg();t&&(t.summary&&t.outputSpan&&(t.outputSpan.innerText=t.summary),t.outputDetails&&(t.outputDetails.classList.add("rte"),t.flat?t.outputDetails.classList.add("flat"):t.outputDetails.classList.remove("flat")))}function wg(e){e.preventDefault(),e.stopPropagation();const t=xg(),n=de();t&&t.summary&&n&&(n.dispatchCommand(vg,{summary:t.summary,flat:t.flat}),me(t.dialog))}function Eg(e){if("details-content-lexical"===e.detail.el.id){const e=de();e&&e.getEditorState().read((()=>{var e;const t=null===(e=(0,i.vJ)())||void 0===e||null===(e=e.getNodes())||void 0===e?void 0:e[0];t&&(yg=t.getKey())})),function(){const e=xg();e&&e&&(e.form.addEventListener("change",_g),e.summaryEl&&e.summaryEl.addEventListener("input",_g),e.form.addEventListener("submit",wg))}();const t=document.getElementById("details-content-lexical");t&&document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:t}}))}}function kg(e){return Po(e.registerCommand(i.bb,(()=>{const t=(0,i.vJ)();if((0,i.I2)(t)&&t.isCollapsed()&&e.isEditable()){const e=Ko(t.anchor.getNode(),(e=>(0,i.bS)(e)&&gg(e.getParent())));if(e){const n=e.getParent(),o=n.getLastChild(),a=n.getParent();if(o&&o.is(e)&&t.is(e.selectEnd())&&bg(a)&&null===a.getNextSibling()){const e=(0,i.lJ)();return a.insertAfter(e),e.selectEnd(),!0}}}return!1}),i.d))}const Cg="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Sg=Cg&&"documentMode"in document?document.documentMode:null;Cg&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Cg&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),!(!Cg||!("InputEvent"in window)||Sg)&&new window.InputEvent("input"),Cg&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Cg&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,Cg&&/Android/.test(navigator.userAgent);Cg&&/^(?=.*Chrome).*/i.test(navigator.userAgent);Cg&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);var Ag=n(17800);function Tg(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ng=new Set(["abap","abnf","actionscript","ada","agda","al","antlr4","apacheconf","apex","apl","applescript","aql","arduino","arff","armasm","arturo","asciidoc","asm6502","asmatmel","aspnet","autohotkey","autoit","avisynth","avro-idl","awk","bash","basic","batch","bbcode","bbj","bicep","birb","bison","bnf","bqn","brainfuck","brightscript","bro","bsl","c","cfscript","chaiscript","cil","cilkc","cilkcpp","clike","clojure","cmake","cobol","coffeescript","concurnas","cooklang","coq","core","cpp","crystal","csharp","cshtml","csp","css","css-extras","csv","cue","cypher","d","dart","dataweave","dax","dhall","diff","django","dns-zone-file","docker","dot","ebnf","editorconfig","eiffel","ejs","elixir","elm","erb","erlang","etlua","excel-formula","factor","false","firestore-security-rules","flow","fortran","fsharp","ftl","gap","gcode","gdscript","gedcom","gettext","gherkin","git","glsl","gml","gn","go","go-module","gradle","graphql","groovy","haml","handlebars","haskell","haxe","hcl","hlsl","hoon","hpkp","hsts","http","ichigojam","icon","icu-message-format","idris","iecst","ignore","inform7","ini","io","j","java","javadoc","javadoclike","javascript","javastacktrace","jexl","jolie","jq","js-extras","js-templates","jsdoc","json","json5","jsonp","jsstacktrace","jsx","julia","keepalived","keyman","kotlin","kumir","kusto","latex","latte","less","lilypond","linker-script","liquid","lisp","livescript","llvm","log","lolcode","lua","magma","makefile","markdown","markup","markup-templating","mata","matlab","maxscript","mel","mermaid","metafont","mizar","mongodb","monkey","moonscript","n1ql","n4js","nand2tetris-hdl","naniscript","nasm","neon","nevod","nginx","nim","nix","nsis","objectivec","ocaml","odin","opencl","openqasm","oz","parigp","parser","pascal","pascaligo","pcaxis","peoplecode","perl","php","php-extras","phpdoc","plant-uml","plsql","powerquery","powershell","processing","prolog","promql","properties","protobuf","psl","pug","puppet","pure","purebasic","purescript","python","q","qml","qore","qsharp","r","racket","reason","regex","rego","renpy","rescript","rest","rip","roboconf","robotframework","ruby","rust","sas","sass","scala","scheme","scss","shell-session","smali","smalltalk","smarty","sml","solidity","solution-file","soy","sparql","splunk-spl","sqf","sql","squirrel","stan","stata","stylus","supercollider","swift","systemd","t4-cs","t4-templating","t4-vb","tap","tcl","textile","toml","tremor","tsx","tt2","turtle","twig","typescript","typoscript","unrealscript","uorazor","uri","v","vala","vbnet","velocity","verilog","vhdl","vim","visual-basic","warpscript","wasm","web-idl","wgsl","wiki","wolfram","wren","xeora","xml-doc","xojo","xquery","yaml","yang","zig"]),Lg=e=>e&&!Ag.Prism.languages.hasOwnProperty(e)&&Ng.has(e)||null!=e&&Ag.Prism.languages.hasOwnProperty(e)?e:void 0;function Ig(e,t){for(const n of e.childNodes){if((0,i.sb)(n)&&n.tagName===t)return!0;Ig(n,t)}return!1}const Mg="data-highlight-language";function Og(e){const t=this.closest("code");if(t){const e=t.innerText.trim();navigator.clipboard.writeText(e).then((()=>{document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"success",message:"Successfully copied code to clipboard!"}}))})).catch((e=>{console.error(e),document.dispatchEvent(new CustomEvent("DISPATCH_SNACKBAR",{detail:{severity:"error",message:"Successfully copied code to clipboard!"}}))}))}}class Bg extends i.fG{static getType(){return"code"}static clone(e){return new Bg({language:e.__language,onlyCodeEditor:e.__onlyCodeEditor},e.__key)}constructor(e,t){super(t),Tg(this,"__version",1),Tg(this,"__editable",!0),this.__language=Lg(e.language),this.__onlyCodeEditor=void 0!==e.onlyCodeEditor&&Boolean(e.onlyCodeEditor)}createDOM(e){const t=document.createElement("code");Fo(t,e.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();if(n&&t.setAttribute(Mg,n),this.getOnlyCodeEditor()&&t.classList.add("only-code-editor"),t.setAttribute("data-v",String(1)),!this.getEditable()){const e=(()=>{const e=document.createElement("button");return e.className="icon code-copy-lexical small transparent",e.setAttribute("type","button"),e.setAttribute("aria-label","Copy Code"),e.style.cssText="position: absolute; top: 0px; right: 0px;z-index:3;",e.insertAdjacentHTML("afterbegin",'<svg viewBox="0 0 448 512" title="copy" focusable="false" inert tabindex="-1"><path d="M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"></path></svg>'),e.addEventListener("click",Og),e})();t.append(e)}return this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}updateDOM(e,t,n){const o=this.__language,a=e.__language,i=e.__onlyCodeEditor,r=this.__onlyCodeEditor;if(this.__editable!==e.__editable)return!0;if(o?o!==a&&t.setAttribute(Mg,o):a&&t.removeAttribute(Mg),i!==r&&(r?t.classList.add("only-code-editor"):r||t.classList.remove("only-code-editor")),r){const e=this.getChildren().length;if(e<20){const t=20-e,n=[];for(let e=0;e<t;e++)n.push(Ug("\n"));return this.append(...n),!0}}return!1}exportDOM(){const e=document.createElement("pre");e.setAttribute("spellcheck","false"),e.setAttribute("data-only-code-editor",String(this.getOnlyCodeEditor()));const t=this.getLanguage();return t&&e.setAttribute(Mg,t),e.setAttribute("data-v",String(1)),this.getFirstElement()&&!Be&&e.classList.add("first-rte-element"),this.getLastElement()&&!Be&&e.classList.add("last-rte-element"),{element:e}}static importDOM(){return{code:e=>null!=e.textContent&&(/\r?\n/.test(e.textContent)||Ig(e,"BR"))?{conversion:zg,priority:1}:null,div:e=>({conversion:Pg,priority:1}),pre:e=>({conversion:zg,priority:0}),table:e=>Kg(e)?{conversion:Fg,priority:3}:null,td:e=>{const t=e,n=t.closest("table");return t.classList.contains("js-file-line")?{conversion:qg,priority:3}:n&&Kg(n)?{conversion:Hg,priority:3}:null},tr:e=>{const t=e.closest("table");return t&&Kg(t)?{conversion:Hg,priority:3}:null}}}static importJSON(e){const t=Dg({language:e.language,onlyCodeEditor:e.onlyCodeEditor});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t.setOnlyCodeEditor(e.onlyCodeEditor),t.setFirstElement(null==e?void 0:e.first_element),t}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),onlyCodeEditor:this.getOnlyCodeEditor(),type:"code",version:1,first_element:this.getFirstElement()}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getChildren(),o=n.length;if(!this.getOnlyCodeEditor()){if(o>=2&&"\n"===n[o-1].getTextContent()&&"\n"===n[o-2].getTextContent()&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===o){n[o-1].remove(),n[o-2].remove();const e=(0,i.lJ)();return this.insertAfter(e,t),e}const{anchor:a,focus:r}=e,l=(a.isBefore(r)?a:r).getNode();if((0,i.kF)(l)){let e=Gg(l);const t=[];for(;;)if((0,i.MK)(e))t.push((0,i.ev)()),e=e.getNextSibling();else{if(!Vg(e))break;{let n=0;const o=e.getTextContent(),a=e.getTextContentSize();for(;n<a&&" "===o[n];n++);if(0!==n&&t.push(Ug(" ".repeat(n))),n!==a)break;e=e.getNextSibling()}}const n=l.splitText(a.offset)[0],o=0===a.offset?0:1,r=n.getIndexWithinParent()+o,s=l.getParentOrThrow(),c=[(0,i.WK)(),...t];s.splice(r,0,c);const d=t[t.length-1];d?d.select():0===a.offset?n.selectPrevious():n.getNextSibling().selectNext(0,0)}if(Rg(l)){const{offset:t}=e.anchor;l.splice(t,0,[(0,i.WK)()]),l.select(t+1,t+1)}}return null}canIndent(){return!1}collapseAtStart(){if(this.getOnlyCodeEditor())return!1;{const e=(0,i.lJ)();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}}setLanguage(e){this.getWritable().__language=Lg(e)}getLanguage(){return this.getLatest().__language}setOnlyCodeEditor(e){const t=this.getWritable();return t.__onlyCodeEditor=e,t}getOnlyCodeEditor(){return this.getLatest().__onlyCodeEditor}getEditable(){return this.getLatest().__editable}setEditable(e){const t=this.getWritable();return t.__editable=e,t}}function Dg(e){return(0,i.pT)(new Bg({language:null==e?void 0:e.language,onlyCodeEditor:void 0!==(null==e?void 0:e.onlyCodeEditor)&&e.onlyCodeEditor}))}function Rg(e){return e instanceof Bg}function zg(e){var t,n;let o,a;(0,i.sb)(e)&&(o=e.getAttribute(Mg),a=Boolean(!0===e.getAttribute("data-only-code-editor")));const r=Dg({language:o,onlyCodeEditor:a});return r.setFirstElement(null==e||null===(t=e.classList)||void 0===t?void 0:t.contains("first-rte-element")),r.setLastElement(null==e||null===(n=e.classList)||void 0===n?void 0:n.contains("last-rte-element")),{node:r}}function Pg(e){const t=e,n=jg(t);return n||function(e){let t=e.parentElement;for(;null!==t;){if(jg(t))return!0;t=t.parentElement}return!1}(t)?{after:t=>{const n=e.parentNode;return null!=n&&e!==n.lastChild&&t.push((0,i.WK)()),t},node:n?Dg():null}:{node:null}}function Fg(){return{node:Dg()}}function Hg(){return{node:null}}function qg(e){const t=e;return{after:e=>(t.parentNode&&t.parentNode.nextSibling&&e.push((0,i.WK)()),e),node:null}}function jg(e){return null!==e.style.fontFamily.match("monospace")}function Kg(e){return e.classList.contains("js-file-line-container")}class Wg extends i.Ey{constructor(e,t,n){super(e,n),Tg(this,"__version",1),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new Wg(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}createDOM(e){const t=super.createDOM(e);return Fo(t,Jg(e.theme,this.__highlightType)),t.setAttribute("data-v",String(1)),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}updateDOM(e,t,n){const o=super.updateDOM(e,t,n),a=Jg(n.theme,e.__highlightType),i=Jg(n.theme,this.__highlightType);return a!==i&&(a&&Ho(t,a),i&&Fo(t,i)),o}static importJSON(e){const t=Ug(e.text,e.highlightType);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType(),type:"code-highlight",version:1}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return Dg()}}function Jg(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function Ug(e,t){return(0,i.pT)(new Wg(e,t))}function Vg(e){return e instanceof Wg}function Gg(e){let t=e,n=e;for(;Vg(n)||(0,i.MK)(n);)t=n,n=n.getPreviousSibling();return t}function Xg(e){let t=e,n=e;for(;Vg(n)||(0,i.MK)(n);)t=n,n=n.getNextSibling();return t}const Yg={defaultLanguage:"javascript",tokenize(e,t){return Ag.Prism.tokenize(e,Ag.Prism.languages[t||""]||Ag.Prism.languages[this.defaultLanguage])}};function Zg(e,t,n){const o=e.getParent();Rg(o)?em(o,t,n):Vg(e)&&e.replace((0,i.sT)(e.__text))}function $g(e,t){const n=t.getElementByKey(e.getKey());if(null===n)return;const o=e.getChildren(),a=o.length;if(a===n.__cachedChildrenLength)return;n.__cachedChildrenLength=a;let r="1",l=1;for(let e=0;e<a;e++)(0,i.wH)(o[e])&&(r+="\n"+ ++l);n.setAttribute("data-gutter",r)}const Qg=new Set;function em(e,t,n){const o=e.getKey();Qg.has(o)||(Qg.add(o),void 0===e.getLanguage()&&e.setLanguage(n.defaultLanguage),t.update((()=>{!function(e,t){const n=(0,i.ns)(e);if(!Rg(n)||!n.isAttached())return;const o=(0,i.vJ)();if(!(0,i.I2)(o))return void t();const a=o.anchor,r=a.offset,l="element"===a.type&&(0,i.wH)(n.getChildAtIndex(a.offset-1));let s=0;if(!l){const e=a.getNode();s=r+e.getPreviousSiblings().reduce(((e,t)=>e+t.getTextContentSize()),0)}t()&&(l?a.getNode().select(r,r):n.getChildren().some((e=>{const t=(0,i.kF)(e);if(t||(0,i.wH)(e)){const n=e.getTextContentSize();if(t&&n>=s)return e.select(s,s),!0;s-=n}return!1})))}(o,(()=>{const t=(0,i.ns)(o);if(!Rg(t)||!t.isAttached())return!1;const a=t.getTextContent(),r=tm(n.tokenize(a,t.getLanguage()||n.defaultLanguage)),l=function(e,t){let n=0;for(;n<e.length&&nm(e[n],t[n]);)n++;const o=e.length,a=t.length,i=Math.min(o,a)-n;let r=0;for(;r<i;)if(r++,!nm(e[o-r],t[a-r])){r--;break}const l=o-r;return{from:n,nodesForReplacement:t.slice(n,a-r),to:l}}(t.getChildren(),r),{from:s,to:c,nodesForReplacement:d}=l;return!(s===c&&!d.length||(e.splice(s,c-s,d),0))}))}),{onUpdate:()=>{Qg.delete(o)},skipTransforms:!0}))}function tm(e,t){const n=[];for(const o of e)if("string"==typeof o){const e=o.split(/(\n|\t)/),a=e.length;for(let o=0;o<a;o++){const a=e[o];"\n"===a||"\r\n"===a?n.push((0,i.WK)()):"\t"===a?n.push((0,i.ev)()):a.length>0&&n.push(Ug(a,t))}}else{const{content:e}=o;"string"==typeof e?n.push(...tm([e],o.type)):Array.isArray(e)&&n.push(...tm(e,o.type))}return n}function nm(e,t){return Vg(e)&&Vg(t)&&e.__text===t.__text&&e.__highlightType===t.__highlightType||(0,i.MK)(e)&&(0,i.MK)(t)||(0,i.wH)(e)&&(0,i.wH)(t)}function om(e){if(!(0,i.I2)(e))return!1;const t=e.anchor.getNode(),n=e.focus.getNode();if(t.is(n)&&Rg(t))return!0;const o=t.getParent();return Rg(o)&&o.is(n.getParent())}function am(e){const t=e.getNodes(),n=[[]];if(1===t.length&&Rg(t[0]))return n;let o=n[0];for(let e=0;e<t.length;e++){const a=t[e];if(!(Vg(a)||(0,i.MK)(a)||(0,i.wH)(a)))throw Error("Expected selection to be inside CodeBlock and consisting of CodeHighlightNode, TabNode and LineBreakNode");(0,i.wH)(a)?0!==e&&o.length>0&&(o=[],n.push(o)):o.push(a)}return n}function im(e){const t=(0,i.vJ)();if(!(0,i.I2)(t)||!om(t))return!1;const n=am(t),o=n.length;if(n.length>1){for(let t=0;t<o;t++){const o=n[t];if(o.length>0){let n=o[0];0===t&&(n=Gg(n)),null!==n&&(e===i.Pi?n.insertBefore((0,i.ev)()):(0,i.MK)(n)&&n.remove())}}return!0}const a=t.getNodes()[0];if(!(Rg(a)||Vg(a)||(0,i.MK)(a)||(0,i.wH)(a)))throw Error("Expected selection firstNode to be CodeHighlightNode or CodeTabNode");if(Rg(a))return e===i.Pi&&t.insertNodes([(0,i.ev)()]),!0;const r=Gg(a);if(null===r)throw Error("Expected getFirstCodeNodeOfLine to return a valid Code Node");return e===i.Pi?(0,i.wH)(r)?r.insertAfter((0,i.ev)()):r.insertBefore((0,i.ev)()):(0,i.MK)(r)&&r.remove(),!0}function rm(e,t){const n=(0,i.vJ)();if(!(0,i.I2)(n))return!1;const{anchor:o,focus:a}=n,r=o.offset,l=a.offset,s=o.getNode(),c=a.getNode(),d=e===i.UD;if(!om(n)||!Vg(s)&&!(0,i.MK)(s)||!Vg(c)&&!(0,i.MK)(c))return!1;if(!t.altKey){if(n.isCollapsed()){const e=s.getParentOrThrow();if(d&&0===r&&null===s.getPreviousSibling()){if(null===e.getPreviousSibling())return e.selectPrevious(),t.preventDefault(),!0}else if(!d&&r===s.getTextContentSize()&&null===s.getNextSibling()&&null===e.getNextSibling())return e.selectNext(),t.preventDefault(),!0}return!1}let u,p;if(s.isBefore(c)?(u=Gg(s),p=Xg(c)):(u=Gg(c),p=Xg(s)),null==u||null==p)return!1;const g=u.getNodesBetween(p);for(let e=0;e<g.length;e++){const t=g[e];if(!Vg(t)&&!(0,i.MK)(t)&&!(0,i.wH)(t))return!1}t.preventDefault(),t.stopPropagation();const m=d?u.getPreviousSibling():p.getNextSibling();if(!(0,i.wH)(m))return!0;const h=d?m.getPreviousSibling():m.getNextSibling();if(null==h)return!0;const f=Vg(h)||(0,i.MK)(h)||(0,i.wH)(h)?d?Gg(h):Xg(h):null;let b=null!=f?f:h;return m.remove(),g.forEach((e=>e.remove())),e===i.UD?(g.forEach((e=>b.insertBefore(e))),b.insertBefore(m)):(b.insertAfter(m),b=m,g.forEach((e=>{b.insertAfter(e),b=e}))),n.setTextNodeRange(s,r,c,l),!0}function lm(e,t){const n=(0,i.vJ)();if(!(0,i.I2)(n))return!1;const{anchor:o,focus:a}=n,r=o.getNode(),l=a.getNode(),s=e===i.Rp;if(!Vg(r)&&!(0,i.MK)(r)||!Vg(l)&&!(0,i.MK)(l))return!1;if(s){const e=function(e,t){let n=null,o=null,a=e,r=t,l=e.getTextContent();for(;;){if(0===r){if(a=a.getPreviousSibling(),null===a)break;if(!(Vg(a)||(0,i.MK)(a)||(0,i.wH)(a)))throw Error("Expected a valid Code Node: CodeHighlightNode, TabNode, LineBreakNode");if((0,i.wH)(a)){n={node:a,offset:1};break}r=Math.max(0,a.getTextContentSize()-1),l=a.getTextContent()}else r--;const e=l[r];Vg(a)&&" "!==e&&(o={node:a,offset:r})}if(null!==o)return o;let s=null;if(t<e.getTextContentSize())Vg(e)&&(s=e.getTextContent()[t]);else{const t=e.getNextSibling();Vg(t)&&(s=t.getTextContent()[0])}if(null!==s&&" "!==s)return n;{const o=function(e,t){let n=e,o=t,a=e.getTextContent(),r=e.getTextContentSize();for(;;){if(!Vg(n)||o===r){if(n=n.getNextSibling(),null===n||(0,i.wH)(n))return null;Vg(n)&&(o=0,a=n.getTextContent(),r=n.getTextContentSize())}if(Vg(n)){if(" "!==a[o])return{node:n,offset:o};o++}}}(e,t);return null!==o?o:n}}(l,a.offset);if(null!==e){const{node:t,offset:o}=e;(0,i.wH)(t)?t.selectNext(0,0):n.setTextNodeRange(t,o,t,o)}else l.getParentOrThrow().selectStart()}else{const e=function(e){const t=Xg(e);if((0,i.wH)(t))throw Error("Unexpected lineBreakNode in getEndOfCodeInLine");return t}(l);e.select()}return t.preventDefault(),t.stopPropagation(),!0}const sm=(0,i.gu)("INSERT_CODE_COMMAND");var cm=void 0,dm=void 0;function um(e){const t=dm||"javascript",n=document.getElementById("coding-lang-lexical");if(n){const e=n.querySelector("form");if(e){const n=e.querySelector("input:checked"),o=e.querySelector('input[value="'.concat(String(t),'"]'));n&&(n.checked=!1),o&&(o.checked=!0)}}}function pm(e){var t;const n=document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));if(n){const e=n.querySelector("button[data-lexical-insert-code]");e&&(Oe()?e.addEventListener("touchstart",um):e.addEventListener("mousedown",um))}}function gm(e){return e.hasNode(Bg)&&e.hasNode(Wg)?(document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",function(e){return function(t){if("coding-lang-lexical"===t.detail.el.id){const t=document.getElementById("coding-lang-lexical");if(t){const n=t.querySelector("form");n&&n.addEventListener("submit",function(e){return function(t){t.stopPropagation(),t.preventDefault();const n=this.closest("div.dialog-wrapper");if(n){const t=this.querySelector("input:checked");if(t){const o=t.value;void 0!==cm?e.update((()=>{const e=(0,i.ns)(String(cm));Rg(e)&&(e.setLanguage(o),me(n))})):void 0===cm&&(e.dispatchCommand(sm,{language:o}),me(n))}}}}(e)),document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:t}}))}}}}(e)),pm(e),Po(e.registerCommand(sm,(e=>{const t=(0,i.vJ)()||(0,i.S1)();if((0,i.I2)(t))if(t.isCollapsed())f(t,(()=>Dg(e)));else{const n=t.getTextContent(),o=Dg(e);t.insertNodes([o]);const a=(0,i.vJ)();(0,i.I2)(a)&&a.insertRawText(n)}return!0}),i.jZ),e.registerCommand(i.Mv,(()=>{const e=(0,i.vJ)();if((0,i.I2)(e)){const t=e.getNodes();for(let e of t){const t=Ko(e,(e=>Rg(e)));if(t){cm=t.getKey(),dm=t.getLanguage();break}}}return cm=void 0,dm=void 0,!1}),i.d),mm(e),e.registerCommand(He,(()=>(pm(e),!1)),i.jZ))):(console.error("Editor does not have CodeNode or CodeHighlightNode registered."),()=>{})}function mm(e){return Po(e.registerEditableListener((t=>{t?e.update((()=>{const e=(0,i.zl)(Bg);for(let t of e)t.getEditable()||t.setEditable(!0)})):e.update((()=>{const e=(0,i.zl)(Bg);for(let t of e)t.getEditable()&&t.setEditable(!1)}),{discrete:!0})})),e.registerCommand(qe,(()=>{const e=(0,i.zl)(Bg);for(let t of e)t.getEditable()&&t.setEditable(!1);return!1}),i.jZ),function(e,t){if(!e.hasNodes([Bg,Wg]))throw new Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return null==t&&(t=Yg),Po(e.registerMutationListener(Bg,(t=>{e.update((()=>{for(const[n,o]of t)if("destroyed"!==o){const t=(0,i.ns)(n);null!==t&&$g(t,e)}}))})),e.registerNodeTransform(Bg,(n=>em(n,e,t))),e.registerNodeTransform(i.Ey,(n=>Zg(n,e,t))),e.registerNodeTransform(Wg,(n=>Zg(n,e,t))),e.registerCommand(i.OX,(t=>{const n=function(e){const t=(0,i.vJ)();if(!(0,i.I2)(t)||!om(t))return null;const n=e?i.si:i.Pi,o=e?i.si:i.YW;if(am(t).length>1)return n;const a=t.getNodes()[0];if(!(Rg(a)||Vg(a)||(0,i.MK)(a)||(0,i.wH)(a)))throw Error("Expected selection firstNode to be CodeHighlightNode or TabNode");if(Rg(a))return n;const r=Gg(a),l=Xg(a),s=t.anchor,c=t.focus;let d,u;return c.isBefore(s)?(d=c,u=s):(d=s,u=c),null!==r&&null!==l&&d.key===r.getKey()&&0===d.offset&&u.key===l.getKey()&&u.offset===l.getTextContentSize()?n:o}(t.shiftKey);return null!==n&&(t.preventDefault(),e.dispatchCommand(n,void 0),!0)}),i.Ac),e.registerCommand(i.YW,(()=>!!om((0,i.vJ)())&&((0,i.H2)([(0,i.ev)()]),!0)),i.Ac),e.registerCommand(i.Pi,(e=>im(i.Pi)),i.Ac),e.registerCommand(i.si,(e=>im(i.si)),i.Ac),e.registerCommand(i.UD,(e=>rm(i.UD,e)),i.Ac),e.registerCommand(i.bb,(e=>rm(i.bb,e)),i.Ac),e.registerCommand(i.A6,(e=>lm(i.A6,e)),i.Ac),e.registerCommand(i.Rp,(e=>lm(i.Rp,e)),i.Ac))}(e))}function hm(e,t){const n={};for(const o of e){const e=t(o);n[e]?n[e].push(o):n[e]=[o]}return n}function fm(e){const t=hm(e,(e=>e.type));return{element:t.element||[],textFormat:t["text-format"]||[],textMatch:t["text-match"]||[]}}n(85623),n(94778),n(8340);const bm=/[!-/:-@[-`{-~\s]/;function vm(e,t,n,o){for(const a of t){const t=a.export(e,(e=>ym(e,n,o)));if(null!=t)return t}return(0,i.ff)(e)?ym(e,n,o):(0,i.Cy)(e)?e.getTextContent():null}function ym(e,t,n){const o=[],a=e.getChildren();e:for(const e of a){for(const a of n){const i=a.export(e,(e=>ym(e,t,n)),((e,n)=>xm(e,n,t)));if(null!=i){o.push(i);continue e}}(0,i.wH)(e)?o.push("\n"):(0,i.kF)(e)?o.push(xm(e,e.getTextContent(),t)):(0,i.ff)(e)?o.push(ym(e,t,n)):(0,i.Cy)(e)&&o.push(e.getTextContent())}return o.join("")}function xm(e,t,n){const o=t.trim();let a=o;const i=new Set;for(const t of n){const n=t.format[0],o=t.tag;wm(e,n)&&!i.has(n)&&(i.add(n),wm(_m(e,!0),n)||(a=o+a),wm(_m(e,!1),n)||(a+=o))}return t.replace(o,a)}function _m(e,t){let n=t?e.getPreviousSibling():e.getNextSibling();if(!n){const o=e.getParentOrThrow();o.isInline()&&(n=t?o.getPreviousSibling():o.getNextSibling())}for(;n;){if((0,i.ff)(n)){if(!n.isInline())break;const e=t?n.getLastDescendant():n.getFirstDescendant();if((0,i.kF)(e))return e;n=t?n.getPreviousSibling():n.getNextSibling()}if((0,i.kF)(n))return n;if(!(0,i.ff)(n))return null}return null}function wm(e,t){return(0,i.kF)(e)&&e.hasFormat(t)}const Em="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,km=Em&&"documentMode"in document?document.documentMode:null;Em&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Em&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Em&&"InputEvent"in window&&!km&&new window.InputEvent("input");const Cm=Em&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Sm=Em&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;Em&&/Android/.test(navigator.userAgent);const Am=Em&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Tm=Em&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Am,Nm=/^\s{0,3}$/,Lm=/^```(\w{1,10})?\s?$/;function Im(e){if(!(0,i.bS)(e))return!1;const t=e.getFirstChild();return null==t||1===e.getChildrenSize()&&(0,i.kF)(t)&&Nm.test(t.getTextContent())}function Mm(e,t,n,o,a){const r=e.trim(),l=(0,i.sT)(r),s=(0,i.lJ)();s.append(l),t.append(s);for(const{regExp:t,replace:o}of n){const n=e.match(t);if(n){l.setTextContent(e.slice(n[0].length)),o(s,[l],n,!0);break}}if(Bm(l,o,a),s.isAttached()&&r.length>0){const e=s.getPreviousSibling();if((0,i.bS)(e)||Ia(e)||Wp(e)){let t=e;if(Wp(e)){const n=e.getLastDescendant();t=null==n?null:Ko(n,zp)}null!=t&&t.getTextContentSize()>0&&(t.splice(t.getChildrenSize(),0,[(0,i.WK)(),...s.getChildren()]),s.remove())}}}function Om(e,t,n){const o=e[t].match(Lm);if(o){let a=t;const r=e.length;for(;++a<r;)if(e[a].match(Lm)){const r=Dg({language:o[1],onlyCodeEditor:!1}),l=(0,i.sT)(e.slice(t+1,a).join("\n"));return r.append(l),n.append(r),[r,a]}}return[null,t]}function Bm(e,t,n){const o=e.getTextContent(),a=function(e,t){const n=e.match(t.openTagsRegExp);if(null==n)return null;for(const o of n){const n=o.replace(/^\s/,""),a=t.fullMatchRegExpByTag[n];if(null==a)continue;const i=e.match(a),r=t.transformersByTag[n];if(null!=i&&null!=r){if(!1!==r.intraword)return i;const{index:t=0}=i,n=e[t-1],o=e[t+i[0].length];if((!n||bm.test(n))&&(!o||bm.test(o)))return i}}return null}(o,t);if(!a)return void Dm(e,n);let i,r,l;if(a[0]===o)i=e;else{const t=a.index||0,n=t+a[0].length;0===t?[i,r]=e.splitText(n):[l,i,r]=e.splitText(t,n)}i.setTextContent(a[2]);const s=t.transformersByTag[a[1]];if(s)for(const e of s.format)i.hasFormat(e)||i.toggleFormat(e);i.hasFormat("code")||Bm(i,t,n),l&&Bm(l,t,n),r&&Bm(r,t,n)}function Dm(e,t){let n=e;e:for(;n;){for(const e of t){const o=n.getTextContent().match(e.importRegExp);if(!o)continue;const a=o.index||0,i=a+o[0].length;let r,l,s;0===a?[r,n]=n.splitText(i):[l,r,s]=n.splitText(a,i),l&&Dm(l,t),s&&(n=s),e.replace(r,o);continue e}break}}function Rm(e,t,n){const o=n.length;for(let a=t;a>=o;a--){const t=a-o;if(zm(e,t,n,0,o)&&" "!==e[t+o])return t}return-1}function zm(e,t,n,o,a){for(let i=0;i<a;i++)if(e[t+i]!==n[o+i])return!1;return!0}function Pm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lh;const n=fm(t),o=hm(n.textFormat,(e=>{let{tag:t}=e;return t[t.length-1]})),a=hm(n.textMatch,(e=>{let{trigger:t}=e;return t}));for(const n of t){const t=n.type;if("element"===t||"text-match"===t){const t=n.dependencies;for(const n of t)if(!e.hasNode(n))throw Error("MarkdownShortcuts: missing dependency ".concat(n.getType()," for transformer. Ensure node dependency is included in editor initial config."))}}return e.registerUpdateListener((t=>{let{tags:r,dirtyLeaves:l,editorState:s,prevEditorState:c}=t;if(r.has("historic"))return;if(e.isComposing())return;const d=s.read(i.vJ),u=c.read(i.vJ);if(!(0,i.I2)(u)||!(0,i.I2)(d)||!d.isCollapsed())return;const p=d.anchor.key,g=d.anchor.offset,m=s._nodeMap.get(p);!(0,i.kF)(m)||!l.has(p)||1!==g&&g>u.anchor.offset+1||e.update((()=>{if(m.hasFormat("code"))return;const e=m.getParent();null===e||Rg(e)||((e,t,r)=>{(function(e,t,n,o){const a=e.getParent();if(!(0,i.Iq)(a)||e.getFirstChild()!==t)return!1;const r=t.getTextContent();if(" "!==r[n-1])return!1;for(const{regExp:a,replace:i}of o){const o=r.match(a);if(o&&o[0].length===n){const a=t.getNextSiblings(),[r,l]=t.splitText(n);return r.remove(),i(e,l?[l,...a]:a,o,!1),!0}}return!1})(e,t,r,n.element)||function(e,t,n){let o=e.getTextContent();const a=n[o[t-1]];if(null==a)return!1;t<o.length&&(o=o.slice(0,t));for(const t of a){const n=o.match(t.regExp);if(null===n)continue;const a=n.index||0,i=a+n[0].length;let r;return 0===a?[r]=e.splitText(i):[,r]=e.splitText(a,i),r.selectNext(0,0),t.replace(r,n),!0}return!1}(t,r,a)||function(e,t,n){const o=e.getTextContent(),a=t-1,r=o[a],l=n[r];if(!l)return!1;for(const t of l){const{tag:n}=t,l=n.length,s=a-l+1;if(l>1&&!zm(o,s,n,0,l))continue;if(" "===o[s-1])continue;const c=o[a+1];if(!1===t.intraword&&c&&!bm.test(c))continue;const d=e;let u=d,p=Rm(o,s,n),g=u;for(;p<0&&(g=g.getPreviousSibling())&&!(0,i.wH)(g);)if((0,i.kF)(g)){const e=g.getTextContent();u=g,p=Rm(e,e.length,n)}if(p<0)continue;if(u===d&&p+l===s)continue;const m=u.getTextContent();if(p>0&&m[p-1]===r)continue;const h=m[p-1];if(!1===t.intraword&&h&&!bm.test(h))continue;const f=d.getTextContent(),b=f.slice(0,s)+f.slice(a+1);d.setTextContent(b);const v=u===d?b:m;u.setTextContent(v.slice(0,p)+v.slice(p+l));const y=(0,i.vJ)(),x=(0,i.uT)();(0,i.n1)(x);const _=a-l*(u===d?2:1)+1;x.anchor.set(u.__key,p,"text"),x.focus.set(d.__key,_,"text");for(const e of t.format)x.hasFormat(e)||x.formatText(e);x.anchor.set(x.focus.key,x.focus.offset,x.focus.type);for(const e of t.format)x.hasFormat(e)&&x.toggleFormat(e);return(0,i.I2)(y)&&(x.format=y.format),!0}}(t,r,o)})(e,m,d.anchor.offset)}))}))}const Fm=e=>(t,n,o)=>{const a=e(o);a.append(...n),t.replace(a),a.select(0,0)},Hm=e=>(t,n,o)=>{const a=t.getPreviousSibling(),i=t.getNextSibling(),r=Rp("check"===e?"x"===o[3]:void 0);if(Wp(i)&&i.getListType()===e){const e=i.getFirstChild();null!==e?e.insertBefore(r):i.append(r),t.remove()}else if(Wp(a)&&a.getListType()===e)a.append(r),t.remove();else{const n=Kp(e,"number"===e?Number(o[2]):void 0);n.append(r),t.replace(n)}r.append(...n),r.select(0,0);const l=Math.floor(o[1].length/4);l&&r.setIndent(l)},qm=(e,t,n)=>{const o=[],a=e.getChildren();let i=0;for(const r of a)if(zp(r)){if(1===r.getChildrenSize()){const e=r.getFirstChild();if(Wp(e)){o.push(qm(e,t,n+1));continue}}const a=" ".repeat(4*n),l=e.getListType(),s="number"===l?"".concat(e.getStart()+i,". "):"check"===l?"- [".concat(r.getChecked()?"x":" ","] "):"- ";o.push(a+s+t(r)),i++}return o.join("\n")},jm={dependencies:[Dn],export:e=>{if(!Pn(e))return null;const t=e.getShort().replace(/\)/g,"\\)"),n=e.getLong().replace(/\)/g,"\\)"),o=e.getWidth(),a=e.getHeight(),i=e.getOriginalDevice(),r=e.getBackgroundColor(),l=e.getSrc();var s="![".concat(t,"](").concat(l,")(").concat(n,")(").concat(o,")(").concat(a,")(").concat(i,")");return r&&(s+="(".concat(r,")")),console.log(s),s},importRegExp:/!(?:\[([^[]*)\])(?:\(([^(]+)\))/,regExp:/!(?:\[([^[]*)\])(?:\(([^(]+)\))$/,replace:(e,t)=>{const[,n,o]=t,a=zn({short:n,long:"",src:o,width:300,height:300,originalDevice:Q(),backgroundColor:void 0});e.replace(a)},trigger:")",type:"text-match"},Km={dependencies:[fl],export:e=>yl(e)?"$".concat(e.getEquation(),"$"):null,importRegExp:/\$([^$]+?)\$/,regExp:/\$([^$]+?)\$$/,replace:(e,t)=>{const[,n]=t,o=vl(n,!0);e.replace(o)},trigger:"$",type:"text-match"},Wm={dependencies:[Ma],export:(e,t)=>{if(!za(e))return null;const n=Math.max(2,Number(e.getTag().slice(1)));return"#".repeat(n)+" "+t(e)},regExp:/^(#{2,6})\s/,replace:Fm((e=>Ra("h"+e[1].length))),type:"element"},Jm={dependencies:[Na],export:(e,t)=>{if(!Ia(e))return null;const n=t(e).split("\n"),o=[];for(const e of n)o.push("> "+e);return o.join("\n")},regExp:/^>\s/,replace:(e,t,n,o)=>{if(o){const n=e.getPreviousSibling();if(Ia(n))return n.splice(n.getChildrenSize(),0,[(0,i.WK)(),...t]),n.select(0,0),void e.remove()}const a=La();a.append(...t),e.replace(a),a.select(0,0)},type:"element"},Um={dependencies:[Bg,Wg],export:e=>{if(!Rg(e))return null;const t=e.getTextContent();return"```"+(e.getLanguage()||"")+(t?"\n"+t:"")+"\n```"},regExp:/^```(\w{1,14})?\s/,replace:Fm((e=>Dg({language:e?e[1]:void 0,onlyCodeEditor:!1}))),type:"element"},Vm={dependencies:[Pp,Mp],export:(e,t)=>Wp(e)?qm(e,t,0):null,regExp:/^(\s*)[-*+]\s/,replace:Hm("bullet"),type:"element"},Gm={dependencies:[Pp,Mp],export:(e,t)=>Wp(e)?qm(e,t,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:Hm("check"),type:"element"},Xm={dependencies:[Pp,Mp],export:(e,t)=>Wp(e)?qm(e,t,0):null,regExp:/^(\s*)(\d{1,})\.\s/,replace:Hm("number"),type:"element"},Ym={dependencies:[Bl],export:(e,t,n)=>{if(!zl(e))return null;const o=e.getTitle(),a=o?"[".concat(e.getTextContent(),"](").concat(e.getURL(),' "').concat(o,'")'):"[".concat(e.getTextContent(),"](").concat(e.getURL(),")"),r=e.getFirstChild();return 1===e.getChildrenSize()&&(0,i.kF)(r)?n(r,a):a},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(e,t)=>{const[,n,o,a]=t,r=Rl(o,{title:a}),l=(0,i.sT)(n);l.setFormat(e.getFormat()),r.append(l),e.replace(r)},trigger:")",type:"text-match"},Zm={dependencies:[Zl],export:(e,t,n)=>{if(!es(e))return null;const o=e.getId(),a="[Section Heading Node](#".concat(o,")"),r=e.getFirstChild();return 1===e.getChildrenSize()&&(0,i.kF)(r)?n(r,a):a},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(e,t)=>{const[,n,o,a]=t;if(o.startsWith("#i")){const e=Ql(o.slice(1)),t=(0,i.sT)(n);t.setFormat(t.getFormat()),e.append(t),t.replace(e)}else{const t=Rl(o,{title:a}),r=(0,i.sT)(n);r.setFormat(e.getFormat()),t.append(r),e.replace(t)}},trigger:")",type:"text-match"},$m={dependencies:[os],export:(e,t,n)=>{if(!rs(e))return null;const o=e.getTitle(),a=e.getChildren().map((e=>e.getTextContent())).join("");return"[>(".concat(o,") ").concat(a,"]")},importRegExp:/\[>\((\w+)\)\s(\w+)\]/,regExp:/\[>\((\w+)\)\s(\w+)\]/,replace:(e,t)=>{const[,n,o]=t,a=is(o),r=(0,i.sT)(n);a.append(r),e.replace(a)},trigger:"]",type:"text-match"},Qm=/^(?:\|)(.+)(?:\|)\s?$/,eh=/^(\| ?:?-*:? ?)+\|\s?$/,th=/$.^/,nh={dependencies:[vi,ui,sl,i.mx],export:e=>{var t;if(!(0,i.YZ)(e))return null;const n=null===(t=e.getChildren())||void 0===t?void 0:t[0];if(!_i(n))return null;const o=[];for(const e of n.getChildren()){const t=[];if(!mi(e))continue;let n=!1;for(const o of e.getChildren())ul(o)&&(t.push(gh(sh,o).replace(/\n/g,"\\n")),o.__headerState===al.ROW&&(n=!0));o.push("| ".concat(t.join(" | ")," |")),n&&o.push("| ".concat(t.map((e=>"---")).join(" | ")," |"))}return o.join("\n")},regExp:Qm,replace:(e,t,n)=>{if(eh.test(n[0])){const t=e.getPreviousSibling();if(!t||!_i(t))return;const n=t.getChildren(),o=n[n.length-1];if(!o||!mi(o))return;return o.getChildren().forEach((e=>{ul(e)&&e.toggleHeaderStyle(al.ROW)})),void e.remove()}const o=ah(n[0]);if(null==o)return;const a=[o];let r=e.getPreviousSibling(),l=o.length;for(;r&&(0,i.bS)(r)&&1===r.getChildrenSize();){const e=r.getFirstChild();if(!(0,i.kF)(e))break;const t=ah(e.getTextContent());if(null==t)break;l=Math.max(l,t.length),a.unshift(t);const n=r.getPreviousSibling();r.remove(),r=n}const s=xi();for(const e of a){const t=gi();s.append(t);for(let n=0;n<l;n++)t.append(n<e.length?e[n]:oh(""))}const c=e.getPreviousSibling();_i(c)&&function(e){const t=e.getFirstChild();return mi(t)?t.getChildrenSize():0}(c)===l?(c.append(...s.getChildren()),e.remove()):e.replace(s),s.selectEnd()},type:"element"},oh=e=>{e=e.replace(/\\n/g,"\n");const t=dl(al.NO_STATUS);return function(e){let t=arguments.length>2?arguments[2]:void 0;!function(e){const t=fm(e),n=function(e){const t={},n={},o=[];for(const a of e){const{tag:e}=a;t[e]=a;const i=e.replace(/(\*|\^|\+)/g,"\\$1");o.push(i),n[e]=Cm||Sm||Tm?new RegExp("(".concat(i,")(?![").concat(i,"\\s])(.*?[^").concat(i,"\\s])").concat(i,"(?!").concat(i,")")):new RegExp("(?<![\\\\".concat(i,"])(").concat(i,")((\\\\").concat(i,")?.*?[^").concat(i,"\\s](\\\\").concat(i,")?)((?<!\\\\)|(?<=\\\\\\\\))(").concat(i,")(?![\\\\").concat(i,"])"))}return{fullMatchRegExpByTag:n,openTagsRegExp:new RegExp((Cm||Sm||Tm?"":"".concat("(?<![\\\\])"))+"("+o.join("|")+")","g"),transformersByTag:t}}(t.textFormat);return(e,o)=>{const a=e.split("\n"),r=a.length,l=o||(0,i.Ni)();l.clear();for(let e=0;e<r;e++){const o=a[e],[i,r]=Om(a,e,l);null==i?Mm(o,l,t.element,n,t.textMatch):e=r}const s=l.getChildren();for(const e of s)Im(e)&&e.remove();null!==(0,i.vJ)()&&l.selectEnd()}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:lh)(e,t)}(e,sh,t),t},ah=e=>{const t=e.match(Qm);return t&&t[1]?t[1].split("|").map((e=>oh(e))):null},ih=[{format:["code"],tag:"`",type:"text-format"},{format:["bold","italic"],tag:"***",type:"text-format"},{format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},{format:["bold"],tag:"**",type:"text-format"},{format:["bold"],intraword:!1,tag:"__",type:"text-format"},{format:["quote"],tag:'"',type:"text-format"},{format:["superscript"],tag:"^",type:"text-format"},{format:["subscript"],tag:"~",type:"text-format"},{format:["kbd"],tag:"|",type:"text-format"},{format:["italic"],tag:"*",type:"text-format"},{format:["italic"],intraword:!1,tag:"\\_",type:"text-format"},{format:["strikethrough"],tag:"~~",type:"text-format"}],rh=[Ym,$m,Zm],lh=[Wm,Jm,Um,Vm,Xm,Gm,{dependencies:[fl],export:e=>yl(e)?"$$\n".concat(e.getEquation(),"\n$$"):null,regExp:th,replace:(e,t,n)=>{e.selectEnd()},type:"element"},{dependencies:[vt],export:e=>{if(!wt(e))return null;var t="-----";const n=e.getColor();"var(--divider)"!==n&&(t+="[".concat(n,"]"));const o=e.getWidth();return o>=1&&o<=10&&(t+="[".concat(o,"]")),t},regExp:/^-----(\[#[0-9A-F]{6}\])?(\[[1-10]\])?/,replace:(e,t,n)=>{var o="var(--divider)",a=2;if(Array.isArray(n)&&n.length){const e=n[0];if(2===n.length){const t=n[1];i.zG.test(e.slice(1,e.length-1))&&(o=e.slice(1,e.length-1)),parseInt(t)>=1&&parseInt(t)<=10&&(a=parseInt(t))}else e&&(i.zG.test(e.slice(1,e.length-1))?o=e.slice(1,e.length-1):parseInt(e)>=1&&parseInt(e)<=10&&(a=parseInt(e)))}const r=_t({color:o,width:a});e.replace(r),r.select(0,0)},type:"element"},{dependencies:[ct],export:e=>{if(!function(e){return e instanceof ct}(e))return null;const t=e.getURL().replace(/\)/g,"\\)"),n=e.getTitle().replace(/\)/g,"\\)"),o=e.getDescription().replace(/\)/g,"\\)"),a=e.getImageURL().replace(/\)/g,"\\)"),i=e.getHost().replace(/\)/g,"\\)");return"!![News Node](".concat(t,")(").concat(n,")(").concat(o,")(").concat(a,")(").concat(i,")")},regExp:th,replace:(e,t,n)=>{e.selectEnd()},type:"element"},{dependencies:[pt],export:e=>function(e){return e instanceof pt}(e)?"!![YouTube Node](".concat(e.getId().replace(/\)/g,"\\)"),")"):null,regExp:th,replace:(e,t,n)=>{e.selectEnd()},type:"element"},{dependencies:[bo],export:e=>xo(e)?e.exportDOM().element.outerHTML:null,regExp:th,replace:(e,t,n)=>{e.selectEnd()},type:"element"},{dependencies:[ko],export:e=>function(e){return e instanceof ko}(e)?e.exportDOM().element.outerHTML:null,regExp:th,replace:(e,t,n)=>{e.selectEnd()},type:"element"},{dependencies:[ro],export:e=>function(e){return e instanceof ro}(e)?e.exportDOM().element.outerHTML:null,regExp:th,replace:(e,t,n)=>{e.selectEnd()},type:"element"},{dependencies:[Wn],export:e=>function(e){return e instanceof Wn}(e)?"!![CarouselImage Node](".concat(JSON.stringify(e.getImageList(),null,""),")"):null,regExp:th,replace:(e,t,n)=>{e.selectEnd()},type:"element"},{dependencies:[Et],export:e=>function(e){return e instanceof Et}(e)?"!![Audio Node](".concat(e.getSrc().replace(/\)/g,"\\)"),")(").concat(e.getTitle().replace(/\)/g,"\\)"),")"):null,regExp:th,replace:(e,t,n)=>{e.selectEnd()},type:"element"},{dependencies:[At],export:e=>function(e){return e instanceof At}(e)?"!![Video Node](".concat(e.getSrc().replace(/\)/g,"\\)"),")(").concat(e.getTitle().replace(/\)/g,"\\)"),")(").concat(e.getDescription().replace(/\)/g,"\\)"),")(").concat(e.getHeight(),")"):null,regExp:th,replace:(e,t,n)=>{e.selectEnd()},type:"element"},{dependencies:[Zn],export:e=>function(e){return e instanceof Zn}(e)?'<div data-custom-code data-editing="false"><div data-html> '.concat(e.getHtml(),"</div></div>"):null,regExp:th,replace:(e,t,n)=>{e.selectEnd()},type:"element"},...ih,...rh],sh=[...lh,Km,jm,nh],ch=[Jm,Um,Vm,Xm,Gm,...ih,Ym,Km],dh=[...ih],uh=[...ih,Ym],ph=[Jm,Um,Vm,Xm,Gm,...ih,Ym,Km];function gh(){let e=arguments.length>1?arguments[1]:void 0;const t=function(e){const t=fm(e),n=t.textFormat.filter((e=>1===e.format.length));return e=>{const o=[],a=(e||(0,i.Ni)()).getChildren();for(const e of a){const a=vm(e,t.element,n,t.textMatch);null!=a&&o.push(a)}return o.join("\n\n")}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:lh);return t(e)}function mh(e){const t=e.getAttribute("data-template-columns"),n=e.classList.contains("first-rte-element"),o=e.classList.contains("last-rte-element");if(t){const e=fh(t);return e.setFirstElement(n),e.setLastElement(o),{node:e}}return null}class hh extends i.fG{constructor(e,t){super(t),this.__templateColumns=e}static getType(){return"layout-container"}static clone(e){return new hh(e.__templateColumns,e.__key)}createDOM(e){const t=document.createElement("div");return t.style.gridTemplateColumns=this.__templateColumns,t.classList.add("rte-layout-container"),this.getFirstElement()&&t.classList.add("first-rte-element"),this.getLastElement()&&t.classList.add("last-rte-element"),t}exportDOM(){const e=document.createElement("div");return e.style.cssText="grid-template-columns: ".concat(this.__templateColumns),e.setAttribute("data-template-columns",this.__templateColumns),e.setAttribute("data-lexical-layout-container","true"),e.className="rte-layout-container",this.getFirstElement()&&!Be&&e.classList.add("first-rte-element"),this.getLastElement()&&!Be&&e.classList.add("last-rte-element"),{element:e}}updateDOM(e,t){return e.__templateColumns!==this.__templateColumns&&(t.style.gridTemplateColumns=this.__templateColumns),!1}static importDOM(){return{div:e=>e.hasAttribute("data-lexical-layout-container")?{conversion:mh,priority:4}:null}}static importJSON(e){const t=fh(e.templateColumns);return t.setFirstElement(null==e?void 0:e.first_element),t}isShadowRoot(){return!0}canBeEmpty(){return!1}exportJSON(){return{...super.exportJSON(),templateColumns:this.__templateColumns,type:"layout-container",version:1,first_element:this.getFirstElement()}}getTemplateColumns(){return this.getLatest().__templateColumns}setTemplateColumns(e){this.getWritable().__templateColumns=e}}function fh(e){return new hh(e)}function bh(e){return e instanceof hh}class vh extends i.fG{static getType(){return"layout-item"}static clone(e){return new vh(e.__key)}createDOM(e){const t=document.createElement("div");return t.classList.add("rte-layout-item"),t}updateDOM(){return!1}exportDOM(){const e=document.createElement("div");return e.setAttribute("data-lexical-layout-item","true"),e.className="rte-layout-item",{element:e}}static importDOM(){return{div:e=>e.hasAttribute("data-lexical-layout-item")?{conversion:_h,priority:4}:null}}static importJSON(){return yh()}isShadowRoot(){return!0}exportJSON(){return{...super.exportJSON(),type:"layout-item",version:1}}}function yh(){return new vh}function xh(e){return e instanceof vh}function _h(e){return{node:yh()}}const wh=(0,i.gu)(),Eh=(0,i.gu)();function kh(e){return e.trim().split(/\s+/).length}const Ch=new Set(["2-1","2-2","3-1","3-2","4"]),Sh={"2-1":{label:"2 columns (equal width)",value:"1fr 1fr"},"2-2":{label:"2 columns (25% - 75%)",value:"1fr 3fr"},"3-1":{label:"3 columns (equal width)",value:"1fr 1fr 1fr"},"3-2":{label:"3 columns (25% - 50% - 25%)",value:"1fr 2fr 1fr"},4:{label:"4 columns (equal width)",value:"1fr 1fr 1fr 1fr"}};function Ah(e){e.preventDefault(),e.stopPropagation();const t=this.closest("div.dialog-wrapper"),n=document.getElementById("ins-col-lex-input");if(t&&n){const e=n.value;if(Ch.has(e)){const t=Sh[e];if(t){const e=de();e&&e.dispatchCommand(wh,t.value)}}me(t)}}function Th(e){const t=document.getElementById("column-layout-lexical");if(t){const e=t.querySelector("form");e&&e.addEventListener("submit",Ah),document.dispatchEvent(new CustomEvent("OPEN_DIALOG_FINAL",{detail:{dialog:t}}))}}var Nh=function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}s((o=o.apply(e,t||[])).next())}))},Lh=function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(a=2&l[0]?o.return:l[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,l[1])).done)return a;switch(o=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!((a=(a=r.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){r=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(6===l[0]&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(e){l=[6,e],o=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},Ih={},Mh=void 0,Oh=void 0,Bh={};function Dh(){var e=window.crypto.randomUUID();return{"hidden-label-lexical-font-1":"hidden-label-lexical-font-1_".concat(e),"lexical-font-family-dropdown":"lexical-font-family-dropdown_".concat(e),font_family_lexical:"font_family_lexical_".concat(e),"heading-node-lexical-menu":"heading-node-lexical-menu_".concat(e),"lexical-background-color-menu":"lexical-background-color-menu_".concat(e),"lexical-background-color-1":"lexical-background-color-1_".concat(e),"lexical-text-color-menu":"lexical-text-color-menu_".concat(e),"lexical-text-color-1":"lexical-text-color-1_".concat(e),"highlight-lexical":"highlight-lexical_".concat(e),"hidden-label-lexical-weight-1":"hidden-label-lexical-weight-1_".concat(e),"lexical-font-weight-dropdown":"lexical-font-weight-dropdown_".concat(e),font_weight_lexical:"font_weight_lexical_".concat(e),"hidden-label-lexical-size-1":"hidden-label-lexical-size-1_".concat(e),"lexical-font-size-dropdown":"lexical-font-size-dropdown_".concat(e),font_size_lexical:"font_size_lexical_".concat(e),"lexical-insert-link-main":"lexical-insert-link-main_".concat(e),"lex-insert-link-main-url":"lex-insert-link-main-url_".concat(e),"embed-media-content-popup":"embed-media-content-popup_".concat(e),"lex-insert-lists-popover":"lex-insert-lists-popover_".concat(e),"lex-insert-quotes-popover":"lex-insert-quotes-popover_".concat(e),"lex-insert-aside-menu":"lex-insert-aside-menu_".concat(e),"lexical-code-lang-dropdown-input":"lexical-code-lang-dropdown-input_".concat(e),"lexical-code-lang-dropdown":"lexical-code-lang-dropdown_".concat(e),"lexical-upload-single-image-input":"lexical-upload-single-image-input_".concat(e),"lexical-upload-single-image":"lexical-upload-single-image_".concat(e),"lexical-upload-multiple-images-input":"lexical-upload-multiple-images-input_".concat(e),"lexical-upload-multiple-images":"lexical-upload-multiple-images_".concat(e),"lexical-upload-carousel-images-input":"lexical-upload-carousel-images-input_".concat(e),"lexical-upload-image-carousel":"lexical-upload-image-carousel_".concat(e),"insert-audio-file-tab-lexical":"insert-audio-file-tab-lexical_".concat(e),"lexical-upload-single-audio-input":"lexical-upload-single-audio-input_".concat(e),"insert-audio-files-tab-lexical":"insert-audio-files-tab-lexical_".concat(e),"lexical-upload-multiple-audio-input":"lexical-upload-multiple-audio-input_".concat(e),"insert-video-file-tab-lexical":"insert-video-file-tab-lexical_".concat(e),"insert-video-files-tab-lexical":"insert-video-files-tab-lexical_".concat(e),"lexical-upload-single-video-input":"lexical-upload-single-video-input_".concat(e),"lexical-upload-multiple-video-input":"lexical-upload-multiple-video-input_".concat(e),"lex-insert-code-menu":"lex-insert-code-menu_".concat(e),"lex-background-color-transparent":"lex-background-color-transparent_".concat(e),"lex-text-color-transparent":"lex-text-color-transparent_".concat(e),"lexical-wrapper":"lexical_wrapper_".concat(e)}}function Rh(e,t,n,o){void 0===e&&(e="comment"),void 0===t&&(t=!1),void 0===n&&(n="<p>Insert comment here...</p>"),void 0===o&&(o={wrapperStyle:"block lexical-wrapper mt-3",type:"comment",rteStyle:"max-height: 400px; min-height: 150px; overflow-y:auto;"});var r=Dh();r.initialHTML=n;var l=document.querySelector("html"),s="light"===(null==l?void 0:l.getAttribute("data-mode"))?"light":"dark",c=document.getElementById("background-".concat(s,"-settings-color")),d=document.getElementById("textColor-".concat(s,"-settings-color")),u=c&&i.zG.test(c.value)?c.value:"#000000",p=d&&i.zG.test(d.value)?d.value:"#ffffff",g=o.wrapperStyle,m=!(0,a.CN)(),h=o.rteStyle,f=window.crypto.randomUUID(),b=document.createElement("div");b.className=g,b.id=e,b.setAttribute("data-current","false");var v=Boolean("range-description"!==o.type&&"survey-option"!==o.type),y=Boolean("range-description"!==o.type);b.insertAdjacentHTML("beforeend",'<div role="toolbar" class="toggle-button-group hz-scroll">\n     \n      <div role="toolbar" class="toggle-button-group subgroup left">\n        <div '.concat(m?'data-popover data-mouse data-pelem="#lex-background-color" aria-describedby="lex-background-color"':"",'>\n          <button data-lexical-bg-color-button aria-haspopup="dialog" data-popover data-click data-pelem="#').concat(r["lexical-background-color-menu"],'" data-force-close type="button" class="toggle-button" aria-label="Background Color">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="FormatColorFillSharp"><path d="M10 17.62 17.62 10l-10-10-1.41 1.41 2.38 2.38L2.38 10 10 17.62zm0-12.41L14.79 10H5.21L10 5.21zM19 17c1.1 0 2-.9 2-2 0-1.33-2-3.5-2-3.5s-2 2.17-2 3.5c0 1.1.9 2 2 2zM2 20h20v4H2z"></path></svg>\n          </button>\n        </div>\n        <div data-click-capture class="floating-menu o-xs" style="min-width: 150px;" data-placement="bottom-end" id="').concat(r["lexical-background-color-menu"],'">\n          <label class="body2" for="').concat(r["lexical-background-color-1"],'">Background Color:</label>\n          <div class="flex-row justify-begin align-center gap-2">\n            <input data-lexical-background-color type="color" data-coloris name="').concat(r["lexical-background-color-1"],'" id="').concat(r["lexical-background-color-1"],'" value="').concat(u,'" style="margin-top: 2px;">\n            <span class="body2">').concat(u,'</span>\n          </div>\n          <label class="checkbox mt-1">\n            <input data-lexical-background-transparent checked type="checkbox" class="secondary" name="').concat(r["lex-background-color-transparent"],'" id="').concat(r["lex-background-color-transparent"],'">\n            Transparent\n          </label>\n        </div>\n        <div ').concat(m?'data-popover data-mouse data-pelem="#lex-text-color" aria-describedby="lex-text-color"':"",'>\n          <button data-lexical-text-color-button data-popover data-pelem="#').concat(r["lexical-text-color-menu"],'" data-force-close aria-haspopup="dialog" data-click type="button" class="toggle-button" aria-label="Text Color">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="FormatColorTextSharp"><path d="M2 20h20v4H2v-4zm3.49-3h2.42l1.27-3.58h5.65L16.09 17h2.42L13.25 3h-2.5L5.49 17zm4.42-5.61 2.03-5.79h.12l2.03 5.79H9.91z"></path></svg>\n          </button>\n        </div>\n        <div data-click-capture class="floating-menu o-xs" style="min-width: 150px;" data-placement="bottom-end" id="').concat(r["lexical-text-color-menu"],'">\n          <label class="body2" for="').concat(r["lexical-text-color-1"],'">Text Color:</label>\n          <div class="flex-row justify-begin align-center gap-2">\n            <input data-lexical-text-color type="color" data-coloris name="').concat(r["lexical-text-color-1"],'" id="').concat(r["lexical-text-color-1"],'" value="').concat(p,'" style="margin-top: 2px;">\n            <span class="body2">').concat(p,'</span>\n          </div>\n          <label class="checkbox mt-1">\n            <input data-lexical-text-transparent checked type="checkbox" class="secondary" name="').concat(r["lex-text-color-transparent"],'" id="').concat(r["lex-text-color-transparent"],'">\n            Inherit\n          </label>\n        </div>\n        <button data-dispatch="FORMAT_TEXT_COMMAND" data-payload="bold" type="button" ').concat(m?'data-popover data-mouse data-pelem="#lex-bold" aria-describedby="lex-bold"':"",' class="toggle-button" aria-label="Bold" >\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="FormatBoldSharp"><path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"></path></svg>\n        </button>\n        <button data-dispatch="FORMAT_TEXT_COMMAND" data-payload="italic" type="button" ').concat(m?'data-popover data-mouse data-pelem="#lex-italic" aria-describedby="lex-italic"':"",' class="toggle-button" aria-label="Italic" >\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="FormatItalicSharp"><path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z"></path></svg>\n        </button>\n        <button data-dispatch="FORMAT_TEXT_COMMAND" data-payload="strikethrough" type="button" ').concat(m?'data-popover data-mouse data-pelem="#lex-strikethrough" aria-describedby="lex-strikethrough"':"",' class="toggle-button" aria-label="Strikethrough" >\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="StrikethroughSSharp"><path d="M7.24 8.75c-.26-.48-.39-1.03-.39-1.67 0-.61.13-1.16.4-1.67.26-.5.63-.93 1.11-1.29.48-.35 1.05-.63 1.7-.83.66-.19 1.39-.29 2.18-.29.81 0 1.54.11 2.21.34.66.22 1.23.54 1.69.94.47.4.83.88 1.08 1.43s.38 1.15.38 1.81h-3.01c0-.31-.05-.59-.15-.85-.09-.27-.24-.49-.44-.68-.2-.19-.45-.33-.75-.44-.3-.1-.66-.16-1.06-.16-.39 0-.74.04-1.03.13s-.53.21-.72.36c-.19.16-.34.34-.44.55-.1.21-.15.43-.15.66 0 .48.25.88.74 1.21.38.25.77.48 1.41.7H7.39c-.05-.08-.11-.17-.15-.25zM21 12v-2H3v2h9.62c.18.07.4.14.55.2.37.17.66.34.87.51s.35.36.43.57c.07.2.11.43.11.69 0 .23-.05.45-.14.66-.09.2-.23.38-.42.53-.19.15-.42.26-.71.35-.29.08-.63.13-1.01.13-.43 0-.83-.04-1.18-.13s-.66-.23-.91-.42c-.25-.19-.45-.44-.59-.75s-.25-.76-.25-1.21H6.4c0 .55.08 1.13.24 1.58s.37.85.65 1.21c.28.35.6.66.98.92.37.26.78.48 1.22.65.44.17.9.3 1.38.39.48.08.96.13 1.44.13.8 0 1.53-.09 2.18-.28s1.21-.45 1.67-.79c.46-.34.82-.77 1.07-1.27s.38-1.07.38-1.71c0-.6-.1-1.14-.31-1.61-.05-.11-.11-.23-.17-.33H21V12z"></path></svg>\n        </button>\n        <button data-dispatch="FORMAT_TEXT_COMMAND" data-payload="underline" type="button" ').concat(m?'data-popover data-mouse data-pelem="#lex-underline" aria-describedby="lex-underline"':"",' class="toggle-button" aria-label="Underline" >\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="FormatUnderlinedSharp"><path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"></path></svg>\n        </button>\n        <button  data-dispatch="FORMAT_TEXT_COMMAND" data-payload="kbd" type="button" ').concat(m?'data-popover data-mouse data-pelem="#lex-kbd" aria-describedby="lex-kbd"':"",'  class="toggle-button" aria-label="Insert Keyboard Command">\n          <svg viewBox="0 0 576 512" title="keyboard" focusable="false" inert tabindex="-1"><path d="M64 64C28.7 64 0 92.7 0 128V384c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H64zm16 64h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16zM64 240c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V240zm16 80h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V336c0-8.8 7.2-16 16-16zm80-176c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V144zm16 80h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V240c0-8.8 7.2-16 16-16zM160 336c0-8.8 7.2-16 16-16H400c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V336zM272 128h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H272c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16zM256 240c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H272c-8.8 0-16-7.2-16-16V240zM368 128h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H368c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16zM352 240c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H368c-8.8 0-16-7.2-16-16V240zM464 128h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H464c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16zM448 240c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H464c-8.8 0-16-7.2-16-16V240zm16 80h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H464c-8.8 0-16-7.2-16-16V336c0-8.8 7.2-16 16-16z"></path></svg>\n        </button>\n        <button  data-dispatch="FORMAT_TEXT_COMMAND" data-payload="quote" type="button" ').concat(m?'data-popover data-mouse data-pelem="#lex-quote-inline" aria-describedby="lex-quote-inline"':"",'  class="toggle-button" aria-label="Insert Quote">\n          <svg viewBox="0 0 448 512" title="quote-left" focusable="false" inert tabindex="-1"><path d="M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V320 288 216zm256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H320c-35.3 0-64-28.7-64-64V320 288 216z"></path></svg>\n        </button>\n        <button data-dispatch="FORMAT_TEXT_COMMAND" data-payload="superscript" type="button" ').concat(m?'data-popover data-mouse data-pelem="#lex-superscript" aria-describedby="lex-superscript"':"",' class="toggle-button" aria-label="Superscript" >\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="SuperscriptSharp"><path d="M20 7v1h3v1h-4V6h3V5h-3V4h4v3h-3zM5.88 20h2.66l3.4-5.42h.12l3.4 5.42h2.66l-4.65-7.27L17.81 6h-2.68l-3.07 4.99h-.12L8.85 6H6.19l4.32 6.73L5.88 20z"></path></svg>\n        </button>\n        <button data-dispatch="FORMAT_TEXT_COMMAND" data-payload="subscript" type="button" ').concat(m?'data-popover data-mouse data-pelem="#lex-subscript" aria-describedby="lex-subscript"':"",' class="toggle-button" aria-label="Subscript" >\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="SubscriptSharp"><path d="M20 18v1h3v1h-4v-3h3v-1h-3v-1h4v3h-3zM5.88 18h2.66l3.4-5.42h.12l3.4 5.42h2.66l-4.65-7.27L17.81 4h-2.68l-3.07 4.99h-.12L8.85 4H6.19l4.32 6.73L5.88 18z"></path></svg>\n        </button>\n        <button data-dispatch="CLEAR_TEXT_FORMATTING" type="button" ').concat(m?'data-popover data-mouse data-pelem="#lex-clear-text-formatting" aria-describedby="lex-clear-text-formatting"':"",' class="toggle-button" aria-label="Clear Text Formatting" >\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="FormatClear"><path d="M3.27 5 2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"></path></svg>\n        </button>\n        <div ').concat(Boolean(!0===m)?'data-popover data-mouse data-pelem="#lex-insert-link-pop" aria-describedby="lex-insert-link-pop"':"",'>\n          <button data-lexical-link-button data-click type="button" class="toggle-button" aria-label="Insert Link" aria-haspopup="dialog"  data-popover data-pelem="#').concat(r["lexical-insert-link-main"],'" data-force-close>\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Link"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg>\n          </button>\n        </div>\n      </div>\n      <div role="toolbar" class="toggle-button-group subgroup pl-1 left" ').concat(m?'data-popover data-pelem="#lex-edit-block-element" data-mouse':"",'>\n        <button data-lexical-block-style-button type="button" data-click aria-haspopup="dialog" data-dialog="lexical-block-edit-dialog" class="toggle-button" aria-label="Edit block elements in selection">\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="SettingsSuggest"><path d="M17.41 6.59 15 5.5l2.41-1.09L18.5 2l1.09 2.41L22 5.5l-2.41 1.09L18.5 9l-1.09-2.41zm3.87 6.13L20.5 11l-.78 1.72-1.72.78 1.72.78.78 1.72.78-1.72L23 13.5l-1.72-.78zm-5.04 1.65 1.94 1.47-2.5 4.33-2.24-.94c-.2.13-.42.26-.64.37l-.3 2.4h-5l-.3-2.41c-.22-.11-.43-.23-.64-.37l-2.24.94-2.5-4.33 1.94-1.47c-.01-.11-.01-.24-.01-.36s0-.25.01-.37l-1.94-1.47 2.5-4.33 2.24.94c.2-.13.42-.26.64-.37L7.5 6h5l.3 2.41c.22.11.43.23.64.37l2.24-.94 2.5 4.33-1.94 1.47c.01.12.01.24.01.37s0 .24-.01.36zM13 14c0-1.66-1.34-3-3-3s-3 1.34-3 3 1.34 3 3 3 3-1.34 3-3z"></path></svg>\n        </button>\n      </div>\n      \n      <div role="toolbar" class="toggle-button-group subgroup pl-1 left">\n        <div hidden id="').concat(r["hidden-label-lexical-size-1"],'">Font Size For Editor</div>\n        <button \n        style="height: 2.13rem!important; border-radius: 0px!important;" \n        type="button" \n        role="combobox" \n        aria-haspopup="listbox" \n        aria-controls="').concat(r["lexical-font-size-dropdown"],'" \n        aria-labelledby="').concat(r["hidden-label-lexical-size-1"],'"\n        data-pelem="#').concat(r["lexical-font-size-dropdown"],'"\n        aria-expanded="false" \n        data-placeholder="Current Font Size for Lexical" \n        class="select small" \n        data-popover \n        data-click\n        data-lexical-font-size-button\n        ').concat(m?"data-force-close":"",'\n        >\n          <span class="body1" style="width: max-content!important; min-width: 60px!important; text-align: left!important;">Font Size</span>\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ArrowDropDown"><path d="m7 10 5 5 5-5z"></path></svg>\n        </button>\n        <div \n        ').concat(m?"data-click-capture":"",'\n        style="width: fit-content!important;" \n        tabindex="0" \n        id="').concat(r["lexical-font-size-dropdown"],'" \n        role="listbox" \n        class="select-menu o-xs" \n        data-placement="bottom"\n        >\n          <input data-lexical-font-size-input type="text" hidden="" value="400" name="').concat(r.font_size_lexical,'" id="').concat(r.font_size_lexical,'">\n          <button data-val="Inherit" type="button" tabindex="-1" class="select-option" role="option" aria-selected="true">\n            Inherit\n          </button>\n          <button data-val="caption" type="button" tabindex="-1" class="select-option caption" role="option" aria-selected="false">\n            Caption\n          </button>\n          <button data-val="body2" type="button" tabindex="-1" class="select-option body2" role="option" aria-selected="false">\n            Body 2\n          </button>\n          <button data-val="body1" type="button" tabindex="-1" class="select-option body1" role="option" aria-selected="false">\n            Body 1\n          </button>\n          <button data-val="h6" type="button" tabindex="-1" class="select-option h6" role="option" aria-selected="false">\n            H6\n          </button>\n          <button data-val="h5" type="button" tabindex="-1" class="select-option h5" role="option" aria-selected="false">\n            H5\n          </button>\n          <button data-val="h4" type="button" tabindex="-1" class="select-option h4" role="option" aria-selected="false">\n            H4\n          </button>\n          <button data-val="h3" type="button" tabindex="-1" class="select-option h3" role="option" aria-selected="false">\n            H3\n          </button>\n          <button data-val="h2" type="button" tabindex="-1" class="select-option h2" role="option" aria-selected="false">\n            H2\n          </button>\n          <button data-val="h1" type="button" tabindex="-1" class="select-option h1" role="option" aria-selected="false">\n            H1\n          </button>\n        </div>\n        <button data-dispatch="UNDO_COMMAND" type="button" ').concat(m?'data-popover data-mouse data-pelem="#lex-undo-last-change" aria-describedby="lex-undo-last-change"':"",' class="toggle-button" aria-label="Undo">\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="UndoSharp"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"></path></svg>\n        </button>\n        <button data-dispatch="REDO_COMMAND" type="button" ').concat(m?'data-popover data-mouse data-pelem="#lex-redo-last-change" aria-describedby="lex-redo-last-change"':"",' class="toggle-button" aria-label="Redo">\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="RedoSharp"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"></path></svg>\n        </button>\n        <button data-dispatch="CLEAR_EDITOR_COMMAND" data-payload="false" type="button" ').concat(m?'data-popover data-mouse data-pelem="#lex-clear-editor" aria-describedby="lex-clear-editor"':"",' class="toggle-button" aria-label="Reset">\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Clear"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>                      \n        </button>\n        <button data-dispatch="INSERT_LINE_BREAK_COMMAND" type="button" ').concat(m?'data-popover data-mouse data-pelem="#lex-insert-line-break" aria-describedby="lex-insert-line-break"':"",' class="toggle-button" aria-label="New Line">\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="KeyboardReturnSharp"><path d="M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7h-2z"></path></svg>\n        </button>  \n      </div>\n      <div role="toolbar" class="toggle-button-group subgroup left">\n        <div ').concat(Boolean(!0===m)?'data-popover data-mouse data-pelem="#lex-upload-or-take-image" aria-describedby="lex-upload-or-take-image"':"",'>\n          <button data-lexical-image-button data-click type="button" class="toggle-button" aria-label="Upload or Take Image">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ImageSharp"><path d="M21 21V3H3v18h18zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"></path></svg>\n          </button>\n        </div>\n        \n        <div ').concat(Boolean(!0===m)?'data-popover data-mouse data-pelem="#lex-upload-or-record-audio" aria-describedby="lex-upload-or-record-audio"':"",'>\n          <button data-lexical-audio-button data-click type="button" class="toggle-button" aria-label="Upload or Record Audio">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="AudiotrackSharp"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"></path></svg>\n          </button>\n        </div>\n        \n        <div ').concat(Boolean(!0===m)?'data-popover data-mouse data-pelem="#lex-upload-or-take-video" aria-describedby="lex-upload-or-take-video"':"",'>\n          <button data-lexical-video-button data-click type="button" class="toggle-button" aria-label="Upload or Record Video">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="VideocamSharp"><path d="M17 10.5V6H3v12h14v-4.5l4 4v-11l-4 4z"></path></svg>\n          </button>\n        </div>\n\n        <div ').concat(Boolean(!0===m)?'data-popover data-mouse data-pelem="#lex-upload-gif" aria-describedby="lex-upload-gif"':"",'>\n          <button data-lexical-gif-button data-click type="button" class="toggle-button" aria-label="Upload GIF">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Gif"><path d="M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1zm10 1.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z"></path></svg>\n          </button>\n          <input data-lexical-gif-input multiple type="file" hidden="hidden" accept=".gif" />\n        </div>\n    \n        <div ').concat(Boolean(!0===m)?'data-popover data-mouse data-pelem="#lex-speech-to-text" aria-describedby="lex-speech-to-text"':"",'>\n          <button data-lexical-speech-to-text data-click type="button" class="toggle-button lex-stt" aria-label="Speech to Text">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Mic"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path></svg>\n          </button>\n        </div>\n        <div ').concat(Boolean(!0===m)?'data-popover data-mouse data-pelem="#lex-insert-lists" aria-describedby="lex-insert-lists"':"",'>\n          <button data-lexical-list-button aria-haspopup="dialog" data-popover data-pelem="#').concat(r["lex-insert-lists-popover"],'" data-click type="button"  class="toggle-button" aria-label="Insert List">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ListSharp"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7zm-4 6h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"></path></svg>\n          </button>\n        </div>\n        ').concat(y?"\n        <div ".concat(m?'data-popover data-mouse="" data-pelem="#lex-insert-custom-html-pop" aria-describedby="lex-insert-custom-html-pop"':"",'>\n            <button data-custom-html-btn data-dialog="lex-insert-custom-html" type="button" class="toggle-button" aria-label="Insert Custom HTML">\n                <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Html"><path d="M3.5 9H5v6H3.5v-2.5h-2V15H0V9h1.5v2h2V9zm14 0H13c-.55 0-1 .45-1 1v5h1.5v-4.5h1V14H16v-3.51h1V15h1.5v-5c0-.55-.45-1-1-1zM11 9H6v1.5h1.75V15h1.5v-4.5H11V9zm13 6v-1.5h-2.5V9H20v6h4z"></path></svg>\n            </button>\n            <input data-lexical-gif-input="" multiple="" type="file" hidden="hidden" accept=".gif">\n        </div>'):"","\n        <div ").concat(Boolean(!0===m)?'data-popover data-mouse data-pelem="#lex-insert-quote" aria-describedby="lex-insert-quote"':"",'>\n          <button data-lexical-quote-button="" data-dispatch="INSERT_QUOTE_COMMAND"  data-click type="button" class="toggle-button" aria-label="Insert Quote">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="FormatQuote"><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"></path></svg>\n          </button>\n        </div>\n        \n    \n        <div ').concat(Boolean(!0===m)?'data-popover data-mouse data-pelem="#lex-insert-code" aria-describedby="lex-insert-code"':"",'>\n          <button data-lexical-insert-code data-click data-popover data-pelem="#').concat(r["lex-insert-code-menu"],'" type="button" class="toggle-button" aria-label="Insert Code">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="CodeSharp"><path d="M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg>\n          </button>\n        </div>\n        \n    \n        <div ').concat(Boolean(!0===m)?'data-popover data-mouse data-pelem="#lex-insert-math" aria-describedby="lex-insert-math"':"",'>\n          <button data-lexical-math-button data-click  aria-haspopup="dialog" data-dialog="math-markup-lexical" type="button" class="toggle-button" aria-label="Insert Equation">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Functions"><path d="M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"></path></svg>\n          </button>\n        </div>\n    \n        <div ').concat(Boolean(!0===m)?'data-popover data-mouse data-pelem="#lex-insert-table" aria-describedby="lex-insert-table"':"",'>\n          <button data-lexical-table-button data-click aria-haspopup="dialog" data-dialog="tables-lexical" type="button" class="toggle-button" aria-label="Insert Table">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="TableView"><path d="M19 7H9c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm0 2v2H9V9h10zm-6 6v-2h2v2h-2zm2 2v2h-2v-2h2zm-4-2H9v-2h2v2zm6-2h2v2h-2v-2zm-8 4h2v2H9v-2zm8 2v-2h2v2h-2zM6 17H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2v1h-2V5H5v10h1v2z"></path></svg>\n          </button>\n        </div>\n    \n        <div ').concat(Boolean(!0===m)?'data-popover data-mouse data-pelem="#lex-hr" aria-describedby="lex-hr"':"",'>\n          <button data-lexical-hr-button data-click aria-haspopup="dialog" data-dialog="horizontal-rule-lexical" type="button" class="toggle-button" aria-label="Insert Horizontal Rule">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="HorizontalRule"><path fill-rule="evenodd" d="M4 11h16v2H4z"></path></svg>\n          </button>\n        </div>\n        ').concat(v?"\n        <div ".concat(Boolean(!0===m)?'data-popover data-mouse data-pelem="#lex-embed-media-content" aria-describedby="lex-embed-media-content"':"",'>\n          <button data-lexical-embed-media data-click type="button" class="toggle-button" aria-label="Insert Embedded Content" aria-haspopup="dialog" \n          data-popover\n          data-pelem="#').concat(r["embed-media-content-popup"],'"\n          data-click \n          >\n          <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ThumbUp"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"></path></svg>              </button>\n        </div>'):"",'\n\n\n        <div data-lexical-link-popup id="').concat(r["lexical-insert-link-main"],'" role="dialog" class="floating-menu o-xs" style="padding:4px;border-radius:6px; max-width: 500px!important; width: 400px!important;" data-placement="top-start" data-click-capture>\n            <div class="input-group block" data-hover="false" data-focus="false" data-error="false" data-blurred="false">\n            <label for="').concat(r["lex-insert-link-main-url"],'">Link URL:</label>\n            <div class="text-input block medium">\n                <input\n                data-lexical-link-input\n                name="').concat(r["lex-insert-link-main-url"],'"\n                id="').concat(r["lex-insert-link-main-url"],'" \n                class="mt-1 \n                medium icon-before" \n                placeholder="Enter the URL of the link..." \n                maxlength="1500"\n                autocomplete="off" \n                autocapitalize="on" \n                spellcheck="false" \n                type="url" \n                style="padding: 5px 12px;"\n                >\n                <svg class="icon-before" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Link">\n                    <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z">\n                    </path>\n                </svg>\n            </div>\n            </div>\n            <p hidden class="caption t-warning" data-error-text>\n            Please input a valid url.\n            </p>\n            <div class="mt-1 flex-row w-100 justify-between align-center">\n            <button data-close-menu class="warning filled small" type="button">\n                CLOSE\n            </button>\n            <div>\n                <button hidden class="filled error small" type="button" data-lexical-remove-link style="margin-right: 4px;">\n                REMOVE LINK\n                </button>\n                <button class="filled success small" type="button" data-lexical-link-submit>\n                SUBMIT\n                </button>\n            </div>\n            </div>\n            \n        </div>\n\n        <div role="dialog" class="floating-menu o-xs" id="').concat(r["lex-insert-code-menu"],'" style="padding: 0px; border-radius: 0px; min-width: 150px;" data-placement="bottom-start">\n          <button type="button" data-mouse-down data-dialog="coding-lang-lexical" class="select-option" style="border-radius: 0px!important; width: 100%;">\n            Code Block\n          </button>\n          <button type="button" data-mouse-down data-dispatch="FORMAT_TEXT_COMMAND" data-payload="code" class="select-option" style="border-radius: 0px!important; width: 100%;">\n            Inline Code\n          </button>\n        </div>\n        <div role="dialog" class="floating-menu o-xs" id="').concat(r["lex-insert-lists-popover"],'" style="padding: 0px; border-radius: 0px; min-width: 150px;" data-placement="bottom-start">\n          <button type="button" data-mouse-down data-dispatch="INSERT_ORDERED_LIST_COMMAND" class="icon-text medium transparent" style="border-radius: 0px!important; width: 100%;">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ListAlt"><path d="M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"></path></svg>\n            Ordered List\n          </button>\n          <button type="button" data-mouse-down data-dispatch="INSERT_UNORDERED_LIST_COMMAND" class="icon-text medium transparent" style="border-radius: 0px!important; width: 100%;">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="List"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"></path></svg>                  \n            Unordered List\n          </button>\n          <button type="button" data-mouse-down="" data-dispatch="INSERT_CHECK_LIST_COMMAND" class="icon-text medium transparent" style="border-radius: 0px!important; width: 100%;">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Checklist"><path d="M22 7h-9v2h9V7zm0 8h-9v2h9v-2zM5.54 11 2 7.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41L5.54 11zm0 8L2 15.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41L5.54 19z"></path></svg>\n            Check List\n        </button>\n        </div>\n        ').concat(v?'\n        <div id="'.concat(r["embed-media-content-popup"],'" class="floating-menu o-xs" role="dialog" style="padding:0px;border-radius:2px;min-width: 190px;" data-placement="top-start">\n          <button data-embed-news data-mouse-down type="button" data-dialog="lex-embed-news" class="icon-text medium social-media news">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Newspaper"><path d="m22 3-1.67 1.67L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V3zM11 19H4v-6h7v6zm9 0h-7v-2h7v2zm0-4h-7v-2h7v2zm0-4H4V8h16v3z"></path></svg>\n            Embed News Article\n          </button>\n          <button data-embed-youtube data-mouse-down type="button" data-dialog="lex-embed-youtube"class="icon-text medium social-media youtube" >\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="YouTube"><path d="M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"></path></svg>\n            Embed Youtube Video\n          </button>\n          <button data-embed-x data-mouse-down type="button" data-dialog="lex-embed-twitter" class="icon-text medium social-media twitter" >\n            <svg viewBox="0 0 512 512" title="x-twitter" focusable="false" inert tabindex="-1"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg>\n            Embed X Post\n        </button>\n        <button data-embed-tiktok data-mouse-down type="button" data-dialog="lex-embed-tiktok" class="icon-text medium social-media tiktok" >\n            <svg viewBox="0 0 448 512" title="tiktok" focusable="false" inert tabindex="-1"><path d="M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"></path></svg>\n            Embed TikTok Video\n        </button>\n        <button data-embed-instagram data-mouse-down type="button" data-dialog="lex-embed-instagram"class="icon-text medium social-media instagram" >\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Instagram"><path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path></svg>\n            Embed Instagram Post\n        </button>\n        </div>'):"","\n\n        <div ").concat(Boolean(!0===m)?'data-popover data-mouse data-pelem="#lex-para" aria-describedby="lex-para"':"",'>\n          <button data-insert-paragraph-button data-click type="button" class="toggle-button" aria-label="Insert Paragraph At End of Editor">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1"><path d="M9 10v5h2V4h2v11h2V4h2V2H9C6.79 2 5 3.79 5 6s1.79 4 4 4zm12 8-4-4v3H5v2h12v3l4-4z"></path></svg>\n          </button>\n        </div>\n        <button data-dispatch="FORMAT_ELEMENT_COMMAND" data-payload="left" type="button" ').concat(Boolean(!0===m)?'data-popover data-mouse="" data-pelem="#lex-left-align" aria-describedby="lex-left-align"':"",' class="toggle-button selected" aria-label="Left Align">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="FormatAlignLeftSharp"><path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"></path></svg>\n        </button>\n        <button data-dispatch="FORMAT_ELEMENT_COMMAND" data-payload="center" type="button" ').concat(Boolean(!0===m)?'data-popover data-mouse="" data-pelem="#lex-center-align" aria-describedby="lex-center-align"':"",' class="toggle-button" aria-label="Center Align">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="FormatAlignCenterSharp"><path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"></path></svg>\n        </button>\n        <button data-dispatch="FORMAT_ELEMENT_COMMAND" data-payload="right" type="button" ').concat(Boolean(!0===m)?'data-popover data-mouse="" data-pelem="#lex-right-align" aria-describedby="lex-right-align"':"",' class="toggle-button" aria-label="Right Align">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="FormatAlignRightSharp"><path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"></path></svg>\n        </button>\n        <button data-dispatch="FORMAT_ELEMENT_COMMAND" data-payload="justify" type="button" ').concat(Boolean(!0===m)?'data-popover data-mouse="" data-pelem="#lex-justify-align" aria-describedby="lex-justify-align"':"",' class="toggle-button" aria-label="Justify Align">\n            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="FormatAlignJustifySharp"><path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"></path></svg>\n        </button>\n\n      </div>\n      \n    </div>\n    <div role="toolbar" class="block hz-scroll">\n          <div hidden="" data-insert-media="" data-type="image" style="background-color: var(--secondary-background); padding: 6px; border-radius: 0px 0px 6px 6px;">\n          <div class="flex-row align-center justify-between bb-main" style="margin-bottom: 4px;">\n              <p class="grow-1 flex-row h6 bold">Insert Images</p>\n              <button class="icon medium close-insert-media-section" type="button" aria-label="Close Section">\n              <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n              </button>\n          </div>\n          <details aria-label="Image Requirements" class="small" style="background-color: var(--background); margin-top: 2px;">\n              <summary>\n                  <span class="body1 fw-regular">Image Requirements</span>\n                  <svg class="details" focusable="false" inert viewBox="0 0 24 24">\n                  <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                  </path>\n                  </svg>\n              </summary>\n              <div class="accordion-content body2" aria-hidden="true">\n              <ul>\n                  <li>\n                  Images must be less than <strong>5 MegaBytes</strong> in size.\n                  </li>\n                  <li>\n                  Images must have one of the following file types: .jpeg, .jpg, .png, .webp, .gif, .bmp, or .svg.\n                  </li>\n                  <li>\n                  For inputs that accept multiple images, the maximum number of images you can upload at once is \n                  <strong>30</strong>.\n                  </li>\n              </ul>\n              </div>\n          </details>\n          <div class="tabs">\n              <ul class="tabs" role="tablist">\n              <li role="presentation">\n                  <button id="lexical-upload-single-image_" class="tab-button secondary" role="tab" type="button" aria-selected="true" data-tab="0" tabindex="-1">\n                  Single Image\n                  </button>\n              </li>\n              <li role="presentation">\n                  <button id="lexical-upload-multiple-images_" class="tab-button t-secondary" role="tab" type="button" aria-selected="false" data-tab="1" tabindex="-1">\n                  Multiple Images\n                  </button>\n              </li>\n              </ul>\n          </div>\n          <div class="tab-panels">\n              <div aria-labelledby="lexical-upload-single-image_" role="tabpanel" tabindex="0">\n              <div class="block mt-1">\n                  <details aria-label="About Uploading Images" class="mt-2" style="background-color: var(--background)!important;">\n                  <summary>\n                      <span class="body1 fw-regular">Uploading Images</span>\n                      <svg class="details" focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </summary>\n                  <div class="accordion-content body2" aria-hidden="true">\n                      <ol>\n                      <li>\n                          Upload an image.\n                      </li>\n                      <li>\n                          Edit the image. Make sure that you save the edits on the image by clicking the checkmark button before submitting the form. \n                          <ul class="first">\n                          <li>\n                              For each image, you have the opportunity to add a title and a description of the image. The title and description will be shown \n                              when the user clicks on the image. The title will be used as the <span class="t-info bold">alt</span> attribute for the image as well.\n                          </li>\n                          </ul>\n                      </li>\n                      <li class="fw-regular t-warning">\n                          If you want to add additional images, it is best to submit the form and relaunch this dialog.\n                      </li>\n                      </ol>\n                  </div>\n                  </details>\n                  <div data-form="" data-type="image" data-count="single" class="mt-1">\n                  \n                  <label for="lexical-upload-single-image-input_" class="body1 bold">Upload Single Image:</label>\n                  <input class="primary mt-1" type="file" data-image-input="" accept="image/*" id="lexical-upload-single-image-input_').concat(f,'" name="lexical-upload-single-image-input_').concat(f,'">\n                  <output for="lexical-upload-single-image-input_').concat(f,'" class="block mt-1"></output>\n          \n                  <div class="flex-row mt-2 align-center justify-between">\n                      <button type="button" data-reset="" class="medium filled warning">\n                      Reset\n                      </button>\n                      <button type="button" data-submit="" class="medium filled info">\n                      SUBMIT IMAGES\n                      </button>\n                  </div>\n                  </div>\n              </div>   \n              </div>\n              <div aria-labelledby="lexical-upload-multiple-images_" role="tabpanel" tabindex="0" hidden="">\n              <div class="block mt-1">\n                  <details aria-label="About Uploading Multiple Images" class="mt-2" style="background-color: var(--background)!important;">\n                  <summary>\n                      <span class="body1 fw-regular">Uploading Multiple Images</span>\n                      <svg class="details" focusable="false" inert viewBox="0 0 24 24">\n                          <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                          </path>\n                      </svg>\n                  </summary>\n                  <div class="accordion-content body2" aria-hidden="true">\n                      <ol class="first">\n                      <li>\n                          Upload all the images that you want to include in the input.\n                      </li>\n                      <li>\n                          Select how you want the images to appear in the editor.\n                          <ul>\n                          <li>\n                              <span class="bold">Image Carousel:</span>: Inserts an image carousel into the editor. <span class="t-warning fw-regular">Make sure you upload all the images that you want to include in the carousel on \n                              the first upload. Any subsequent uploads will replace the currently saved \n                              images and their associated edits. If you want to include additional images, it is best \n                              to submit the current form, and then relaunch the dialog to add more images.</span>\n                          </li>\n                          <li>\n                              <span class="bold">Single Image(s)</span>: Inserts images into the editor as if they were inserted as a single image one by one.\n                          </li>\n                          </ul>\n                      </li>\n                      <li>\n                          Edit the images. Make sure that you save the edits on each image by clicking the checkmark button before moving on to the next image.\n                          <ul class="first">\n                          <li>\n                              For each image, you have the opportunity to add a title and a description of the image. The title and description will be shown \n                              when the user clicks on the image. The title will be used as the <span class="t-info bold">alt</span> attribute for the image as well.\n                          </li>\n                          </ul>\n                      </li>\n                      <li>\n                          <span class="t-success bold">SUBMIT</span> the form, and the images will be added to the input.\n                      </li>\n                      </ol>\n                  </div>\n                  </details>\n                  <div data-form="" data-type="image" data-count="multiple" class="mt-1">\n                  <label for="lexical-upload-multiple-images-input_').concat(f,'" class="body1 bold">Upload Multiple Images:</label>\n                  <input class="secondary mt-1" type="file" data-image-input="" accept="image/*" multiple="" id="lexical-upload-multiple-images-input_').concat(f,'" name="lexical-upload-multiple-images-input_').concat(f,'">\n                  <output for="lexical-upload-multiple-images-input_').concat(f,'" class="block mt-1"></output>\n                  <fieldset class="mt-1">\n                      <legend class="body1 bold">Upload Type:</legend>\n                      <div class="flex-row align-center wrap gap-3">\n                      <label class="radio">\n                      <input type="radio" value="single" name="multi-image-type" class="error">\n                          As Single Image(s)\n                      </label>\n                      <label class="radio">\n                      <input type="radio" value="carousel" name="multi-image-type" class="error" checked="">\n                          Image Carousel\n                      </label>\n                      </div>\n                  </fieldset>\n                  <div class="flex-row mt-2 align-center justify-between">\n                      <button type="button" data-reset="" class="medium filled warning">\n                      Reset\n                      </button>\n                      <button type="button" data-submit="" class="medium filled info">\n                      SUBMIT IMAGES\n                      </button>\n                  </div>\n                  </div>\n              </div>\n              </div>\n          </div>\n          </div>\n          <div hidden="" data-insert-media="" data-type="audio" style="background-color: var(--secondary-background); padding: 6px; border-radius: 0px 0px 6px 6px;">\n          <div class="flex-row align-center justify-between bb-main" style="margin-bottom: 4px;">\n              <p class="grow-1 flex-row h6 bold">Insert Audio</p>\n              <button class="icon medium close-insert-media-section" type="button" aria-label="Close Section">\n              <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n              </button>\n          </div>\n          <details aria-label="Audio Upload Requirements" class="small" style="background-color: var(--background); margin-top: 2px;">\n              <summary>\n                  <span class="body1 fw-regular">Audio Upload Requirements</span>\n                  <svg class="details" focusable="false" inert viewBox="0 0 24 24">\n                  <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                  </path>\n                  </svg>\n              </summary>\n              <div class="accordion-content body2" aria-hidden="true">\n              <ul>\n                  <li>\n                  Each audio upload must be less than <strong>300 MegaBytes</strong> in size.\n                  </li>\n                  <li>\n                  Audio uploads must have one of the following file types: .m4a, .flac, .mp3, .mp4, .wav, .wma, .aac, .webm, or .mpeg.\n                  </li>\n                  <li>\n                  Each audio upload must have an associated title.\n                  </li>\n              </ul>\n              </div>\n          </details>\n          <details aria-label="About Uploading Audio Recording" class="mt-2" style="background-color:var(--background);">\n              <summary>\n                  <span class="body1 fw-regular">Uploading Audio Recordings</span>\n                  <svg class="details" focusable="false" inert viewBox="0 0 24 24">\n                  <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                  </path>\n                  </svg>\n              </summary>\n              <div class="accordion-content body2" aria-hidden="true">\n              <ol>\n                  <li>\n                  Upload an audio recording.\n                  </li>\n                  <li>\n                  Add a title for the audio recording.\n                  </li>\n                  <li>\n                  <span class="t-info bold">SUBMIT</span> the form.\n                  </li>\n                  <li class="fw-regular t-warning">\n                  If you want to add additional audio recordings, it is best to submit the form and relaunch this dialog.\n                  </li>\n              </ol>\n              </div>\n          </details>\n          <div data-form="" data-type="audio" data-count="single" class="mt-1">\n              <label for="lexical-upload-single-audio-input_').concat(f,'" class="body1 bold">Upload Audio File:</label>\n              <input class="mt-1" type="file" data-audio-input="" accept="audio/*" id="lexical-upload-single-audio-input_').concat(f,'" name="lexical-upload-single-audio-input_').concat(f,'">\n              <output for="lexical-upload-single-audio-input_').concat(f,'"></output>\n              <div data-error-alert="" tabindex="-1" hidden="" class="alert icon medium error filled mt-2" role="alert">\n              <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></svg>\n              <p class="alert">\n                  Please enter valid inputs to insert an audio recording.  \n              </p>\n              </div>\n              <div class="flex-row mt-2 align-center justify-between">\n              <button type="button" data-reset="" class="medium filled warning">\n                  Reset\n              </button>\n              <button type="button" data-submit="" class="medium filled info">\n                  SUBMIT AUDIO\n              </button>\n              </div>\n          </div>\n          </div>\n          <div hidden="" data-insert-media="" data-type="video" style="background-color: var(--secondary-background); padding: 6px; border-radius: 0px 0px 6px 6px;">\n          <div class="flex-row align-center justify-between bb-main" style="margin-bottom: 4px;">\n              <p class="grow-1 flex-row h6 bold">Insert Video</p>\n              <button class="icon medium close-insert-media-section" type="button" aria-label="Close Section">\n              <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Close"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n              </button>\n          </div>\n          <details aria-label="Video Upload Requirements" class="small" style="background-color: var(--background); margin-top: 2px;">\n              <summary>\n                  <span class="body1 fw-regular">Video Upload Requirements</span>\n                  <svg class="details" focusable="false" inert viewBox="0 0 24 24">\n                  <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                  </path>\n                  </svg>\n              </summary>\n              <div class="accordion-content body2" aria-hidden="true">\n              <ul>\n                  <li>\n                  Each video upload must be less than <strong>300 MegaBytes</strong> in size.\n                  </li>\n                  <li>\n                  Video uploads must have one of the following file types: .mp4, .mov, .avi, .wmv, .avchd, .webm, or .flv.\n                  </li>\n                  <li>\n                  For inputs that accept multiple video files, the maximum number of video files you can upload at once is \n                  <strong>10</strong>.\n                  </li>\n                  <li>\n                  Each uploaded video must have an associated title.\n                  </li>\n              </ul>\n              </div>\n          </details>\n          <details aria-label="About Inserting Video" class="mt-2" style="background-color:var(--background);">\n              <summary>\n                  <span class="body1 fw-regular">\n                  Uploading Videos\n                  </span>\n                  <svg class="details" focusable="false" inert viewBox="0 0 24 24">\n                  <path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z">\n                  </path>\n                  </svg>\n              </summary>\n              <div class="accordion-content body2" aria-hidden="true">\n              <ol>\n                  <li>\n                  Upload a video recording.\n                  </li>\n                  <li>\n                  Add a title and optionally add a description for the video.\n                  </li>\n                  <li>\n                  <span class="t-info bold">SUBMIT</span> the form.\n                  </li>\n                  <li class="fw-regular t-warning">\n                  If you want to add additional videos, it is best to submit the form and relaunch this dialog.\n                  </li>\n              </ol>\n              </div>\n          </details>\n          <div data-form="" data-type="video" data-count="single" class="mt-1">\n              <label for="lexical-upload-single-video-input_').concat(f,'" class="body1 bold">Upload Video:</label>\n              <input class="mt-1" type="file" data-video-input="" accept="video/*" id="lexical-upload-single-video-input_').concat(f,'" name="lexical-upload-single-video-input_').concat(f,'">\n              <output for="lexical-upload-single-video-input_').concat(f,'"></output>\n              <div data-error-alert="" tabindex="-1" hidden="" class="alert icon medium error filled mt-2" role="alert">\n              <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></svg>\n              <p class="alert">\n                  Please enter valid inputs to insert a video recording\n              </p>\n              </div>\n              <div class="flex-row mt-2 align-center justify-between">\n              <button type="button" data-reset="" class="medium filled warning">\n                  Reset\n              </button>\n              <button type="button" data-submit="" class="medium filled info">\n                  SUBMIT VIDEO\n              </button>\n              </div>\n          </div>\n          </div>\n      </div>\n    <div ').concat(t?"disabled":"",' contenteditable="').concat(t?"false":"true",'" data-rich-text-editor data-type="').concat(o.type,'" data-editable="true" spellcheck="true" style="').concat(h,'">\n      ').concat(r.initialHTML,"\n    </div>"));var x=b.querySelector("div[data-rich-text-editor]");if(x&&o.lexicalState){switch(o.type){case"comment":Fh(x);break;case"range-description":Gh(x);break;case"survey-option":Uh(x);break;case"survey-question":Jh(x);break;case"survey-short-blog":Vh(x);break;default:throw new Error("Invalid type.")}var _=pe()[e];if(_){var w=_.parseEditorState(JSON.parse(o.lexicalState));_.setEditorState(w),_.setEditable(!0)}}return b}function zh(e){return Nh(this,void 0,void 0,(function(){var t,n,a;return Lh(this,(function(r){return t=[i.$4,{replace:i.Ey,with:function(e){return new i.$4(e.__text,e.__key)}},Pp,Mp,Ma,Na,Bl,pt,vt,fl,Bg,Wg,vi,i.mx,ui,sl,ri,Et,At,Wn,Dn,ct,og,mg,ug,Zl,Zn,bo,ko,ro,hh,vh,os,Lo,_c],n=(0,i.ie)({namespace:"markdown_".concat(window.crypto.randomUUID()),theme:structuredClone(o),onError:console.error,nodes:t,editable:!0,editorType:"full"}),a=n.parseEditorState(e,void 0),n.setEditorState(a,void 0),[2,new Promise((function(e,t){n.update((function(){var t=gh(sh);e(t)}),void 0)}))]}))}))}function Ph(e,t){var n=e,r=n.closest("div.lexical-wrapper"),l=n.closest("form");if(r){var s=r.id;if(s&&"true"!==e.getAttribute("data-registered")){var c=e.hasAttribute("data-annotate-only"),d=e.hasAttribute("data-display-only");e.setAttribute("data-registered","true"),Mh&&Mh()[s]&&af(s),Zh()[s]=!0;var u=e.getAttribute("data-editable"),p=Boolean("false"!==u),g=n.innerHTML.trim(),m=[i.$4,{replace:i.Ey,with:function(e){return new i.$4(e.__text,e.__key)}},Pp,Mp,Ma,Na,Bl,pt,vt,fl,Bg,Wg,vi,i.mx,ui,sl,ri,Et,At,Wn,Dn,ct,og,mg,ug,Zl,Zn,bo,ko,ro,hh,vh,os,Bo];m.push(_c,Lo);var h=(0,i.ie)({namespace:s,theme:structuredClone(o),onError:console.error,nodes:m,editable:!0,editorType:"full"});if(p?r.addEventListener("focusin",ue,!0):r.addEventListener((0,a.CN)()?"touchstart":"mousedown",ue,!0),h.setRootElement(n),Ih[s])for(;Ih[s].length;){var b=Ih[s].pop();b&&b()}if(g.length>=1&&h.update((function(){var e=(new DOMParser).parseFromString(g,"text/html"),t=Yo(h,e).filter((function(e){return(0,i.ff)(e)||(0,i.Cy)(e)})),n=(0,i.Ni)();n&&n.append.apply(n,t),l&&l.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:s}}))}),{discrete:!0}),ge(s,h),Ih[s]=[],p&&Ih[s].push(tu(h)),p?Ih[s].push(Sr(h)):Ih[s].push(Ar(h)),p?Ih[s].push(Sn(h)):Ih[s].push(An(h)),p?Ih[s].push(Nl(h)):Ih[s].push(Ll(h)),p?Ih[s].push(ni(h)):Ih[s].push(oi(h)),p&&Ih[s].push(Yl(h)),p?Ih[s].push(gm(h)):Ih[s].push(mm(h)),p&&Ih[s].push($p(h)),p&&Ih[s].push(lp(h)),p?Ih[s].push(function(e){return e.hasNodes([mg,ug])?(document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",Eg),Po(e.registerCommand(vg,(e=>{if(yg){const t=(0,i.ns)(yg);if(t){const n=Ko(t,(e=>(0,i.ff)(e)&&(0,i.hV)(e.getParent())));if(n){const t=fg({...e}).append(pg().append((0,i.lJ)()));n.insertAfter(t)}}else(0,i.Ni)().append(fg({...e}).append(pg().append((0,i.lJ)())))}else(0,i.Ni)().append(fg({...e}).append(pg().append((0,i.lJ)())));return yg=null,!0}),i.jZ),e.registerCommand(i.UD,(()=>{const t=(0,i.vJ)();if((0,i.I2)(t)&&t.isCollapsed()&&e.isEditable()){const e=Ko(t.anchor.getNode(),(e=>(0,i.bS)(e)&&gg(e.getParent())));if(e){const n=e.getParent(),o=n.getFirstChild(),a=n.getParent();if(o&&o.is(e)&&t.is(e.selectStart())&&bg(a)&&null===a.getPreviousSibling()){const e=(0,i.lJ)();return a.insertBefore(e),e.selectEnd(),!0}}}return!1}),i.d),e.registerCommand(i.XK,(()=>{const t=(0,i.vJ)();if((0,i.I2)(t)&&t.isCollapsed()&&e.isEditable()){const e=Ko(t.anchor.getNode(),(e=>(0,i.bS)(e)&&gg(e.getParent())));if(e){const t=e.getParent(),n=t.getParent(),o=t.getLastChild(),a=null==o?void 0:o.getPreviousSibling();if(t.getChildrenSize()>=3&&(0,i.bS)(o)&&(0,i.bS)(a)&&o.isEmpty()&&a.isEmpty()&&bg(n)){o.remove(),a.remove();const e=(0,i.lJ)();return n.insertAfter(e),e.selectEnd(),!0}}}return!1}),i.d),e.registerCommand(i.if,(t=>{const n=(0,i.vJ)();if((0,i.I2)(n)&&n.isCollapsed()){const t=n.getNodes();if(t.length){const n=t[0];if(n){const t=n.getParent();if((0,i.bS)(t)){const n=t.getTextContent();if(/^\^.*\^([flat])?$/.test(n)){var o=n;const a=o.endsWith("[flat]");return o=a?o.slice(1,o.length-7):o.slice(1,o.length-1),t.remove(),e.dispatchCommand(vg,{summary:o,flat:a}),!0}}}}}return!1}),i.Wg),kg(e))):(console.error("Editor does not have DetailsNode or AccordionContentNode registered."),()=>{})}(h)):Ih[s].push(kg(h)),p&&Ih[s].push(function(e){return e.hasNode(og)?(sg(e),Po(e.registerCommand(rg,(e=>{const t=(0,i.vJ)(),n=(0,i.lJ)();if(n.setBlockStyle({...i.y7,margin:"0px"}),(0,i.I2)(t)){const o=t.anchor.getNode(),a=Ko(o,(e=>(0,i.bS)(e)&&(0,i.hV)(e.getParent())));if((0,i.bS)(a))a.insertBefore(ig(e.side).append(n));else{const t=Ko(o,(e=>(0,i.hV)(e)||e.isShadowRoot&&e.isShadowRoot()));t&&(t.append(n),n.insertBefore(ig(e.side).append((0,i.lJ)())))}}return!0}),i.jZ),e.registerCommand(i.XK,(()=>{const t=(0,i.vJ)();if((0,i.I2)(t)&&t.isCollapsed()&&e.isEditable()){const e=Ko(t.anchor.getNode(),(e=>(0,i.bS)(e)&&function(e){return e instanceof og}(e.getParent())));if(e){const t=e.getParent(),n=t.getLastChild(),o=null==n?void 0:n.getPreviousSibling();if(t.getChildrenSize()>=3&&(0,i.bS)(n)&&(0,i.bS)(o)&&n.isEmpty()&&o.isEmpty()){n.remove(),o.remove();const e=(0,i.lJ)();return t.insertAfter(e),e.selectEnd(),!0}}}return!1}),i.d),e.registerCommand(i.if,(e=>{if(e&&e.shiftKey){const e=(0,i.vJ)();if((0,i.I2)(e)&&e.isCollapsed()){const t=e.getNodes();if(t.length){const n=t[0];if((0,i.kF)(n)){const t=n.getParent();if((0,i.bS)(t)){const o=n.getTextContent(),a=e.getCharacterOffsets()[0],r=a-3,l=o.slice(r,a);if("--\x3e"===l){n.setTextContent(o.slice(0,r));const e=ig("right");return e.append((0,i.lJ)()),t.insertBefore(e),!0}if("<--"===l){n.setTextContent(o.slice(0,r));const e=ig("left");return e.append((0,i.lJ)()),t.insertBefore(e),!0}}}}}}return!1}),i.Wg),e.registerCommand(He,(()=>(sg(e),!1)),i.jZ))):(console.error("Editor does not have AsideNode registered."),()=>{})}(h)),p&&Ih[s].push(Pm(h,sh)),p&&Ih[s].push(function(e){return e.hasNode(Zl)?(ns(e),Po(e.registerCommand(ts,(()=>{const e=(0,i.vJ)();var t=!1;const n="i"+window.crypto.randomUUID();if((0,i.I2)(e)){const o=e.getNodes();for(let e of o){if(es(e)){t=!0;break}if((0,i.kF)(e)&&es(e.getParent())){t=!0;break}}return function(e,t){if(!(0,i.I2)(t))return;const n=t.extract();if(null===e)n.forEach((e=>{const t=e.getParent();if(es(t)){const e=t.getChildren();for(let n=0;n<e.length;n++)t.insertBefore(e[n]);t.remove()}}));else{if(1===n.length){const t=Hl(n[0],es);if(null!==t)return void t.setId(e)}let t=null,o=null;n.forEach((n=>{const a=n.getParent();if(a!==o&&null!==a&&(!(0,i.ff)(n)||n.isInline())){if(es(a))return o=a,void a.setId(e);if(a.is(t)||(t=a,o=Ql(e),es(a)?null===n.getPreviousSibling()?a.insertBefore(o):a.insertAfter(o):n.insertBefore(o)),es(n)){if(n.is(o))return;if(null!==o){const e=n.getChildren();for(let t=0;t<e.length;t++)o.append(e[t])}n.remove()}else null!==o&&o.append(n)}}))}}(t?null:n,e),!0}return!1}),i.Ac),e.registerMutationListener(Zl,(t=>{for(const[n,o]of t)"created"===o?e.update((()=>{const e=(0,i.ns)(n);if(es(e)&&!za(e.getParent())){const t=(0,i.uT)();t.insertNodes([e.getParent()]),f(t,(()=>Ra("h6")))}})):"updated"===o&&e.update((()=>{const e=(0,i.ns)(n);if(es(e)&&!za(e.getParent())){const t=(0,i.uT)();t.insertNodes([e.getParent()]),f(t,(()=>Ra("h6")))}}))})),e.registerCommand(He,(()=>(ns(e),!1)),i.jZ))):(console.error("Editor does not have SectionHeadingNode registered."),()=>{})}(h)),p?Ih[s].push(ao(h)):Ih[s].push(io(h)),p&&Ih[s].push(function(e){if(e.hasNodes([hh,vh])){const t=e=>{const t=(0,i.vJ)();if((0,i.I2)(t)&&t.isCollapsed()&&0===t.anchor.offset){const a=Ko(t.anchor.getNode(),bh);if(bh(a)){var n,o;const r=a.getParent(),l=r&&(e?r.getFirstChild():null==r?void 0:r.getLastChild()),s=e?null===(n=a.getFirstDescendant())||void 0===n?void 0:n.getKey():null===(o=a.getLastDescendant())||void 0===o?void 0:o.getKey();null!==r&&l===a&&t.anchor.key===s&&(e?a.insertBefore((0,i.lJ)()):a.insertAfter((0,i.lJ)()))}}return!1};return document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",Th),Po(e.registerCommand(i.bb,(()=>t(!1)),i.Ac),e.registerCommand(i.JM,(()=>t(!1)),i.Ac),e.registerCommand(i.UD,(()=>t(!0)),i.Ac),e.registerCommand(i.AX,(()=>t(!0)),i.Ac),e.registerCommand(wh,(t=>(e.update((()=>{const e=fh(t),n=kh(t);for(let t=0;t<n;t++)e.append(yh().append((0,i.lJ)()));Wo(e),e.selectStart()})),!0)),i.jZ),e.registerCommand(Eh,(t=>{let{template:n,nodeKey:o}=t;return e.update((()=>{const e=(0,i.ns)(o);if(!bh(e))return;const t=kh(n),a=kh(e.getTemplateColumns());if(t>a)for(let n=a;n<t;n++)e.append(yh().append((0,i.lJ)()));else if(t<a)for(let n=a-1;n>=t;n--){const t=e.getChildAtIndex(n);xh(t)&&t.remove()}e.setTemplateColumns(n)})),!0}),i.jZ),e.registerNodeTransform(vh,(e=>{if(!bh(e.getParent())){const t=e.getChildren();for(const n of t)e.insertBefore(n);e.remove()}})),e.registerNodeTransform(hh,(e=>{const t=e.getChildren();if(!t.every(xh)){for(const n of t)e.insertBefore(n);e.remove()}})))}return console.error("Editor doesn;t have LayoutContainerNode or LayoutItemNode registered."),()=>{}}(h)),p&&Ih[s].push(vs(h)),p||d||Ih[s].push(Fu(h,c)),p&&Ih[s].push(Dc(h)),p&&Ih[s].push(hc(h)),p&&r.hasAttribute("data-save-state")&&Ih[s].push(function(e){var t;const n=document.getElementById(e._config.namespace)||(null===(t=e._rootElement)||void 0===t?void 0:t.closest("div.lexical-wrapper"));document.addEventListener("OPEN_LEXICAL_DIALOG_FINAL",op),document.addEventListener("ON_AFTER_RELOAD_HISTORY",ap);const o="frankmbrown-"+window.location.pathname,a=o+"-old",i=o+"-new";if(n&&n.hasAttribute("data-save-state")){const t=n.querySelector('button[data-dialog="insert-previous-lexical"]');if(t){const n=window.localStorage.getItem(i);if(n)try{const o=JSON.parse(n);np=o,window.localStorage.setItem(a,n),JSON.stringify(e.getEditorState().toJSON())!==o?("true"===window.localStorage.getItem("frankmbrown-alert-save-state")||(document.dispatchEvent(new CustomEvent("OPEN_SNACKBAR",{detail:{selem:"#saved-article-v-available"}})),window.localStorage.setItem("frankmbrown-alert-save-state","true")),t.removeAttribute("hidden")):t.setAttribute("hidden","")}catch(e){t.setAttribute("hidden",""),console.error(e)}else t.setAttribute("hidden","")}}return document.addEventListener("htmx:beforeRequest",ip),window.addEventListener("beforeunload",ip),Po((()=>{document.removeEventListener("htmx:beforeRequest",ip),window.removeEventListener("beforeunload",ip)}))}(h)),p&&Ua(h),p||h.setEditable(!1),!p){var v=new URL(window.location.href),y=v.searchParams.get("scroll_to_node"),x=v.searchParams.get("namespace"),_=v.searchParams.get("start"),w=parseInt(_||""),E=v.searchParams.get("end"),k=parseInt(E||""),C=v.searchParams.get("content");"true"===y&&Number.isInteger(w)&&Number.isInteger(k)&&C&&C.length&&x===h._config.namespace&&h.dispatchCommand(Hc,{start:w,end:k,content:C})}t&&ce(s)&&h.dispatchCommand(re,s),l&&l.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:s}})),r&&(0,a.KT)(r),h.getEditorState().read((function(){var e=(0,i.zl)(bo),t=(0,i.zl)(ko),n=(0,i.zl)(ro);e.length&&document.dispatchEvent(new CustomEvent("EMBED_TWITTER")),t.length&&document.dispatchEvent(new CustomEvent("EMBED_TIKTOK")),n.length&&document.dispatchEvent(new CustomEvent("EMBED_INSTAGRAM"))}))}}}function Fh(e,t){var n=e,r=n.closest("div.lexical-wrapper"),l=n.closest("form");if(r){var s=r.id;if(s&&"true"!==e.getAttribute("data-registered")){e.setAttribute("data-registered","true"),Mh&&Mh()[s]&&af(s),Zh()[s]=!0;var c=e.getAttribute("data-editable"),d=Boolean("false"!==c),u=e.getAttribute("data-max-height"),p=n.innerHTML.trim(),g=[i.$4,{replace:i.Ey,with:function(e){return new i.$4(e.__text,e.__key)}},Pp,Mp,Na,Bl,pt,bo,ko,ro,vt,fl,Bg,Wg,vi,i.mx,ui,sl,ri,Et,At,Wn,Dn,ct,Zn,os,Bo];d||g.push(fc),g.push(_c,Lo);var m=(0,i.ie)({namespace:s,theme:structuredClone(o),onError:console.error,nodes:g,editable:!0,editorType:"comment"});if(d?r.addEventListener("focusin",ue,!0):r.addEventListener((0,a.CN)()?"touchstart":"mousedown",ue,!0),m.setRootElement(n),Ih[s])for(;Ih[s].length;){var h=Ih[s].pop();h&&h()}p.length>=1&&m.update((function(){var e=(new DOMParser).parseFromString(p,"text/html"),t=Yo(m,e).filter((function(e){return(0,i.ff)(e)||(0,i.Cy)(e)})),n=(0,i.Ni)();n&&n.append.apply(n,t),l&&l.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:s}}))}),{discrete:!0}),ge(s,m),Ih[s]=[],u&&!d&&Ih[s].push(vc(m)),d&&Ih[s].push(tu(m)),d?Ih[s].push(Sr(m)):Ih[s].push(Ar(m)),d?Ih[s].push(Sn(m)):Ih[s].push(An(m)),d?Ih[s].push(Nl(m)):Ih[s].push(Ll(m)),d&&Ih[s].push(ni(m)),d&&Ih[s].push(Yl(m)),d?Ih[s].push(gm(m)):Ih[s].push(mm(m)),d&&Ih[s].push($p(m)),d&&Ih[s].push(lp(m)),d&&Ih[s].push(Pm(m,ch)),d?Ih[s].push(ao(m)):Ih[s].push(io(m)),d?Ih[s].push(Ju(m)):Ih[s].push(Qu(m)),d&&Ih[s].push(vs(m)),d||m.setEditable(!1),d&&Ih[s].push(Dc(m)),d&&Ih[s].push(hc(m)),d&&Ua(m),t&&ce(s)&&m.dispatchCommand(re,s),l&&l.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:s}})),r&&(0,a.KT)(r)}}}function Hh(e,t){var n=e,r=n.closest("div.lexical-wrapper"),l=n.closest("form");if(r){var s=r.id;if(s&&"true"!==e.getAttribute("data-registered")){e.setAttribute("data-registered","true"),Mh&&Mh()[s]&&af(s),Zh()[s]=!0;var c=e.getAttribute("data-editable"),d=Boolean("false"!==c),u=e.getAttribute("data-max-height"),p=n.innerHTML.trim(),g=[i.$4,{replace:i.Ey,with:function(e){return new i.$4(e.__text,e.__key)}}];d||g.push(fc),g.push(_c,Lo);var m=(0,i.ie)({namespace:s,theme:structuredClone(o),onError:console.error,nodes:g,editable:!0,editorType:"text-only"});if(d?r.addEventListener("focusin",ue,!0):r.addEventListener((0,a.CN)()?"touchstart":"mousedown",ue,!0),m.setRootElement(n),Ih[s])for(;Ih[s].length;){var h=Ih[s].pop();h&&h()}p.length>=1&&m.update((function(){var e=(new DOMParser).parseFromString(p,"text/html"),t=Yo(m,e).filter((function(e){return(0,i.ff)(e)||(0,i.Cy)(e)})),n=(0,i.Ni)();n&&n.append.apply(n,t),l&&l.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:s}}))}),{discrete:!0}),ge(s,m),Ih[s]=[],u&&!d&&Ih[s].push(vc(m)),d&&Ih[s].push(tu(m)),d&&Ih[s].push(ni(m)),d&&Ih[s].push(lp(m)),d&&Ih[s].push(Pm(m,dh)),d&&Ih[s].push(Dc(m)),d&&Ih[s].push(hc(m)),d||m.setEditable("false"),d&&Ua(m),t&&ce(s)&&m.dispatchCommand(re,s),l&&l.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:s}})),r&&(0,a.KT)(r)}}}function qh(e,t){var n=e,r=n.closest("div.lexical-wrapper"),l=n.closest("form");if(r){var s=r.id;if(s&&"true"!==e.getAttribute("data-registered")){e.setAttribute("data-registered","true"),Mh&&Mh()[s]&&af(s),Zh()[s]=!0;var c=e.getAttribute("data-editable"),d=Boolean("false"!==c),u=e.getAttribute("data-max-height"),p=n.innerHTML.trim(),g=[i.$4,{replace:i.Ey,with:function(e){return new i.$4(e.__text,e.__key)}},Bl,os];d||g.push(fc),g.push(_c,Lo);var m=(0,i.ie)({namespace:s,theme:structuredClone(o),onError:console.error,nodes:g,editable:!0,editorType:"text-with-links"});if(d?r.addEventListener("focusin",ue,!0):r.addEventListener((0,a.CN)()?"touchstart":"mousedown",ue,!0),m.setRootElement(n),Ih[s])for(;Ih[s].length;){var h=Ih[s].pop();h&&h()}p.length>=1&&m.update((function(){var e=(new DOMParser).parseFromString(p,"text/html"),t=Yo(m,e).filter((function(e){return(0,i.ff)(e)||(0,i.Cy)(e)})),n=(0,i.Ni)();n&&n.append.apply(n,t),l&&l.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:s}}))}),{discrete:!0}),ge(s,m),Ih[s]=[],u&&!d&&Ih[s].push(vc(m)),d&&Ih[s].push(ni(m)),d&&Ih[s].push(tu(m)),d&&Ih[s].push(Yl(m)),d&&Ih[s].push(lp(m)),d&&Ih[s].push(Pm(m,uh)),d&&Ih[s].push(vs(m)),d||m.setEditable(!1),d&&Ih[s].push(Dc(m)),d&&Ih[s].push(hc(m)),d&&Ua(m),t&&ce(s)&&m.dispatchCommand(re,s),l&&l.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:s}})),r&&(0,a.KT)(r)}}}function jh(){var e=pe()["annotate-editor"];if(e&&e.isEditable()){var t=e.parseEditorState({root:{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"Insert article annotation here...",type:"text",version:1}],direction:"ltr",format:"left",indent:0,type:"paragraph",version:1,first_element:!1,blockStyle:{textAlign:"left",backgroundColor:"transparent",textColor:"inherit",margin:["6px","0px","6px","0px"],padding:"0px",borderRadius:"0px",borderColor:"transparent",borderWidth:"0px",borderType:"none",boxShadowOffsetX:"0px",boxShadowOffsetY:"0px",boxShadowBlurRadius:"0px",boxShadowSpreadRadius:"0px",boxShadowInset:!1,boxShadowColor:"transparent"}}],direction:"ltr",format:"",indent:0,type:"root",version:1}});e.setEditorState(t),e.setEditable(!0)}}function Kh(e,t){document.addEventListener("REFRESH_ANNOTATION_EDITOR",jh);var n=e,r=n.closest("div.lexical-wrapper"),l=n.closest("form");if(r){var s=r.id;if(s&&"true"!==e.getAttribute("data-registered")){e.setAttribute("data-registered","true"),Mh&&Mh()[s]&&af(s),Zh()[s]=!0;var c=e.getAttribute("data-editable"),d=Boolean("false"!==c),u=e.getAttribute("data-max-height"),p=n.innerHTML.trim(),g=[i.$4,{replace:i.Ey,with:function(e){return new i.$4(e.__text,e.__key)}},Bl,os];d||g.push(oc),d||g.push(fc),g.push(_c,Lo);var m=(0,i.ie)({namespace:s,theme:structuredClone(o),onError:console.error,nodes:g,editable:!0,editorType:"annotation"});if(d?r.addEventListener("focusin",ue,!0):r.addEventListener((0,a.CN)()?"touchstart":"mousedown",ue,!0),m.setRootElement(n),Ih[s])for(;Ih[s].length;){var h=Ih[s].pop();h&&h()}p.length>=1&&m.update((function(){var e=(new DOMParser).parseFromString(p,"text/html"),t=Yo(m,e).filter((function(e){return(0,i.ff)(e)||(0,i.Cy)(e)})),n=(0,i.Ni)();n&&n.append.apply(n,t),l&&l.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:s}}))}),{discrete:!0}),ge(s,m),Ih[s]=[],u&&!d&&Ih[s].push(vc(m)),d&&Ih[s].push(ni(m)),d&&Ih[s].push(tu(m)),d&&Ih[s].push(Yl(m)),d&&Ih[s].push(lp(m)),d&&Ih[s].push(Pm(m,uh)),d?Ih[s].push(function(e){const t=[e.registerCommand(Fc,(t=>{const n=document.getElementById("notification-sidebar");n&&n.classList.contains("drawer")&&"true"===n.getAttribute("aria-hidden")&&n.setAttribute("aria-hidden","false");const o=document.getElementById("add-annotation-form"),a=document.getElementById("hide-show-annotation-form");return o&&o.hasAttribute("hidden")&&a&&a.click(),e.focus(),!0}),i.jZ)];return e.hasNode(oc)&&t.push(e.registerMutationListener(oc,(t=>{e.update((()=>{for(const[e,n]of t)if("created"===n){const e=(0,i.zl)(oc);for(let t=0;t<e.length;t++)e[t].remove()}}))}))),Po(...t)}(m)):function(e){const t=e._rootElement;var n=void 0;if(t){const e=t.closest("div[data-annotation]");if(e){window.annotationObserver&&window.annotationObserver.observe(e);const t=e.querySelector("button[data-goto-annotation]");t&&(n=t);const o=e.querySelector("button[data-hide-show-annotation]");o&&o.addEventListener("click",ep)}}e.update((()=>{const t=(0,i.zl)(oc);for(let a of t)if("string"==typeof a.getTextColor()&&"string"==typeof a.getBackgroundColor()){const t=a.getReferenceId(),i="id_".concat(t),r=pe()[i];if(r&&r._rootElement){const t=document.getElementById(i);if(t){var o;const i=a.getTextColor(),r=a.getBackgroundColor();if(n&&r){n.classList.remove("transparent"),n.classList.add("text","primary");const e=n.querySelector("svg");e&&e.style.setProperty("fill",r,"important")}const{range:l,nodes:s}=zu({start:a.getStart(),end:a.getEnd(),content:a.getContent()},t);n&&n.addEventListener("click",tp(s));const c=new Highlight(l);c.type="highlight";const d="user-highlight-".concat(window.crypto.randomUUID());CSS.highlights.set(d,c);const u=document.getElementById(e._config.namespace)||(null===(o=e._rootElement)||void 0===o?void 0:o.closest("div.lexical-wrapper"));if(u){const e=document.createElement("style");e.innerText="::highlight(".concat(d,") {\n    background-color: ").concat(r,";\n    color: ").concat(i,"!important;\n  }"),u.insertAdjacentElement("afterend",e)}}break}}}))}(m),d&&Ih[s].push(vs(m)),d||m.setEditable(!1),d&&Ih[s].push(Dc(m)),d&&Ih[s].push(hc(m)),d&&Ua(m),t&&ce(s)&&m.dispatchCommand(re,s),l&&l.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:s}})),r&&(0,a.KT)(r)}}}function Wh(e,t){var n=e,r=n.closest("div.lexical-wrapper"),l=n.closest("form");if(r){var s=r.id;if(s&&"true"!==e.getAttribute("data-registered")){e.setAttribute("data-registered","true"),Mh&&Mh()[s]&&af(s),Zh()[s]=!0;var c=e.getAttribute("data-editable"),d=Boolean("false"!==c),u=e.getAttribute("data-max-height"),p=n.innerHTML.trim(),g=[i.$4,{replace:i.Ey,with:function(e){return new i.$4(e.__text,e.__key)}},Pp,Mp,Na,Bl,os,fl,Bg,Wg,vi,i.mx,ui,sl,ri];d||g.push(fc),g.push(_c,Lo);var m=(0,i.ie)({namespace:s,theme:structuredClone(o),onError:console.error,nodes:g,editable:!0,editorType:"text-block-elements"});if(d?r.addEventListener("focusin",ue,!0):r.addEventListener((0,a.CN)()?"touchstart":"mousedown",ue,!0),m.setRootElement(n),Ih[s])for(;Ih[s].length;){var h=Ih[s].pop();h&&h()}p.length>=1&&m.update((function(){var e=(new DOMParser).parseFromString(p,"text/html"),t=Yo(m,e).filter((function(e){return(0,i.ff)(e)||(0,i.Cy)(e)})),n=(0,i.Ni)();n&&n.append.apply(n,t),l&&l.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:s}}))}),{discrete:!0}),ge(s,m),Ih[s]=[],u&&!d&&Ih[s].push(vc(m)),d&&Ih[s].push(ni(m)),d&&Ih[s].push(tu(m)),d&&Ih[s].push(Yl(m)),d?Ih[s].push(Sr(m)):Ih[s].push(Ar(m)),d?Ih[s].push(Nl(m)):Ih[s].push(Ll(m)),d?Ih[s].push(gm(m)):Ih[s].push(mm(m)),d&&Ih[s].push($p(m)),d&&Ih[s].push(lp(m)),d&&Ih[s].push(Pm(m,ph)),d&&Ih[s].push(Dc(m)),d&&Ih[s].push(vs(m)),d&&Ih[s].push(hc(m)),d&&Ua(m),d||m.setEditable(!1),t&&ce(s)&&m.dispatchCommand(re,s),l&&l.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:s}})),r&&(0,a.KT)(r)}}}function Jh(e){var t=e.closest("div.lexical-wrapper");if(t){var n=e.closest("form"),r=t.id;if(r&&"true"!==e.getAttribute("data-registered")){var l=e.hasAttribute("data-annotate-only"),s=e.hasAttribute("data-display-only");e.setAttribute("data-registered","true"),Mh&&Mh()[r]&&af(r),Zh()[r]=!0;var c=e.getAttribute("data-editable"),d=Boolean("false"!==c),u=e.getAttribute("data-max-height"),p=e.innerHTML.trim(),g=[i.$4,{replace:i.Ey,with:function(e){return new i.$4(e.__text,e.__key)}},Pp,Mp,Na,Bl,pt,bo,ko,ro,vt,fl,Bg,Wg,vi,i.mx,ui,sl,ri,Et,At,Dn,Wn,ct,Zn,os,w];d||g.push(fc),g.push(_c,Lo);var m=(0,i.ie)({namespace:r,theme:structuredClone(o),onError:console.error,nodes:g,editable:!0,editorType:"survey-question"});if(d?t.addEventListener("focusin",ue,!0):t.addEventListener((0,a.CN)()?"touchstart":"mousedown",ue,!0),m.setRootElement(e),Ih[r])for(;Ih[r].length;){var h=Ih[r].pop();h&&h()}if(p.length>=1?m.update((function(){var e=(new DOMParser).parseFromString(p,"text/html"),t=Yo(m,e).filter((function(e){return(0,i.ff)(e)||(0,i.Cy)(e)})),o=(0,i.Ni)();o&&o.append.apply(o,t),n&&n.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:r}}))}),{discrete:!0}):n&&n.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:r}})),ge(r,m),Ih[r]=[],u&&!d&&Ih[r].push(vc(m)),d&&Ih[r].push(tu(m)),d?Ih[r].push(Sr(m)):Ih[r].push(Ar(m)),d?Ih[r].push(Sn(m)):Ih[r].push(An(m)),d?Ih[r].push(Nl(m)):Ih[r].push(Ll(m)),d&&Ih[r].push(ni(m)),d&&Ih[r].push(Yl(m)),d?Ih[r].push(gm(m)):Ih[r].push(mm(m)),d&&Ih[r].push($p(m)),d&&Ih[r].push(lp(m)),d&&Ih[r].push(Pm(m,ch)),d?Ih[r].push(ao(m)):Ih[r].push(io(m)),d?Ih[r].push(Ju(m)):Ih[r].push(Qu(m)),d&&Ih[r].push(Ye(m,{min:1,max:1e3,showCounter:!0})),d&&Ih[r].push(Dc(m)),d&&Ih[r].push(vs(m)),d&&Ih[r].push(hc(m)),d&&Ih[r].push(nu()),d||s||Ih[r].push(Fu(m,l)),!d){var f=new URL(window.location.href),b=f.searchParams.get("scroll_to_node"),v=f.searchParams.get("namespace"),y=f.searchParams.get("start"),x=parseInt(y||""),_=f.searchParams.get("end"),E=parseInt(_||""),k=f.searchParams.get("content");"true"===b&&Number.isInteger(x)&&Number.isInteger(E)&&k&&k.length&&v===m._config.namespace&&m.dispatchCommand(Hc,{start:x,end:E,content:k})}d&&Ua(m),t&&(0,a.KT)(t)}}}function Uh(e){var t=e.closest("div.lexical-wrapper");if(t){var n=t.id;if(n&&"true"!==e.getAttribute("data-registered")){var r=e.hasAttribute("data-annotate-only"),l=e.hasAttribute("data-display-only");e.setAttribute("data-registered","true"),Mh&&Mh()[n]&&af(n),Zh()[n]=!0;var s=e.getAttribute("data-editable"),c=Boolean("false"!==s),d=e.getAttribute("data-max-height"),u=e.innerHTML.trim(),p=[i.$4,{replace:i.Ey,with:function(e){return new i.$4(e.__text,e.__key)}},Pp,Mp,Na,Bl,vt,fl,Bg,Wg,vi,i.mx,ui,sl,ri,Et,At,Wn,Dn,Zn,os,w];c||p.push(fc),p.push(_c,Lo);var g=(0,i.ie)({namespace:n,theme:structuredClone(o),onError:console.error,nodes:p,editable:!0,editorType:"survey-option"});if(c?t.addEventListener("focusin",ue,!0):t.addEventListener((0,a.CN)()?"touchstart":"mousedown",ue,!0),g.setRootElement(e),Ih[n])for(;Ih[n].length;){var m=Ih[n].pop();m&&m()}if(u.length>=1&&g.update((function(){var e=(new DOMParser).parseFromString(u,"text/html"),t=Yo(g,e).filter((function(e){return(0,i.ff)(e)||(0,i.Cy)(e)})),n=(0,i.Ni)();n&&n.append.apply(n,t)}),void 0),Ih[n]=[],d&&!c&&Ih[n].push(vc(g)),c&&Ih[n].push(tu(g)),c?Ih[n].push(Sr(g)):Ih[n].push(Ar(g)),c?Ih[n].push(Sn(g)):Ih[n].push(An(g)),c?Ih[n].push(Nl(g)):Ih[n].push(Ll(g)),c&&Ih[n].push(ni(g)),c&&Ih[n].push(Yl(g)),c?Ih[n].push(gm(g)):Ih[n].push(mm(g)),c&&Ih[n].push($p(g)),c&&Ih[n].push(lp(g)),c&&Ih[n].push(Pm(g,ch)),c?Ih[n].push(ao(g)):Ih[n].push(io(g)),c?Ih[n].push(Ju(g)):Ih[n].push(Qu(g)),c&&Ih[n].push(Ye(g,{min:1,max:1e3,showCounter:!0})),c&&Ih[n].push(Dc(g)),c&&Ih[n].push(vs(g)),c&&Ih[n].push(hc(g)),c&&Ih[n].push(nu()),c||l||Ih[n].push(Fu(g,r)),c&&Ua(g),ge(n,g),!c){var h=new URL(window.location.href),f=h.searchParams.get("scroll_to_node"),b=h.searchParams.get("namespace"),v=h.searchParams.get("start"),y=parseInt(v||""),x=h.searchParams.get("end"),_=parseInt(x||""),E=h.searchParams.get("content");"true"===f&&Number.isInteger(y)&&Number.isInteger(_)&&E&&E.length&&b===g._config.namespace&&g.dispatchCommand(Hc,{start:y,end:_,content:E})}t&&(0,a.KT)(t)}}}function Vh(e){var t=e.closest("div.lexical-wrapper");if(t){var n=e.closest("form"),r=t.id;if(r&&"true"!==e.getAttribute("data-registered")){var l=e.hasAttribute("data-annotate-only"),s=e.hasAttribute("data-display-only");e.setAttribute("data-registered","true"),Mh&&Mh()[r]&&af(r),Zh()[r]=!0;var c=e.getAttribute("data-editable"),d=Boolean("false"!==c),u=e.getAttribute("data-max-height"),p=e.innerHTML.trim(),g=[i.$4,{replace:i.Ey,with:function(e){return new i.$4(e.__text,e.__key)}},Pp,Mp,Na,Bl,pt,bo,ko,ro,vt,fl,Bg,Wg,vi,i.mx,ui,sl,ri,Et,At,Dn,Wn,ct,Zn,os,w];d||g.push(fc),g.push(_c,Lo);var m=(0,i.ie)({namespace:r,theme:structuredClone(o),onError:console.error,nodes:g,editable:!0,editorType:"short-blog"});if(d?t.addEventListener("focusin",ue,!0):t.addEventListener((0,a.CN)()?"touchstart":"mousedown",ue,!0),m.setRootElement(e),Ih[r])for(;Ih[r].length;){var h=Ih[r].pop();h&&h()}if(p.length>=1?m.update((function(){var e=(new DOMParser).parseFromString(p,"text/html"),t=Yo(m,e).filter((function(e){return(0,i.ff)(e)||(0,i.Cy)(e)})),o=(0,i.Ni)();o&&o.append.apply(o,t),n&&n.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:r}}))}),{discrete:!0}):n&&n.dispatchEvent(new CustomEvent("lexical_state_registered",{detail:{id:r}})),ge(r,m),Ih[r]=[],u&&!d&&Ih[r].push(vc(m)),d&&Ih[r].push(tu(m)),d?Ih[r].push(Sr(m)):Ih[r].push(Ar(m)),d?Ih[r].push(Sn(m)):Ih[r].push(An(m)),d?Ih[r].push(Nl(m)):Ih[r].push(Ll(m)),d&&Ih[r].push(ni(m)),d&&Ih[r].push(Yl(m)),d?Ih[r].push(gm(m)):Ih[r].push(mm(m)),d&&Ih[r].push($p(m)),d&&Ih[r].push(lp(m)),d&&Ih[r].push(Pm(m,ch)),d?Ih[r].push(ao(m)):Ih[r].push(io(m)),d?Ih[r].push(Ju(m)):Ih[r].push(Qu(m)),d&&Ih[r].push(Ye(m,{min:1,max:1e3,showCounter:!0})),d&&Ih[r].push(Dc(m)),d&&Ih[r].push(vs(m)),d&&Ih[r].push(hc(m)),d||s||Ih[r].push(Fu(m,l)),!d){var f=new URL(window.location.href),b=f.searchParams.get("scroll_to_node"),v=f.searchParams.get("namespace"),y=f.searchParams.get("start"),x=parseInt(y||""),_=f.searchParams.get("end"),E=parseInt(_||""),k=f.searchParams.get("content");"true"===b&&Number.isInteger(x)&&Number.isInteger(E)&&k&&k.length&&v===m._config.namespace&&m.dispatchCommand(Hc,{start:x,end:E,content:k})}d&&Ua(m),t&&(0,a.KT)(t)}}}function Gh(e){var t=e.closest("div.lexical-wrapper");if(t){var n=t.id;if(n&&"true"!==e.getAttribute("data-registered")){var r=e.hasAttribute("data-annotate-only"),l=e.hasAttribute("data-display-only");e.setAttribute("data-registered","true"),Mh&&Mh()[n]&&af(n),Zh()[n]=!0;var s=e.getAttribute("data-editable"),c=Boolean("false"!==s),d=(e.innerText.trim(),e.innerHTML.trim()),u=(0,i.ie)({namespace:n,theme:structuredClone(o),onError:console.error,nodes:[i.$4,{replace:i.Ey,with:function(e){return new i.$4(e.__text,e.__key)}},Pp,Mp,Na,Bl,vt,fl,Bg,Wg,vi,i.mx,ui,sl,ri,Et,At,Wn,Dn,os,w],editable:!0,editorType:"range-description"});if(c?t.addEventListener("focusin",ue,!0):t.addEventListener((0,a.CN)()?"touchstart":"mousedown",ue,!0),u.setRootElement(e),Ih[n])for(;Ih[n].length;){var p=Ih[n].pop();p&&p()}if(d.length>=1&&u.update((function(){var e=(new DOMParser).parseFromString(d,"text/html"),t=Yo(u,e).filter((function(e){return(0,i.ff)(e)||(0,i.Cy)(e)})),n=(0,i.Ni)();n&&n.append.apply(n,t)}),void 0),Ih[n]=[],c&&Ih[n].push(tu(u)),c?Ih[n].push(Sr(u)):Ih[n].push(Ar(u)),c?Ih[n].push(Sn(u)):Ih[n].push(An(u)),c?Ih[n].push(Nl(u)):Ih[n].push(Ll(u)),c&&Ih[n].push(ni(u)),c&&Ih[n].push(Yl(u)),c?Ih[n].push(gm(u)):Ih[n].push(mm(u)),c&&Ih[n].push($p(u)),c&&Ih[n].push(lp(u)),c&&Ih[n].push(Pm(u,ch)),c&&Ih[n].push(ao(u)),c||l||Ih[n].push(Fu(u,r)),c?Ih[n].push(vs(u)):Ih[n].push(io(u)),c?Ih[n].push(Ju(u)):Ih[n].push(Qu(u)),c&&Ih[n].push(Ye(u,{min:1,max:1e3,showCounter:!0})),c&&Ih[n].push(nu()),c&&Ua(u),ge(n,u),!c){var g=new URL(window.location.href),m=g.searchParams.get("scroll_to_node"),h=g.searchParams.get("namespace"),f=g.searchParams.get("start"),b=parseInt(f||""),v=g.searchParams.get("end"),y=parseInt(v||""),x=g.searchParams.get("content");"true"===m&&Number.isInteger(b)&&Number.isInteger(y)&&x&&x.length&&h===u._config.namespace&&u.dispatchCommand(Hc,{start:b,end:y,content:x})}t&&(0,a.KT)(t)}}}function Xh(){return Uh}function Yh(){return Jh}function Zh(){return Bh}function $h(e){var t=this.id;t&&(af(t),this.remove())}function Qh(e){if(Mh){var t=Mh()[e];if(t){var n=t.getEditorState().toJSON();if(n)return n}}return null}function ef(e,t){if(Mh){var n=Mh()[e];if(n){var o=n.parseEditorState(t);n.setEditorState(o)}}}function tf(e){var t=this,n=e.detail.elt;if(n){var o=Boolean("FORM"===n.nodeName),a=e.detail.parameters,i=e.detail.headers;if("string"==typeof e.detail.verb&&"object"==typeof a&&"object"==typeof i){var r=Boolean("POST"===e.detail.verb.toUpperCase()||"PUT"===e.detail.verb.toUpperCase());o&&r&&Array.from(n.querySelectorAll("div.lexical-wrapper")).forEach((function(e){return Nh(t,void 0,void 0,(function(){var t,n;return Lh(this,(function(o){return(t=e.id)&&!a[t]&&(n=Qh(t))&&(a[t]=JSON.stringify(n)),[2]}))}))}))}}}function nf(e){e.stopPropagation()}function of(e){var t=Array.from(e.querySelectorAll('div[data-rich-text-editor][data-type="full"]')),n=Array.from(e.querySelectorAll('div[data-rich-text-editor][data-type="comment"]')),o=Array.from(e.querySelectorAll('div[data-rich-text-editor][data-type="text-only"]')),a=Array.from(e.querySelectorAll('div[data-rich-text-editor][data-type="text-with-links"]')),i=Array.from(e.querySelectorAll('div[data-rich-text-editor][data-type="annotation"]')),r=Array.from(e.querySelectorAll('div[data-rich-text-editor][data-type="text-block-elements"]')),l=Array.from(e.querySelectorAll('div[data-rich-text-editor][data-type="survey-question"]')),s=Array.from(e.querySelectorAll('div[data-rich-text-editor][data-type="survey-short-blog"]')),c=Array.from(e.querySelectorAll('div[data-rich-text-editor][data-type="survey-option"]')),d=Array.from(e.querySelectorAll('div[data-rich-text-editor][data-type="range-description"]'));(t.length||n.length||o.length||a.length||r.length||l.length||c.length||s.length||d.length)&&(t.forEach((function(e){e.addEventListener("drag",nf)})),l.forEach((function(e){e.addEventListener("drag",nf)})),c.forEach((function(e){e.addEventListener("drag",nf)})),s.forEach((function(e){e.addEventListener("drag",nf)})),d.forEach((function(e){e.addEventListener("drag",nf)})),Mh=pe,Oh=jc,t.forEach((function(e,t){return Ph(e)})),n.forEach((function(e,t){return Fh(e)})),o.forEach((function(e,t){return Hh(e)})),a.forEach((function(e,t){return qh(e)})),i.forEach((function(e,t){return Kh(e)})),r.forEach((function(e,t){return Wh(e)})),l.forEach((function(e){return Jh(e)})),c.forEach((function(e){return Uh(e)})),s.forEach((function(e){return Vh(e)})),d.forEach((function(e){return Gh(e)})),l.concat(c).concat(s).concat(d).forEach((function(e){var t=e.closest("div.lexical-wrapper");t&&t.addEventListener("delete-lexical-instance",$h)}))),document.addEventListener("htmx:configRequest",tf)}function af(e){if(Mh){var t=Mh(),n=Ih[e];se()===e&&ce(""),n&&(n.forEach((function(e){return e()})),delete Ih[e]),t[e]&&delete t[e],Zh()[e]&&delete Zh()[e],Bh[e]&&delete Bh[e]}}function rf(){if(Mh){var e=Mh();Object.values(e).forEach((function(e){Oh&&e.dispatchCommand(Oh,void 0)}))}}function lf(e){e.querySelectorAll("div.lexical-wrapper").forEach((function(e){"true"===e.getAttribute("data-current")&&ce(""),af(e.id)}))}function sf(e){return Nh(this,void 0,void 0,(function(){var t;return Lh(this,(function(n){return(t=pe()[e])?[2,new Promise((function(e,n){t.update((function(){(0,i.zl)(_c).forEach((function(e){return e.remove()})),(0,i.zl)(Lo).forEach((function(e){return e.remove()}));var e=(0,i.Ni)();if(e)for(var t=e.getChildren(),n=t.length-1;n>-1;n--)(0,i.ff)(t[n])&&0===t[n].getTextContent().trim().length&&t[n].remove()}),{discrete:!0}),t.update((function(){var n=gh(sh),o=Zo(t);e({markdown:n,html:o})}))}))]:[2,t]}))}))}window.getCommentImplementation=Rh,window.convertNodesToMarkdownString=zh,window.getEditorState=Qh,window.setEditorState=ef,window.clearEditor=af,window.onLexicalThemeChange=rf,window.unloadLexicalEditorsBeforeSwap=lf,window.editorToChatMessage=sf;var cf={};function df(e,t){var n=pe()[e],o=!1,a=!1,r=!1;if(n){n.update((function(){var e=(new DOMParser).parseFromString(t,"text/html"),l=Yo(n,e).filter((function(e){return(0,i.ff)(e)||(0,i.Cy)(e)})),s=(0,i.Ni)();s&&(s.clear(),s.append.apply(s,l),s.selectEnd()),a=(0,i.zl)(ko).length>=1,o=(0,i.zl)(bo).length>=1,r=(0,i.zl)(ro).length>=1,n.dispatchCommand(qe,void 0),n.setEditable(!1)}));var l=document.getElementById(e);l&&(cf[e]&&clearTimeout(cf[e]),cf[e]=setTimeout((function(){document.dispatchEvent(new CustomEvent("NEW_CONTENT_LOADED",{detail:{el:l}})),o&&document.dispatchEvent(new CustomEvent("EMBED_TWITTER")),a&&document.dispatchEvent(new CustomEvent("EMBED_TIKTOK")),r&&document.dispatchEvent(new CustomEvent("EMBED_INSTAGRAM")),delete cf[e]}),500))}}window.updateLexicalInstanceWithHtml=df}}]);