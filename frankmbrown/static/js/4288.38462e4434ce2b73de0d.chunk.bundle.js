"use strict";(self.webpackChunkbundled_client_code=self.webpackChunkbundled_client_code||[]).push([[4288],{24288:function(e,t,r){r.r(t),r.d(t,{MAP_STYLES:function(){return s},editGeographyStyles:function(){return q},removeGoogleMaps:function(){return I},setGoogleMaps:function(){return D}});var n,o=r(60429),l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)},a=function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function a(e){try{s(n.next(e))}catch(e){l(e)}}function i(e){try{s(n.throw(e))}catch(e){l(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,i)}s((n=n.apply(e,t||[])).next())}))},i=function(e,t){var r,n,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,i[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s={dark:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}],light:[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}]},u={},c={center:{lat:39.123256,lng:-98.929769},bounds:{north:51.900902,south:24.623051,east:-65.157233,west:-127.91787},zoom:0},d=function(e){return Boolean(Number(e)>=-90&&Number(e)<=90)},p=function(e){return Boolean(Number(e)>=-180&&Number(e)<=180)},y=function(e){return Boolean("number"==typeof parseFloat(e)&&!isNaN(parseFloat(e)))},f=function(e){try{var t;if(t="string"==typeof e?JSON.parse(e):e,y(t.north)&&y(t.west)&&y(t.east)&&y(t.south))return Boolean(d(t.north)&&d(t.south)&&p(t.east)&&p(t.west));throw new Error("INVALID BOUNDS")}catch(e){return!1}},g=function(e){try{var t;if(t="string"==typeof e?JSON.parse(e):e,y(t.lat)&&y(t.lng))return Boolean(d(t.lat)&&p(t.lng));throw new Error("INVALID CENTER")}catch(e){return!1}};function m(e){var t=l({},c.bounds),r=l({},c.center),n=e.closest("section");if(!n)return{bounds:t,center:r};var o=Array.from(n.querySelectorAll('span[data-show-geography="true"]'));if(o.length){for(var a=void 0,i=void 0,s=0,u=0;u<o.length;u++){var d=o[u].getAttribute("data-type");if("geojson"===d){var p=o[u].getAttribute("data-center"),y=o[u].getAttribute("data-bounds");if(f(String(y))){var m=JSON.parse(String(y));a=a?{north:Math.max(a.north,Number(m.north)),south:Math.min(a.south,Number(m.south)),east:Math.max(a.east,Number(m.east)),west:Math.min(a.west,Number(m.west))}:{north:Number(m.north),south:Number(m.south),east:Number(m.east),west:Number(m.west)}}if(g(String(p))){var v=JSON.parse(String(p));i=i?{lat:i.lat+Number(v.lat),lng:i.lng+Number(v.lng)}:{lat:Number(v.lat),lng:Number(v.lng)},s+=1}}else"marker"===d&&(p=o[u].getAttribute("data-center"),g(String(p))&&(v=JSON.parse(String(p)),i=i?{lat:i.lat+Number(v.lat),lng:i.lng+Number(v.lng)}:{lat:Number(v.lat),lng:Number(v.lng)},s+=1))}return i={lng:i.lng/s,lat:i.lat/s},f(String(a))&&g(String(i))?{bounds:a,center:i}:{bounds:t,center:r}}return{bounds:t,center:r}}var v=function(){var e,t=(null===(e=document.querySelector("html"))||void 0===e?void 0:e.getAttribute("data-mode"))||"dark";return"light"!==t&&"dark"!==t?"dark":t},b=/^#[0-9A-F]{6}$/i,h=function(){var e=document.getElementById("FILL_COLOR_MAP");return e&&b.test(e.value)?e.value:"#f3e5f5"},w=function(){var e=document.getElementById("STROKE_COLOR_MAP");return e&&b.test(e.value)?e.value:"#ab47bc"},T=function(e){var t,r=null==e?void 0:e.getMap();if(r){var n=null==r?void 0:r.getDiv();n&&(t=n)}return t},A='<div class="delete-geometry-popup">\n  <p class="body2 fw-regular block text-align-center" style="max-width: 250px;">\n    Are you sure you want to delete this geometry input?\n  </p>\n  <div class="flex-row align-center justify-between mt-1" style="max-width: 250px;">\n    <button data-close-map-window aria-label="Close Popup" type="button" class="warning outlined small">\n      CLOSE WINDOW\n    </button>\n    <button data-delete-geometry aria-label="Delete Geometry" type="button" class="success outlined small">\n      CONFIRM\n    </button>\n  </div>\n</div>';function k(e){var t=e.latLng;if(this.uid){var r=function(){var e=T(this);if(e){var t=e.id;if(t){var r=u[t];this.setMap(null);var n=document.getElementById(this.uid);n&&n.remove(),delete r.polygons[this.uid]}}}.bind(this);n&&n.close(),(n=new google.maps.InfoWindow({content:A,position:t,maxWidth:400})).setMap(null==this?void 0:this.getMap()),setTimeout((function(){var e=document.querySelector("button[data-close-map-window]"),t=document.querySelector("button[data-delete-geometry]");e&&e.addEventListener("click",(function(t){null==n||n.close(),e.remove();var r=document.querySelector("button[data-delete-geometry]");r&&r.remove()})),t&&t.addEventListener("click",(function(e){n.close(),t.remove();var o=document.querySelector("button[data-close-map-window]");o&&o.remove(),r()}))}),200)}}function S(){var e,t,r=this.uid;if(r){var n=document.getElementById(r);if(n){var o=Number(this.radius),l={lat:null===(e=null==this?void 0:this.center)||void 0===e?void 0:e.lat(),lng:null===(t=null==this?void 0:this.center)||void 0===t?void 0:t.lng()};n.value=JSON.stringify({r:o,c:l}),n.setAttribute("value",n.value),n.dispatchEvent(new Event("change"))}}}function O(){var e=this.uid;if(e){var t=document.getElementById(e);if(t){var r=[];this.forEach((function(e){return r.push([e.lng(),e.lat()])})),r.push(r[0]),t.value=JSON.stringify(r),t.setAttribute("value",t.value)}}}function E(e){var t,r,n,o,l,a;if("circle"===e.type){var i=e.overlay;if(!i)return;if(!(f=T(i)))return void i.setMap(null);if(!(m=f.id)||!u[m]||"circle"!==(null===(t=u[m])||void 0===t?void 0:t.type))return void i.setMap(null);var s=u[m].max;if(!(v=u[m].inputDiv))return void i.setMap(null);if(s&&Array.from(v.children).length>=s)return(b=u[m].snackbarEl)&&(null==b||b.setAttribute("aria-hidden","false")),void i.setMap(null);var c={lat:null===(r=null==i?void 0:i.center)||void 0===r?void 0:r.lat(),lng:null===(n=null==i?void 0:i.center)||void 0===n?void 0:n.lng()},d=Number(i.radius);if(!g(c)||!d)return void i.setMap(null);var p="circle_".concat(Math.random().toString().slice(3));i.uid=p,u[m].polygons[p]=i;var y=document.createElement("input");y.setAttribute("hidden",""),y.setAttribute("id",p),y.setAttribute("name",p),y.value=JSON.stringify({r:d,c:c}),y.setAttribute("value",y.value),null===(o=u[m].inputDiv)||void 0===o||o.appendChild(y),y.dispatchEvent(new Event("change")),google.maps.event.addListener(i,"center_changed",S),google.maps.event.addListener(i,"radius_changed",S),google.maps.event.addListener(i,"dblclick",k)}else if("polygon"===e.type){var f,m,v,b,h=e.overlay;if(!(f=T(h)))return void h.setMap(null);if(!(m=f.id)||!u[m]||"polygon"!==(null===(l=u[m])||void 0===l?void 0:l.type))return void h.setMap(null);if(s=u[m].max,!(v=u[m].inputDiv))return void h.setMap(null);if(s&&Array.from(v.children).length>=s)return(b=u[m].snackbarEl)&&(null==b||b.setAttribute("aria-hidden","false")),void h.setMap(null);var w=h.getPath();if(!w)return void h.setMap(null);var A=[];if(w.forEach((function(e){return A.push([e.lng(),e.lat()])})),A.push(A[0]),!Array.isArray(A))return void h.setMap(null);p="polygon_".concat(Math.random().toString().slice(3)),w.uid=p,h.uid=p,u[m].polygons[p]=h;var E=document.createElement("input");E.setAttribute("hidden",""),E.setAttribute("id",p),E.setAttribute("name",p),E.value=JSON.stringify(A),E.setAttribute("value",E.value),null===(a=u[m].inputDiv)||void 0===a||a.appendChild(E),E.dispatchEvent(new Event("change")),google.maps.event.addListener(w,"insert_at",O),google.maps.event.addListener(w,"set_at",O),google.maps.event.addListener(h,"dblclick",k)}}function x(e){Object.values(u).forEach((function(t){t.map&&(t.map.setOptions({styles:"light"===e?s.light:s.dark}),t.map.data.setStyle({fillColor:h(),fillOpacity:.3,strokeColor:w(),strokeOpacity:1,strokeWeight:3})),(t.drawingManager&&"circle"===t.type||"polygon"===t.type)&&t.drawingManager.setOptions(_(t.type)),t.polygons&&Object.values(t.polygons).forEach((function(e){e.setOptions({fillColor:h(),fillOpacity:.3,strokeColor:w(),strokeOpacity:1,strokeWeight:3})}))}))}function N(e){x(v())}function M(e){var t;return a(this,void 0,void 0,(function(){var r,n,o=this;return i(this,(function(l){return(r=null===(t=null==e?void 0:e.el)||void 0===t?void 0:t.closest("section"))&&(n=Array.from(r.querySelectorAll('span[data-show-geography="true"]')),Array.isArray(n)&&n.forEach((function(t){return a(o,void 0,void 0,(function(){var r,n,o;return i(this,(function(l){return r=t.getAttribute("data-type"),n=t.getAttribute("data-bounds"),t.getAttribute("data-center"),"geojson"===r&&(o=t.getAttribute("data-geojson"))&&"string"==typeof o&&e.map.data.loadGeoJson(o),n&&f(n)&&e.map.fitBounds(JSON.parse(n)),[2]}))}))}))),[2]}))}))}function C(e){var t,r,n,o,l,s;return a(this,void 0,void 0,(function(){var a,c,d,p,y,f,g,v,b,h,w,T,A,k,S,O,E;return i(this,(function(i){switch(i.label){case 0:return a=e.detail,c=a.from,d=a.to,p=a.wrapper,(y=null==p?void 0:p.nextElementSibling)&&y.children?(f=y.closest("section"),(g=Array.from(y.children))[c]&&g[d]&&f?(v=f.querySelector('div[id^="google_map"]'),b=f.querySelector('div[id^="draw_google_map"]'),h=f.querySelector('div[id^="circle_google_map"]'),w=v||b||h,T=Array.from(null===(t=g[c])||void 0===t?void 0:t.querySelectorAll('span[data-show-geography="true"]')),A=Array.from(null===(r=g[d])||void 0===r?void 0:r.querySelectorAll('span[data-show-geography="false"]')),Array.isArray(T)&&w&&(T.forEach((function(e){return e.setAttribute("data-show-geography","false")})),function(e){var t,r,n,o=e.id,l=u[o];l&&l.map&&(null===(r=null===(t=l.map)||void 0===t?void 0:t.data)||void 0===r||r.forEach((function(e){return l.map.data.remove(e)})),(null===(n=null==l?void 0:l.markers)||void 0===n?void 0:n.length)&&(l.markers.forEach((function(e){return e.setMap(null)})),l.markers=[]))}(w)),Array.isArray(A)&&w?(A.forEach((function(e){return e.setAttribute("data-show-geography","true")})),k=m(w),S=k.bounds,O=k.center,E=w.id,u[E]&&u[E].map?(null===(o=null===(n=u[E])||void 0===n?void 0:n.map)||void 0===o||o.fitBounds(S),null===(s=null===(l=u[E])||void 0===l?void 0:l.map)||void 0===s||s.setCenter(O),[4,M(u[E])]):[3,2]):[3,2]):[3,2]):[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))}function _(e){return{drawingMode:"circle"===e?google.maps.drawing.OverlayType.CIRCLE:google.maps.drawing.OverlayType.POLYGON,drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_LEFT,drawingModes:["circle"===e?google.maps.drawing.OverlayType.CIRCLE:google.maps.drawing.OverlayType.POLYGON]},polygonOptions:Boolean("polygon"===e)?{fillColor:h(),fillOpacity:.5,strokeColor:w(),strokeOpacity:1,strokeWeight:3,editable:!0,clickable:!0,zIndex:2}:{},circleOptions:Boolean("circle"===e)?{fillColor:h(),fillOpacity:.5,strokeColor:w(),strokeOpacity:1,strokeWeight:3,editable:!0,clickable:!0,zIndex:2}:{}}}var L=function(e,t,r){var n={zoom:4,center:t||c.center,fullscreenControl:!0,streetViewControl:!1,maxZoom:18,minZoom:0,zoomControl:!0,mapTypeControl:!1,mapTypeControlOptions:{mapTypeIds:["ROADMAP"]},disableDoubleClickZoom:!0};return r&&(n.restriction={latLngBounds:r}),n},B=function(e){var t,r,n=e.getAttribute("data-max-input");y(n)&&(t=Number(n));var o,l=e.getAttribute("data-bounds");f(l)&&(r=JSON.parse(l));var a,i=e.getAttribute("data-center");g(i)&&(o=JSON.parse(i));var s,u=e.getAttribute("data-inputs");if(u){var c=document.querySelector(u);c&&(a=c)}var d=e.getAttribute("data-snackbar-el");if(d){var p=document.querySelector(d);p&&(s=p)}return{center:o,bounds:r,max:t,inputDiv:a,snackbarEl:s}};function D(e){return a(this,void 0,void 0,(function(){var t,r,n,o,l,a,s,d,p,y,f,g,b,h,w,T,A,k,S,O,D;return i(this,(function(i){switch(i.label){case 0:return t=Array.from(e.querySelectorAll('div[id^="google_map"]')),r=Array.from(e.querySelectorAll('div[id^="draw_google_map"]')),n=Array.from(e.querySelectorAll('div[id^="circle_google_map"]')),t.length||r.length||n.length?[4,google.maps.importLibrary("maps")]:[3,8];case 1:return o=i.sent().Map,r.length||n.length?[4,google.maps.importLibrary("drawing")]:[3,3];case 2:l=i.sent(),i.label=3;case 3:if(!t.length)return[3,7];p=0,i.label=4;case 4:return p<t.length?(y=t[p].id,void 0!==u[y]?[3,6]:(a=m(t[p]),h=a.bounds,g=a.center,s={map:void 0,el:t[p],bounds:h,markers:[],type:"show"},u[y]=s,(A=new o(t[p],L(y,g))).fitBounds(h),A.setCenter(g),u[y].map=A,[4,M(u[y])])):[3,7];case 5:i.sent(),i.label=6;case 6:return p++,[3,4];case 7:if(r.length&&l)for(p=0;p<r.length;p++)if(y=r[p].id,void 0===u[y]){if(d=B(r[p]),g=d.center,b=d.max,h=d.bounds,w=d.inputDiv,T=d.snackbarEl,!w)return[2];A=new o(r[p],L(y,g,h)),k=new l.DrawingManager(_("polygon")),h?A.fitBounds(h):A.fitBounds(c.bounds),g?A.setCenter(g):A.setCenter(c.center),k.setMap(A),google.maps.event.addListener(k,"overlaycomplete",E),S={el:r[p],map:A,type:"polygon",polygons:{},max:b,drawingManager:k,inputDiv:w,snackbarEl:T},u[y]=S,k.setDrawingMode("polygon")}if(n.length&&l)for(p=0;p<n.length;p++)if(y=n[p].id,void 0===u[y]){if(f=B(n[p]),g=f.center,b=f.max,h=f.bounds,w=f.inputDiv,T=f.snackbarEl,!w)return[2];A=new o(n[p],L(y,g,h)),k=new l.DrawingManager(_("circle")),h?A.fitBounds(h):A.fitBounds(c.bounds),g?A.setCenter(g):A.setCenter(c.center),k.setMap(A),google.maps.event.addListener(k,"overlaycomplete",E),S={el:n[p],map:A,type:"circle",polygons:{},max:b,drawingManager:k,inputDiv:w,snackbarEl:T},u[y]=S,k.setDrawingMode("circle")}x(v()),(O=document.querySelector("main#PAGE"))&&O.addEventListener("tabChange",C),i.label=8;case 8:return(D=document.getElementById("light-mode-dark-mode"))&&D.addEventListener("click",N),[2]}}))}))}function I(e){Array.from(e.querySelectorAll('div[id^="google_map"], div[id^="draw_google_map"], div[id^="circle_google_map"]')).forEach((function(e){(0,o.bI)(e),delete u[e.id]}))}function q(){x(v())}window.setGoogleMaps=D,window.removeGoogleMaps=I,window.editGeographyStyles=q}}]);