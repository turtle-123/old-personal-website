<%# 
PARTIAL ROUTE: pages/jupyter-notebooks.ejs
PARTIAL DESCRIPTION: Description...
LOCAL VARIABLES:
----------------------------------
- locals.fullPageRequest
- locals.pageRequest
- locals.auth>
- locals.pageObj
%>
<%if(locals.fullPageRequest||locals.pageRequest){%>
  
  <h1 class="page-title">Frank's Jupyter Notebooks</h1>

  <section id="about-page" class="mt-4">
    <h2 class="bold bb-thick h2">
      <a href="#about-page" class="same-page bold">About This Page</a>
    </h2>
    <p class="mt-2">
      Below is a list of jupyter notebooks that I created using my 
      <a class="primary link" hx-get="/projects/markdown-to-html" href="/projects/markdown-to-html" hx-target="#PAGE" hx-indicator="#page-transition-progress">markdown to HTML system</a>
      and 
      <a class="secondary link" target="_blank" href="https://highlightjs.org/">highlight.js</a>
    . I created this to keep track of notes on machine learning primarily - it is much quicker to upload a jupyter notebook, convert it to html, and edit the resulting html a little than to copy all the output of each cell in a jupyter notebook, put it into the right format, copy and convert the python code, and copy and convert the markdown.
    </p>
  </section>
  <section id="search-notebooks" class="mt-4">
    <div class="flex-row bb-thick justify-between align-center">
      <h2 class="bold h2">
        <a href="#search-notebooks" class="same-page bold">Search Notebooks</a>
      </h2>
      <button type="button" class="small icon-text text warning" data-hide-show="" data-el="#search-nb-body">
        <svg data-arrow="" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="KeyboardArrowUp"><path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg>
        <span data-hide="">HIDE</span>
        <span data-show="" hidden="">SHOW</span>
      </button>
    </div>
    <div id="search-nb-body">
      <div class="input-group block w-100 mt-1" data-hover="false" data-focus="false" data-error="false" data-blurred="false">
        <label for="search-notebooks-title">Search Notebooks By Title:</label>
        <div class="mt-1 text-input block medium">
          <input 
          type="search" 
          class="icon-after" 
          name="search-notebooks-title" 
          id="search-notebooks-title" 
          placeholder="Search Notebooks by title..." 
          hx-trigger="input changed delay:200ms, search" 
          hx-target="#search-notebooks-title-results" hx-swap="innerHTML" hx-indicator="#sniiin" hx-get="/jupyter-notebooks/search" 
          >
          <svg class="icon-after" focusable="false" inert viewBox="0 0 24 24">
            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z">
            </path>
          </svg>
        </div>
      </div>
      <div id="sniiin" class="flex-row justify-center t-warning htmx-indicator mt-3" role="progressbar" aria-busy="false" aria-label="Searching Jupyter Notebooks...">
        <div class="lds-facebook"><div></div><div></div><div></div></div>
      </div>
      <div id="search-notebooks-title-results" class="mt-3" style="max-height: 300px; overflow-y: auto;">
        <div class="alert info filled medium icon" role="alert">
          <svg viewBox="0 0 460 512" title="searchengin" focusable="false" inert tabindex="-1"><path d="M220.6 130.3l-67.2 28.2V43.2L98.7 233.5l54.7-24.2v130.3l67.2-209.3zm-83.2-96.7l-1.3 4.7-15.2 52.9C80.6 106.7 52 145.8 52 191.5c0 52.3 34.3 95.9 83.4 105.5v53.6C57.5 340.1 0 272.4 0 191.6c0-80.5 59.8-147.2 137.4-158zm311.4 447.2c-11.2 11.2-23.1 12.3-28.6 10.5-5.4-1.8-27.1-19.9-60.4-44.4-33.3-24.6-33.6-35.7-43-56.7-9.4-20.9-30.4-42.6-57.5-52.4l-9.7-14.7c-24.7 16.9-53 26.9-81.3 28.7l2.1-6.6 15.9-49.5c46.5-11.9 80.9-54 80.9-104.2 0-54.5-38.4-102.1-96-107.1V32.3C254.4 37.4 320 106.8 320 191.6c0 33.6-11.2 64.7-29 90.4l14.6 9.6c9.8 27.1 31.5 48 52.4 57.4s32.2 9.7 56.8 43c24.6 33.2 42.7 54.9 44.5 60.3s.7 17.3-10.5 28.5zm-9.9-17.9c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8 8-3.6 8-8z"></path></svg>
          <p class="alert">
            There are currently no search results. Edit the search box above to search for Jupyter Notebooks by title.  
          </p>
        </div>
      </div>
    </div>
    
  </section>


  <%if(locals.auth>=3){%>
    <section id="upload-jupyter-notebook" class="mt-4">
      <div class="flex-row bb-main justify-between align-center">
        <h2 class="bold h2">
          <a href="#upload-jupyter-notebook" class="same-page fw-regular bold">Upload Jupyter Notebook</a>
        </h2>
        <button type="button" class="small icon-text text warning" data-hide-show="" data-el="#hide-upload-nb">
          <svg data-arrow="" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="KeyboardArrowUp"><path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg>
          <span data-hide="">HIDE</span>
          <span data-show="" hidden="">SHOW</span>
        </button>
      </div>
      <div id="hide-upload-nb">
        <form id="upload-jupyter-notebook" class="mt-2" hx-encoding="multipart/form-data" hx-post="/jupyter-notebooks" hx-target="this" hx-swap="afterend" hx-indicator="#ipynb-ind" hx-trigger="submit">
          <div class="input-group block" data-hover="false" data-focus="false" data-error="false" data-blurred="true">
            <label for="jupyter-title">Jupyter Notebook Title:</label>
            <div class="text-input block medium">
                <input 
                type="text" 
                name="jupyter-title" 
                id="jupyter-title" 
                class="medium icon-before mt-1" 
                required=""
                placeholder="Enter the title for the notebook" 
                maxlength="100"
                minlength="4" 
                spellcheck="true" 
                autocapitalize="off"
                >
                <svg class="icon-before" viewBox="0 0 448 512" title="python" focusable="false" inert tabindex="-1"><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"></path></svg>
            </div>
          </div>
          <div class="input-group block mt-1" data-hover="false" data-focus="false" data-error="false" data-blurred="false"> 
            <label for="jupyter-description">Jupyter Description:</label>
            <div class="mt-1 text-input block medium disabled">
                <textarea 
                name="jupyter-description" 
                id="jupyter-description" 
                placeholder="Enter a description for the jupyter notebook..." 
                rows="5" 
                maxlength="500" 
                minlength="10" 
                spellcheck="true"
                autocomplete="off"
                autocapitalize="off"
                ></textarea>
            </div>
            <p class="char-counter" data-input="jupyter-description">
                <span class="min-counter body2" data-val="10" aria-hidden="false">more characters required</span>
                <span class="max-counter body2" data-val="500" aria-hidden="true">Characters Remaining</span>
            </p>
          </div>
          <label for="upload-jupyter-notebook" class="bold mt-1">Upload Jupyter Notebook:</label>
          <input type="file" id="upload-jupyter-notebook" accept=".ipynb" name="upload-jupyter-notebook" class="mt-1 info">

          <label for="jupyter-notebook-image" class="bold mt-2">Jupyter Notebook Image:</label>
          <input data-image-input type="file" id="jupyter-notebook-image" accept="image/*" name="jupyter-notebook-image" class="mt-1 primary">
          <output class="block" for="jupyter-notebook-image"></output>
          
          <div class="flex-row justify-between mt-3">
            <input role="button" value="RESET"  type="reset" aria-label="Reset Form"></input>
            <button type="submit" aria-label="Submit" class="success filled icon-text medium">
              <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>
              SUBMIT
            </button>
          </div>
        </form>
        <div class="flex-row justify-center t-warning htmx-indicator" id="ipynb-ind" role="progressbar" aria-busy="false" aria-label="Posting Jupyter Notebook...">
          <div class="lds-ring"><div></div><div></div><div></div><div></div></div>
        </div>
      </div>
    </section>
  <%}%>

  <section id="jupyter-notebooks" class="mt-4">
      <h2 class="bold bb-thick h2">
        <a href="#jupyter-notebooks" class="same-page bold">Jupyter Notebooks</a>
      </h2>

      <div class="body1 bold mt-1" id="order-by-articles">Order By:</div>
      <div class="mt-1 flex-row justify-start">
        <div class="select">
          <button type="button" role="combobox" aria-haspopup="listbox" aria-controls="order-by-articles-drop" aria-labelledby="order-by-articles" class="select" aria-label="Order By" data-popover data-pelem="#order-by-articles-drop" data-click aria-expanded="false" style="min-width: 150px;">
            <span class="body1"><%=locals?.order_by?.order_by_str%></span>
            <svg focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="ArrowDropDown"><path d="m7 10 5 5 5-5z"></path></svg>
          </button>
          <div tabindex="0" id="order-by-articles-drop" role="listbox" class="select-menu o-xs" data-placement="bottom">
            <input type="text" hidden value="<%=locals?.order_by?.order_by_value%>" name="order-by-select" id="order-by-select" hx-get="<%=locals.path%>" hx-include="this" hx-push-url="true" hx-target="#articles-inner" hx-indicator="#change-art-order-ind">
            <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="<%-Boolean(locals?.order_by?.order_by_value==="date-created-new")%>" data-val="date-created-new">
              Date Created (New)
            </button>
            <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="<%-Boolean(locals?.order_by?.order_by_value==="date-created-old")%>" data-val="date-created-old">
              Date Created (Old) 
            </button>
            <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="<%-Boolean(locals?.order_by?.order_by_value==="num-likes")%>" data-val="num-likes">
              Number of Likes
            </button> 
            <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="<%-Boolean(locals?.order_by?.order_by_value==="num-comments")%>" data-val="num-comments">
              Number of Comments
            </button> 
            <button type="button" tabindex="-1" class="select-option" role="option" aria-selected="<%-Boolean(locals?.order_by?.order_by_value==="num-views")%>" data-val="num-views">
              Number of Views
            </button>
          </div>
        </div>
      </div>

      <div class="flex-row justify-center t-primary htmx-indicator" role="progressbar" id="change-art-order-ind" aria-busy="false" aria-label="Changing Order of Articles">
        <div class="lds-ring"><div></div><div></div><div></div><div></div></div>
      </div>
      
      <div class="mt-1" id="articles-inner">
        <%-locals.pageObj.jupyterNotebooksList%>
      </div>
  </section>

  <div id="likes-tool" role="tooltip" class="tooltip body2" data-placement="bottom">
    Likes
  </div>
  <div id="comments-tool" role="tooltip" class="tooltip body2" data-placement="bottom">
    Comments
  </div>
  <div id="annotations-tool" role="tooltip" class="tooltip body2" data-placement="bottom">
    Annotations
  </div>
  <div id="views-tool" role="tooltip" class="tooltip body2" data-placement="bottom">
    Views
  </div>
  
  <%-include('../partials/pagePartial')%>
<%}%>