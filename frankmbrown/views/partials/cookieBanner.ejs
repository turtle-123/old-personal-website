<%# 
PARTIAL ROUTE: partials/cookieBanner.ejs
PARTIAL DESCRIPTION: Description...
LOCAL VARIABLES:
----------------------------------
- locals.showCookieBanner
- locals.showedBanner!
- locals.showedBanner
%>
<%if(locals.showCookieBanner===true&&locals.showedBanner!==true){%>
  <div  role="alert" id="cookie-banner" aria-live="assertive" class="cookie-banner" aria-hidden="<%=Boolean(locals.showedBanner===false)?'false':'true'%>">
    <svg style="width:2rem;height:2rem;flex-shrink:0!important;fill:var(--button-contrast-text);" focusable="false" inert viewBox="0 0 24 24" tabindex="-1" title="Cookie"><path d="M21.95 10.99c-1.79-.03-3.7-1.95-2.68-4.22-2.98 1-5.77-1.59-5.19-4.56C6.95.71 2 6.58 2 12c0 5.52 4.48 10 10 10 5.89 0 10.54-5.08 9.95-11.01zM8.5 15c-.83 0-1.5-.67-1.5-1.5S7.67 12 8.5 12s1.5.67 1.5 1.5S9.33 15 8.5 15zm2-5C9.67 10 9 9.33 9 8.5S9.67 7 10.5 7s1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5 6c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path></svg>
    <p class="grow-1 body2 mr-1">
      This site uses strictly necessary, preferences, and statistics cookies. 
      By clicking the "Accept" button, you are allowing
      this site to use preferences and statistics cookies. By clicking the "Deny" or "Edit" button, you are denying 
      this site the opportunity to use preferences and statistics cookies. Click "Edit" to edit your cookie preferences and to learn more about how this site uses cookies.
    </p>
    <div class="cookie-prefer-buttons">
      <button 
      type="button" 
      aria-label="Allow Preferences and Statistics Cookies" 
      hx-trigger="click" 
      hx-target="#cookie-banner" 
      hx-swap="outerHTML"
      hx-post="/cookies" 
      hx-include="#cookie-preferences-allow" 
      class="medium filled success"
     
      >
        Accept
      </button>
      <form id="cookie-preferences-allow" hidden>
        <input type="checkbox" name="necessary-cookies-input-2" checked id="necessary-cookies-input-2" hidden/>
        <input type="checkbox" name="preferences-cookies-input-2" checked id="preferences-cookies-input-2" hidden />
        <input type="checkbox" name="statistics-cookies-input-2" checked id="statistics-cookies-input-2" hidden/>
      </form>
      <button 
      type="button" 
      aria-label="Deny Preferences and Statistics Cookies" 
      hx-trigger="click" 
      hx-target="#cookie-banner" 
      hx-swap="outerHTML"
      hx-post="/cookies" 
      hx-include="#cookie-preferences-deny" 
      class="medium filled error"
      >
        Deny
      </button>
      <form id="cookie-preferences-deny" hidden>
        <input type="checkbox" name="necessary-cookies-input-3" id="necessary-cookies-input-3" hidden/>
        <input type="checkbox" name="preferences-cookies-input-3" id="preferences-cookies-input-3" hidden />
        <input type="checkbox" name="statistics-cookies-input-3" id="statistics-cookies-input-3" hidden/>
      </form>
      <button 
      type="button" 
      aria-label="Edit Cookie Preferences" 
      hx-trigger="click" 
      hx-target="#cookie-banner" 
      hx-swap="outerHTML"
      hx-post="/cookies" 
      hx-include="#cookie-preferences-deny-navigate" 
      class="medium filled warning"
     
      >
        Edit
      </button>
      <form id="cookie-preferences-deny-navigate" hidden>
        <input type="checkbox" name="necessary-cookies-input-3" id="necessary-cookies-input-4" hidden/>
        <input type="checkbox" name="preferences-cookies-input-3" id="preferences-cookies-input-4" hidden />
        <input type="checkbox" name="statistics-cookies-input-3" id="statistics-cookies-input-4" hidden/>
        <input type="checkbox" name="navigate-to-cookies-page" checked id="navigate-to-cookies-page" hidden />
      </form>
    </div>
  </div>
<%}else if (locals.showedBanner!==true){%>
  <div 
  hidden 
  hx-get="/api/cookie-banner"
  hx-trigger="load delay:350ms"
  hx-target="this"
  hx-swap="outerHTML"
  ></div>
<%}else{%>
  <div hidden aria-hidden="true"></div>
<%}%>